var CRENDER_DEBUG = !1;
function ImagesPreloader() {
	function a() {
		var e = 0,
		f = 0,
		g;
		for (g in c.loadedImages) c.loadedImages[g].complete && e++,
		f++;
		e >= f ? c.endCallback && c.endCallback(c.loadedImages) : (c.processCallback && c.processCallback(Math.floor(e / f * 100)), setTimeout(a, 50))
	}
	var c = this;
	this.curItem = -1;
	this.loadedImages = {};
	this.processCallback = this.endCallback = this.data = null;
	this.load = function(c, f, g) {
		this.data = c;
		this.endCallback = f;
		this.processCallback = g;
		for (c = 0; c < this.data.length; c++) f = this.data[c],
		g = new Image,
		g.src = f.src,
		this.loadedImages[f.name] = g;
		a()
	}
}
var Utils = {
	touchScreen: "ontouchstart" in window,
	globalScale: 1,
	setCookie: function(a, c) {
		window.localStorage.setItem(a, c)
	},
	getCookie: function(a) {
		return window.localStorage.getItem(a)
	},
	bindEvent: function(a, c, e) {
		a.addEventListener ? a.addEventListener(c, e, !1) : a.attachEvent && a.attachEvent("on" + c, e)
	},
	getObjectLeft: function(a) {
		var c = a.offsetLeft;
		a.offsetParent && (c += Utils.getObjectLeft(a.offsetParent));
		return c
	},
	getObjectTop: function(a) {
		var c = a.offsetTop;
		a.offsetParent && (c += Utils.getObjectTop(a.offsetParent));
		return c
	},
	parseGet: function() {
		var a = {},
		c = new String(window.location),
		e = c.indexOf("?");
		if ( - 1 != e) for (var c = c.substr(e + 1, c.length), e = c.split("&"), f = 0; f < e.length; f++) c = e[f].split("="),
		a[c[0]] = c[1];
		return a
	},
	globalPixelScale: 1,
	getMouseCoord: function(a, c) {
		var e = a || window.event;
		e.touches && (e = e.touches[0]);
		if (!e) return {
			x: 0,
			y: 0
		};
		var f = 0,
		g = 0,
		h = 0,
		k = 0;
		c && (f = Utils.getObjectLeft(c), g = Utils.getObjectTop(c));
		if (e.pageX || e.pageY) h = e.pageX,
		k = e.pageY;
		else if (e.clientX || e.clientY) h = e.clientX + (document.documentElement.scrollLeft || document.body.scrollLeft) - document.documentElement.clientLeft,
		k = e.clientY + (document.documentElement.scrollTop || document.body.scrollTop) - document.documentElement.clientTop;
		return {
			x: h - f,
			y: k - g
		}
	},
	extend: function(a, c) {
		var e = function() {};
		e.prototype = c.prototype;
		a.prototype = new e;
		a.prototype.constructor = a;
		a.superclass = c.prototype
	},
	removeFromArray: function(a, c) {
		for (var e = [], f = 0; f < a.length; f++) a[f] != c && e.push(a[f]);
		return e
	},
	showLoadProgress: function(a) {
		var c = Utils.globalScale,
		e;
		e = "Loading: " + a + "%<br><br>";
		e += '<div style="display: block; background: #000; width: ' + a * c * 2 + "px; height: " + 10 * c + 'px;">&nbsp;</div>';
		document.getElementById("progress").innerHTML = e
	},
	hideAddressBarLock: !1,
	mobileHideAddressBar: function() {
		Utils.hideAddressBarLock || window.scrollTo(0, 1)
	},
	mobileCheckIphone4: function() {
		return window.devicePixelRatio && -1 != navigator.userAgent.indexOf("iPhone") && 2 == window.devicePixelRatio ? !0 : !1
	},
	checkSpilgamesEnvironment: function() {
		return "undefined" != typeof ExternalAPI && "Spilgames" == ExternalAPI.type && ExternalAPI.check()
	},
	mobileCorrectPixelRatio: function() {
		var a = document.createElement("meta");
		a.name = "viewport";
		var c = "target-densitydpi=device-dpi, user-scalable=no",
		c = Utils.checkSpilgamesEnvironment() ? 1 < window.devicePixelRatio ? c + ", initial-scale=0.5, maximum-scale=0.5, minimum-scale=0.5": c + ", initial-scale=1, maximum-scale=1, minimum-scale=1": Utils.mobileCheckIphone4() ? c + ", initial-scale=0.5, maximum-scale=0.5, minimum-scale=0.5": c + ", initial-scale=1, maximum-scale=1, minimum-scale=1";
		a.content = c;
		document.getElementsByTagName("head")[0].appendChild(a)
	},
	getMobileScreenResolution: function(a) {
		var c = 1,
		e = 0,
		f = 0,
		f = window.innerWidth,
		g = window.innerHeight; ! Utils.touchScreen || g > f ? (e = f, f = g) : e = g;
		Utils.touchScreen ? (320 < e && 480 >= e && (c = 1.5), 480 < e && (c = 2), Utils.mobileCheckIphone4() && window == window.parent && (c = 2)) : a ? (640 <= f && (c = 2), 640 > f && 480 <= f && (c = 1.5)) : (800 <= f && 960 > f && (c = 1.5), 960 <= f && (c = 2));
		return Utils.getScaleScreenResolution(c, a)
	},
	getScaleScreenResolution: function(a, c) {
		var e, f;
		e = Math.round(320 * a);
		f = Math.round(480 * a);
		if (c) {
			var g = e;
			e = f;
			f = g
		}
		return {
			width: e,
			height: f,
			scale: a
		}
	},
	imagesRoot: "images",
	createLayout: function(a, c) {
		var e = Utils.globalScale,
		f = window.innerHeight;
		"orientation" in window ? f = 2048 : document.body.style.overflow = "hidden";
		e = "" + ('<div id="progress_container" align="center" style="width: 100%; height: ' + f + 'px; display: block; width: 100%; position: absolute; left: 0px; top: 0px;">') + ('<table cellspacing="0" cellpadding="0"><tr><td id="progress" align="center" valign="middle" style="width: ' + c.width + "px; height: " + c.height + "px; color: #000; background: #fff; font-weight: bold; font-family: Verdana; font-size: " + 12 * e + 'px; vertical-align: middle;"></td></tr></table>');
		e += "</div>";
		e += '<div id="screen_background_container" align="center" style="width: 100%; height: ' + f + 'px; position: absolute; left: 0px; top: 0px; display: none; z-index: 2;">';
		e += '<div id="screen_background_wrapper" style="width: ' + c.width + "px; height: " + c.height + 'px; overflow: hidden; position: relative;">';
		e += '<canvas id="screen_background" width="' + c.width + '" height="' + c.height + '"></canvas>';
		e += "</div>";
		e += "</div>";
		e += '<div id="screen_container" align="center" style="width: 100%; height: ' + f + 'px; position: absolute; left: 0px; top: 0px; display: none; z-index: 3;">';
		e += '<div id="screen_wrapper" style="width: ' + c.width + "px; height: " + c.height + 'px; overflow: hidden; position: relative;">';
		e += '<canvas id="screen" style="position: absolute; left: 0px; top: 0px; z-index: 1000000;" width="' + c.width + '" height="' + c.height + '">You browser does not support this application :(</canvas>';
		e += "</div>";
		e += "</div>";
		a.innerHTML = e;
		e = document.createElement("div");
		e.setAttribute("id", "p2l_container");
		e.setAttribute("align", "center");
		var g = c.width;
		e.setAttribute("style", "width: 100%; height: " + f + "px; position: absolute; left: 0px; top: 0px; display: none; z-index: 1000; background: #fff;");
		e.innerHTML = '<img id="p2l" src="' + Utils.imagesRoot + '/p2l.jpg" style="padding-top: ' + (g - 240) / 2 + 'px" />';
		document.body.appendChild(e)
	},
	preventEvent: function(a) {
		a.preventDefault();
		a.stopPropagation();
		a.cancelBubble = !0;
		return a.returnValue = !1
	},
	addMobileListeners: function(a) {
		Utils.bindEvent(document.body, "touchstart", Utils.preventEvent);
		Utils.bindEvent(window, "scroll",
		function(a) {
			setTimeout(Utils.mobileHideAddressBar, 300)
		});
		setInterval("Utils.checkOrientation(" + (a ? "true": "false") + ")", 500);
		setTimeout(Utils.mobileHideAddressBar, 500)
	},
	storeOrient: null,
	checkOrientation: function(a) {
		if (Utils.touchScreen && document.getElementById("screen_container") && 1 != Utils.parseGet().nocheckorient) {
			var c = !1;
			if (window == window.parent) c = window.innerWidth > window.innerHeight;
			else var e = Math.max(screen.width, screen.height),
			c = Math.min(screen.width, screen.height),
			e = Math.abs(window.innerWidth - e),
			c = Math.abs(window.innerWidth - c),
			c = e < c;
			Utils.storeOrient !== c && (Utils.storeOrient = c, c != a ? (Utils.dispatchEvent("lockscreen"), document.getElementById("p2l_container").style.display = "block", document.getElementById("screen_background_container").style.display = "none", document.getElementById("screen_container").style.display = "none") : (Utils.dispatchEvent("unlockscreen"), document.getElementById("p2l_container").style.display = "none", document.getElementById("screen_background_container").style.display = "block", document.getElementById("screen_container").style.display = "block"), Utils.checkSpilgamesEnvironment() && (document.getElementById("p2l_container").style.display = "none"), setTimeout(Utils.mobileHideAddressBar, 50), setTimeout(Utils.fitLayoutToScreen, 100))
		}
	},
	fitLayoutTimer: null,
	addFitLayoutListeners: function() {
		Utils.fitLayoutTimer = setInterval(Utils.fitLayoutToScreen, 500)
	},
	removeFitLayoutListeners: function() {
		clearInterval(Utils.fitLayoutTimer)
	},
	fitLayoutLock: !1,
	fitLayoutCorrectHeight: 0,
	fitLayoutToScreen: function(a) {
		if (!Utils.fitLayoutLock) {
			var c, e, f;
			"object" == typeof a && a.width || (e = window.innerWidth, f = window.innerHeight, Utils.checkSpilgamesEnvironment() && (f -= 25), f += Utils.fitLayoutCorrectHeight, a = {
				width: e,
				height: f
			});
			if (c = document.getElementById("screen")) {
				c.initWidth || (c.initWidth = c.width, c.initHeight = c.height);
				e = c.initWidth;
				f = c.initHeight;
				var g = 1,
				g = a.width / e;
				a = a.height / f;
				g = g < a ? g: a;
				Utils.globalPixelScale = g;
				e = Math.floor(e * g);
				f = Math.floor(f * g);
				if (c.lastWidth != e || c.lastHeight != f) {
					c.lastWidth = e;
					c.lastHeight = f;
					Utils.resizeElement("screen", e, f);
					Utils.resizeElement("screen_background", e, f);
					if (c = document.getElementById("progress")) c.style.width = ~~e + "px",
					c.style.height = ~~f + "px";
					c = document.getElementById("screen_wrapper");
					c.style.width = ~~e + "px";
					c.style.height = ~~f + "px";
					c = document.getElementById("screen_background_wrapper");
					c.style.width = ~~e + "px";
					c.style.height = ~~f + "px";
					c = document.getElementById("p2l_container");
					c.style.width = ~~window.innerWidth + "px";
					c.style.height = "2048px";
					Utils.dispatchEvent("fitlayout");
					setTimeout(Utils.mobileHideAddressBar, 50)
				}
			}
		}
	},
	resizeElement: function(a, c, e) {
		if (a = document.getElementById(a)) a.setAttribute("width", c),
		a.setAttribute("height", e)
	},
	drawIphoneLimiter: function(a, c) {
		c ? a.drawRectangle(240, 295, 480, 54, "#f00", !0, 0.5, !0) : a.drawRectangle(160, 448, 320, 64, "#f00", !0, 0.5, !0)
	},
	drawGrid: function(a, c, e) {
		"undefined" == typeof c && (c = !1);
		"undefined" == typeof e && (e = "#FFF");
		var f = 1 / Utils.globalScale / Utils.globalPixelScale,
		g = c ? 480 : 320;
		c = c ? 320 : 480;
		for (var h = 10; h < g; h += 10) {
			var k = 0.1 + (h - 10) / 10 % 10 * 0.1;
			a.drawLine(h, 0, h, c, f, e, k)
		}
		for (h = 10; h < c; h += 10) k = 0.1 + (h - 10) / 10 % 10 * 0.1,
		a.drawLine(0, h, g, h, f, e, k)
	},
	drawScaleFix: function(a, c) {
		0.75 == Utils.globalScale && (c ? a.drawRectangle(507, 160, 54, 320, "#000", !0, 1, !0) : a.drawRectangle(160, 507, 320, 54, "#000", !0, 1, !0));
		1.5 == Utils.globalScale && (c ? a.drawRectangle(510, 160, 60, 320, "#000", !0, 1, !0) : a.drawRectangle(160, 510, 320, 60, "#000", !0, 1, !0))
	},
	grad2radian: function(a) {
		return a / (180 / Math.PI)
	},
	radian2grad: function(a) {
		return 180 / Math.PI * a
	},
	eventsListeners: [],
	onlockscreen: null,
	onunlockscreen: null,
	onfitlayout: null,
	addEventListener: function(a, c) {
		EventsManager.addEvent(Utils, a, c)
	},
	removeEventListener: function(a, c) {
		EventsManager.removeEvent(Utils, a, c)
	},
	dispatchEvent: function(a, c) {
		return EventsManager.dispatchEvent(Utils, a, c)
	}
},
EventsManager = {
	addEvent: function(a, c, e) {
		if (a.eventsListeners) {
			for (var f = 0; f < a.eventsListeners.length; f++) if (a.eventsListeners[f].type === c && a.eventsListeners[f].callback === e) return;
			a.eventsListeners.push({
				type: c,
				callback: e
			})
		}
	},
	removeEvent: function(a, c, e) {
		if (a.eventsListeners) for (var f = 0; f < a.eventsListeners.length; f++) if (a.eventsListeners[f].type === c && a.eventsListeners[f].callback === e) {
			a.eventsListeners = Utils.removeFromArray(a.eventsListeners, a.eventsListeners[f]);
			break
		}
	},
	dispatchEvent: function(a, c, e) {
		if (a.eventsListeners) {
			var f;
			if ("function" == typeof a["on" + c] && (f = a["on" + c](e), !1 === f)) return ! 1;
			for (var g = 0; g < a.eventsListeners.length; g++) if (a.eventsListeners[g].type === c && (f = a.eventsListeners[g].callback(e), !1 === f)) return ! 1
		}
	}
},
ANCHOR_ALIGN_LEFT = -1,
ANCHOR_ALIGN_CENTER = 0,
ANCHOR_ALIGN_RIGHT = 1,
ANCHOR_VALIGN_TOP = -1,
ANCHOR_VALIGN_MIDDLE = 0,
ANCHOR_VALIGN_BOTTOM = 1;
function Sprite(a, c, e, f, g) {
	this.uid = 0;
	this.stage = null;
	this.y = this.x = 0;
	this.width = c;
	this.height = e;
	this.offset = {
		left: 0,
		top: 0
	};
	this.anchor = {
		x: 0,
		y: 0
	};
	this.scaleY = this.scaleX = 1;
	this.zIndex = this.rotation = 0;
	this.visible = !0;
	this.opacity = 1;
	this.ignoreViewport = this["static"] = !1;
	this.animated = !0;
	this.currentFrame = 0;
	this.totalFrames = Math.max(1, ~~f);
	1 >= this.totalFrames && (this.animated = !1);
	this.currentLayer = 0;
	this.totalLayers = Math.max(1, ~~g);
	this.bitmap = a;
	this.mask = null;
	this.destroy = this.fillColor = !1;
	this.animStep = 0;
	this.animDelay = 1;
	this.dragged = this.drawAlways = !1;
	this.dragY = this.dragX = 0;
	this.getX = function() {
		return Math.round(this.x * Utils.globalScale)
	};
	this.getY = function() {
		return Math.round(this.y * Utils.globalScale)
	};
	this.getWidth = function() {
		return this.width * this.scaleX * Utils.globalScale
	};
	this.getHeight = function() {
		return this.height * this.scaleY * Utils.globalScale
	};
	this.startDrag = function(a, c) {
		this.dragged = !0;
		this.dragX = a;
		this.dragY = c
	};
	this.stopDrag = function() {
		this.dragged = !1;
		this.dragY = this.dragX = 0
	};
	this.play = function() {
		this.animated = !0
	};
	this.stop = function() {
		this.animated = !1
	};
	this.gotoAndStop = function(a) {
		this.currentFrame = a;
		this.stop()
	};
	this.gotoAndPlay = function(a) {
		this.currentFrame = a;
		this.play()
	};
	this.removeTweens = function() {
		this.stage && this.stage.clearObjectTweens(this)
	};
	this.addTween = function(a, c, e, f, g, p) {
		if (this.stage) {
			var r = this[a];
			if (!isNaN(r)) return a = stage.createTween(this, a, r, c, e, f),
			a.onchange = p,
			a.onfinish = g,
			a
		}
	};
	this.moveTo = function(a, c, e, f, g, p) {
		e = ~~e;
		0 >= e ? this.setPosition(a, c) : ((a = this.addTween("x", a, e, f, g, p)) && a.play(), (c = this.addTween("y", c, e, f, a ? null: g, a ? null: p)) && c.play());
		return this
	};
	this.moveBy = function(a, c, e, f, g, p) {
		return this.moveTo(this.x + a, this.y + c, e, f, g, p)
	};
	this.fadeTo = function(a, c, e, f, g) {
		c = ~~c;
		0 >= c ? this.opacity = a: (a = this.addTween("opacity", a, c, e, f, g)) && a.play();
		return this
	};
	this.fadeBy = function(a, c, e, f, g) {
		a = Math.max(0, Math.min(1, this.opacity + a));
		return this.fadeTo(a, c, e, f, g)
	};
	this.rotateTo = function(a, c, e, f, g) {
		c = ~~c;
		0 >= c ? this.rotation = a: (a = this.addTween("rotation", a, c, e, f, g)) && a.play();
		return this
	};
	this.rotateBy = function(a, c, e, f, g) {
		return this.rotateTo(this.rotation + a, c, e, f, g)
	};
	this.scaleTo = function(a, c, e, f, g) {
		c = ~~c;
		if (0 >= c) this.scaleX = this.scaleY = a;
		else {
			var p = this.addTween("scaleX", a, c, e, f, g);
			p && p.play(); (a = this.addTween("scaleY", a, c, e, p ? null: f, p ? null: g)) && a.play()
		}
		return this
	};
	this.nextFrame = function() {
		this.dispatchEvent("enterframe", {
			target: this
		});
		this.history.created || this.updateHistory();
		this.animated && (this.animStep++, this.animStep >= this.animDelay && (this.currentFrame++, this.animStep = 0), this.currentFrame >= this.totalFrames && (this.currentFrame = 0))
	};
	this.updateHistory = function() {
		this.history.x = this.getX();
		this.history.y = this.getY();
		this.history.rotation = this.rotation;
		this.history.frame = this.currentFrame;
		var a = new Rectangle(this.history.x, this.history.y, this.getWidth(), this.getHeight(), this.rotation);
		a.AABB[0].x -= 1;
		a.AABB[0].y -= 1;
		a.AABB[1].x += 1;
		a.AABB[1].y += 1;
		this.history.AABB = a.AABB;
		this.history.created = !0;
		this.history.changed = !1
	};
	this.history = {
		created: !1,
		drawed: !1,
		changed: !1,
		x: 0,
		y: 0,
		rotation: 0,
		frame: 0,
		AABB: []
	};
	this.eventsWhenInvisible = !1;
	this.onbox2dsync = this.onremove = this.onadd = this.onrender = this.onenterframe = this.onmousemove = this.oncontextmenu = this.onclick = this.onmouseup = this.onmousedown = this.onmouseout = this.onmouseover = null;
	this.mouseOn = !1;
	this.getPosition = function() {
		return {
			x: this.x + 0,
			y: this.y + 0
		}
	};
	this.setPosition = function(a, c) {
		if ("undefined" == typeof c && "undefined" != typeof a.x && "undefined" != typeof a.y) return this.setPosition(a.x, a.y);
		this.x = parseFloat(a);
		this.y = parseFloat(c)
	};
	this.getAnchor = function() {
		return new Vector(this.anchor.x, this.anchor.y)
	};
	this.setAnchor = function(a, c) {
		if ("undefined" == typeof c && "undefined" != typeof a.x && "undefined" != typeof a.y) return this.setAnchor(a.x, a.y);
		this.anchor.x = parseFloat(a);
		this.anchor.y = parseFloat(c)
	};
	this.alignAnchor = function(a, c) {
		a = parseInt(a);
		isNaN(a) && (a = ANCHOR_ALIGN_CENTER);
		0 > a && (a = ANCHOR_ALIGN_LEFT);
		0 < a && (a = ANCHOR_ALIGN_RIGHT);
		c = parseInt(c);
		isNaN(c) && (c = ANCHOR_VALIGN_MIDDLE);
		0 > c && (c = ANCHOR_VALIGN_TOP);
		0 < c && (c = ANCHOR_VALIGN_BOTTOM);
		var e = (new Vector(this.width * a / 2, this.height * c / 2)).add(this.getPosition());
		this.setAnchor(e.x, e.y);
		return this.getAnchor()
	};
	this.getAbsoluteAnchor = function() {
		return new Vector(this.x, this.y)
	};
	this.getRelativeCenter = function() {
		this.getAnchor();
		var a = new Vector( - this.anchor.x * this.scaleX, -this.anchor.y * this.scaleY);
		a.rotate( - this.rotation);
		return a
	};
	this.getAbsoluteCenter = function() {
		return this.getRelativeCenter().add(this.getPosition())
	};
	this.getCenter = function() {
		return this.getAbsoluteCenter()
	};
	this.getDrawRectangle = function() {
		var a = this.getCenter(),
		c = new Rectangle(0, 0, this.width * this.scaleX, this.height * this.scaleY, this.rotation);
		c.move(a.x, a.y);
		return c
	};
	this.getAABBRectangle = function() {
		var a = this.getDrawRectangle(),
		c = a.AABB[1].x - a.AABB[0].x,
		e = a.AABB[1].y - a.AABB[0].y;
		return new Rectangle(a.AABB[0].x + c / 2, a.AABB[0].y + e / 2, c, e, 0)
	};
	this.localToGlobal = function(a, c) {
		var e = "object" == typeof a && "undefined" != typeof a.x && "undefined" != typeof a.y ? new Vector(a.x + 0, a.y + 0) : new Vector(a, c);
		e.rotate(this.rotation).add(this.getPosition());
		return e
	};
	this.globalToLocal = function(a, c) {
		var e = "object" == typeof a && "undefined" != typeof a.x && "undefined" != typeof a.y ? new Vector(a.x + 0, a.y + 0) : new Vector(a, c);
		e.subtract(this.getPosition()).rotate( - this.rotation);
		return e
	};
	this.allowDebugDrawing = !0;
	this.debugDraw = function() {
		if (this.visible && this.allowDebugDrawing) {
			var a = this.getPosition(),
			c = this.getCenter(),
			e = this.getDrawRectangle(),
			f = this.getAABBRectangle();
			stage.drawCircle(a.x, a.y, 1, 1, "rgba(255,0,0,0.9)");
			stage.drawCircle(c.x, c.y, 1, 1, "rgba(0,255,0,0.9)");
			stage.drawLine(a.x, a.y, c.x, c.y, 1, "rgba(255,255,255,0.5)");
			stage.drawPolygon(e.vertices, 0.5, "rgba(255,0,255,0.5)", 1);
			stage.drawLine(f.vertices[0].x, f.vertices[0].y, f.vertices[2].x, f.vertices[2].y, 0.1, "rgba(255,255,255,0.5)");
			stage.drawLine(f.vertices[2].x, f.vertices[0].y, f.vertices[0].x, f.vertices[2].y, 0.1, "rgba(255,255,255,0.5)");
			stage.drawPolygon(f.vertices, 0.5, "rgba(255,255,255,0.5)")
		}
	};
	this.setZIndex = function(a) {
		this.zIndex = ~~a;
		this.stage && this.stage.setZIndex(this, ~~a)
	};
	this.eventsListeners = [];
	this.addEventListener = function(a, c) {
		EventsManager.addEvent(this, a, c)
	};
	this.removeEventListener = function(a, c) {
		EventsManager.removeEvent(this, a, c)
	};
	this.dispatchEvent = function(a, c) {
		return EventsManager.dispatchEvent(this, a, c)
	};
	this.hitTestPoint = function(a, c, e, f, g) {
		return this.stage ? this.stage.hitTestPointObject(this, a, c, e, f, g) : !1
	}
}
function Tween(a, c, e, f, g, h) {
	var k = this;
	"object" != typeof a && (a = null);
	if (a) {
		if ("undefined" == typeof a[c]) throw Error('Trying to tween undefined property "' + c + '"');
		if (isNaN(a[c])) throw Error("Tweened value can not be " + typeof a[c]);
	} else if (isNaN(c)) throw Error("Tweened value can not be " + typeof c);
	"function" != typeof h && (h = Easing.linear.easeIn);
	this.obj = a;
	this.prop = c;
	this.onfinish = this.onchange = null;
	this.start = e;
	this.end = f;
	this.duration = ~~g;
	this.callback = h;
	this.playing = !1;
	this._pos = -1;
	this.play = function() {
		k.playing = !0;
		k.tick()
	};
	this.pause = function() {
		k.playing = !1
	};
	this.rewind = function() {
		k._pos = -1
	};
	this.forward = function() {
		k._pos = this.duration
	};
	this.stop = function() {
		k.pause();
		k.rewind()
	};
	this.updateValue = function(a) {
		k.obj ? k.obj[k.prop] = a: k.prop = a
	};
	this.tick = function() {
		if (!k.playing) return ! 1;
		k._pos++;
		if (0 > k._pos) return ! 1;
		if (k._pos > k.duration) return k.finish();
		var a = k.callback,
		a = a(k._pos, k.start, k.end - k.start, k.duration);
		this.updateValue(a);
		k.dispatchEvent("change", {
			target: k,
			value: a
		});
		return ! 1
	};
	this.finish = function() {
		k.stop();
		k.updateValue(k.end);
		return k.dispatchEvent("finish", {
			target: k,
			value: k.end
		})
	};
	this.eventsListeners = [];
	this.addEventListener = function(a, c) {
		EventsManager.addEvent(this, a, c)
	};
	this.removeEventListener = function(a, c) {
		EventsManager.removeEvent(this, a, c)
	};
	this.dispatchEvent = function(a, c) {
		return EventsManager.dispatchEvent(this, a, c)
	}
}
var Easing = {
	back: {
		easeIn: function(a, c, e, f) {
			return e * (a /= f) * a * (2.70158 * a - 1.70158) + c
		},
		easeOut: function(a, c, e, f) {
			return e * ((a = a / f - 1) * a * (2.70158 * a + 1.70158) + 1) + c
		},
		easeInOut: function(a, c, e, f) {
			var g = 1.70158;
			return 1 > (a /= f / 2) ? e / 2 * a * a * (((g *= 1.525) + 1) * a - g) + c: e / 2 * ((a -= 2) * a * (((g *= 1.525) + 1) * a + g) + 2) + c
		}
	},
	bounce: {
		easeIn: function(a, c, e, f) {
			return e - Easing.bounce.easeOut(f - a, 0, e, f) + c
		},
		easeOut: function(a, c, e, f) {
			return (a /= f) < 1 / 2.75 ? 7.5625 * e * a * a + c: a < 2 / 2.75 ? e * (7.5625 * (a -= 1.5 / 2.75) * a + 0.75) + c: a < 2.5 / 2.75 ? e * (7.5625 * (a -= 2.25 / 2.75) * a + 0.9375) + c: e * (7.5625 * (a -= 2.625 / 2.75) * a + 0.984375) + c
		},
		easeInOut: function(a, c, e, f) {
			return a < f / 2 ? 0.5 * Easing.bounce.easeIn(2 * a, 0, e, f) + c: 0.5 * Easing.bounce.easeOut(2 * a - f, 0, e, f) + 0.5 * e + c
		}
	},
	circular: {
		easeIn: function(a, c, e, f) {
			return - e * (Math.sqrt(1 - (a /= f) * a) - 1) + c
		},
		easeOut: function(a, c, e, f) {
			return e * Math.sqrt(1 - (a = a / f - 1) * a) + c
		},
		easeInOut: function(a, c, e, f) {
			return 1 > (a /= f / 2) ? -e / 2 * (Math.sqrt(1 - a * a) - 1) + c: e / 2 * (Math.sqrt(1 - (a -= 2) * a) + 1) + c
		}
	},
	cubic: {
		easeIn: function(a, c, e, f) {
			return e * (a /= f) * a * a + c
		},
		easeOut: function(a, c, e, f) {
			return e * ((a = a / f - 1) * a * a + 1) + c
		},
		easeInOut: function(a, c, e, f) {
			return 1 > (a /= f / 2) ? e / 2 * a * a * a + c: e / 2 * ((a -= 2) * a * a + 2) + c
		}
	},
	exponential: {
		easeIn: function(a, c, e, f) {
			return 0 == a ? c: e * Math.pow(2, 10 * (a / f - 1)) + c
		},
		easeOut: function(a, c, e, f) {
			return a == f ? c + e: e * ( - Math.pow(2, -10 * a / f) + 1) + c
		},
		easeInOut: function(a, c, e, f) {
			return 0 == a ? c: a == f ? c + e: 1 > (a /= f / 2) ? e / 2 * Math.pow(2, 10 * (a - 1)) + c: e / 2 * ( - Math.pow(2, -10 * --a) + 2) + c
		}
	},
	linear: {
		easeIn: function(a, c, e, f) {
			return e * a / f + c
		},
		easeOut: function(a, c, e, f) {
			return e * a / f + c
		},
		easeInOut: function(a, c, e, f) {
			return e * a / f + c
		}
	},
	quadratic: {
		easeIn: function(a, c, e, f) {
			return e * (a /= f) * a + c
		},
		easeOut: function(a, c, e, f) {
			return - e * (a /= f) * (a - 2) + c
		},
		easeInOut: function(a, c, e, f) {
			return 1 > (a /= f / 2) ? e / 2 * a * a + c: -e / 2 * (--a * (a - 2) - 1) + c
		}
	},
	quartic: {
		easeIn: function(a, c, e, f) {
			return e * (a /= f) * a * a * a + c
		},
		easeOut: function(a, c, e, f) {
			return - e * ((a = a / f - 1) * a * a * a - 1) + c
		},
		easeInOut: function(a, c, e, f) {
			return 1 > (a /= f / 2) ? e / 2 * a * a * a * a + c: -e / 2 * ((a -= 2) * a * a * a - 2) + c
		}
	},
	quintic: {
		easeIn: function(a, c, e, f) {
			return e * (a /= f) * a * a * a * a + c
		},
		easeOut: function(a, c, e, f) {
			return e * ((a = a / f - 1) * a * a * a * a + 1) + c
		},
		easeInOut: function(a, c, e, f) {
			return 1 > (a /= f / 2) ? e / 2 * a * a * a * a * a + c: e / 2 * ((a -= 2) * a * a * a * a + 2) + c
		}
	},
	sine: {
		easeIn: function(a, c, e, f) {
			return - e * Math.cos(a / f * (Math.PI / 2)) + e + c
		},
		easeOut: function(a, c, e, f) {
			return e * Math.sin(a / f * (Math.PI / 2)) + c
		},
		easeInOut: function(a, c, e, f) {
			return - e / 2 * (Math.cos(Math.PI * a / f) - 1) + c
		}
	}
};
function StageTimer(a, c, e) {
	this.repeat = e;
	this.timeout = this.initialTimeout = c;
	this.callback = a;
	this.paused = !1;
	this.update = function() {
		if (!this.paused) {
			this.timeout--;
			if (0 == this.timeout) if ("function" == typeof this.callback && this.callback(), "string" == typeof this.callback && eval(this.callback), this.repeat) this.timeout = this.initialTimeout;
			else return ! 0;
			return ! 1
		}
	};
	this.resume = function() {
		this.paused = !1
	};
	this.pause = function() {
		this.paused = !0
	}
}
function Stage(a, c, e) {
	function f() {
		h.lastFPS = h.fps;
		h.fps = 0;
		h.started && (h.tmFPS = setTimeout(f, 1E3))
	}
	function g() {
		clearTimeout(h.tmMain);
		var a = (new Date).getTime();
		h.updateTweens();
		h.updateTimers();
		h.dispatchEvent("pretick");
		h.partialUpdate ? h.drawScenePartial(h.canvas) : h.drawScene(h.canvas, !1);
		h.showFPS && (h.setTextStyle("sans-serif", 10, "bold", "#fff", "#000"), h.drawText("FPS: " + h.lastFPS, 2, 10, 1, !0));
		h.dispatchEvent("posttick");
		a = (new Date).getTime() - a;
		a = h.delay - a - 1;
		1 > a && (a = 1);
		h.fps++;
		h.started && (h.tmMain = setTimeout(g, a))
	}
	var h = this;
	this.canvas = document.getElementById(a);
	this.canvas.renderController = this;
	this.canvas.ctx = this.canvas.getContext("2d");
	this.screenWidth = c;
	this.screenHeight = e;
	this.viewport = {
		x: 0,
		y: 0
	};
	this.objects = [];
	this.objectsCounter = 0;
	this.buffer = document.createElement("canvas");
	this.buffer.width = c * Utils.globalScale;
	this.buffer.height = e * Utils.globalScale;
	this.buffer.ctx = this.buffer.getContext("2d");
	this.delay = 40;
	this.started = this.fillColor = !1;
	this.lastFPS = this.fps = 0;
	this.ceilSizes = this.pixelMouseMoveEvent = this.pixelMouseDownEvent = this.pixelMouseUpEvent = this.pixelClickEvent = this.showFPS = !1;
	this.tmMain;
	this.tmFPS;
	this.clearLock = this.partialUpdate = !1;
	this.destroy = function() {
		clearTimeout(this.tmMain);
		clearTimeout(this.tmFPS);
		this.stop();
		this.clear();
		this.clearScreen(this.canvas)
	};
	this.clearScreen = function(a) {
		a.ctx.clearRect(0, 0, this.screenWidth * Utils.globalScale * Utils.globalPixelScale, this.screenHeight * Utils.globalScale * Utils.globalPixelScale)
	};
	this.findMaxZIndex = function() {
		for (var a = -1,
		c = !1,
		e = 0; e < this.objects.length; e++) this.objects[e].zIndex > a && (a = this.objects[e].zIndex, c = e);
		return {
			index: c,
			zIndex: a
		}
	};
	this.findMinZIndex = function() {
		for (var a = -1,
		c = !1,
		e = 0; e < this.objects.length; e++) 0 == e && (a = this.objects[e].zIndex, c = 0),
		this.objects[e].zIndex < a && (a = this.objects[e].zIndex, c = e);
		return {
			index: c,
			zIndex: a
		}
	};
	this.addChild = function(a) {
		var c = this.findMaxZIndex(),
		e = a.zIndex;
		a.zIndex = !1 !== c.index ? c.zIndex + 1 : 0;
		this.objectsCounter++;
		a.uid = this.objectsCounter;
		a.stage = this;
		this.objects.push(a);
		0 != e && this.setZIndex(a, ~~e);
		a.dispatchEvent("add", {
			target: a
		});
		return a
	};
	this.removeChild = function(a) {
		a && (this.clearObjectTweens(a), a.dispatchEvent("remove", {
			target: a
		}), a.stage = null, this.objects = Utils.removeFromArray(this.objects, a))
	};
	this.setZIndex = function(a, c) {
		var e = !0,
		f;
		for (a.zIndex = c; e;) for (e = !1, f = 0; f < this.objects.length - 1; f++) this.objects[f].zIndex > this.objects[f + 1].zIndex && (e = this.objects[f], this.objects[f] = this.objects[f + 1], this.objects[f + 1] = e, e = !0)
	};
	this.hitTestPointObject = function(a, c, e, f, h, g) {
		var q, s, t, u, v, x;
		t = a.width * Math.abs(a.scaleX);
		u = a.height * Math.abs(a.scaleY);
		q = a.x - t / 2;
		s = a.y - u / 2;
		v = c;
		x = e;
		a.ignoreViewport || (v += this.viewport.x, x += this.viewport.y);
		g = !1;
		0 == a.rotation ? q <= v && s <= x && q + t >= v && s + u >= x && (g = !0) : (q = a.getDrawRectangle(), q.hitTestPoint(new Vector(v, x)) && (g = !0));
		g && f && (this.buffer.width = this.screenWidth * Utils.globalScale * Utils.globalPixelScale, this.buffer.height = this.screenHeight * Utils.globalScale * Utils.globalPixelScale, this.clearScreen(this.buffer), this.renderObject(this.buffer, a), c = this.buffer.ctx.getImageData(Math.floor(c * Utils.globalScale * Utils.globalPixelScale), Math.floor(e * Utils.globalScale * Utils.globalPixelScale), 1, 1), 0 == c.data[3] && (g = !1)); ! g && h && a.dragged && (g = !0);
		return g
	};
	this.getObjectsStackByCoord = function(a, c, e, f, h) {
		for (var g, q = [], s = 0; s < this.objects.length; s++) if (this.objects[s].visible || this.objects[s].eventsWhenInvisible) g = this.objects[s],
		this.hitTestPointObject(g, a, c, e, f, h) && q.push(g);
		return q
	};
	this.getMaxZIndexInStack = function(a) {
		for (var c = -1,
		e = 0,
		f = 0; f < a.length; f++) a[f].zIndex > c && (c = a[f].zIndex, e = f);
		return e
	};
	this.sortStack = function(a, c) {
		for (var e = !0,
		f, h; e;) for (e = !1, h = 0; h < a.length - 1; h++) f = !1,
		a[h].zIndex < a[h + 1].zIndex && !c && (f = !0),
		a[h].zIndex > a[h + 1].zIndex && c && (f = !0),
		f && (e = a[h], a[h] = a[h + 1], a[h + 1] = e, e = !0);
		return a
	};
	this.finalizeMouseCoords = function(a, c) {
		if (!a) return c;
		var e = this.prepareMouseCoord(c.x),
		f = this.prepareMouseCoord(c.y);
		a.ignoreViewport || (e += this.viewport.x, f += this.viewport.y);
		e -= a.x;
		f -= a.y;
		return {
			x: e,
			y: f
		}
	};
	this.prepareMouseCoord = function(a) {
		return a / Utils.globalScale / Utils.globalPixelScale
	};
	this.checkClick = function(a) {
		a = Utils.getMouseCoord(a, this.canvas);
		var c = this.getObjectsStackByCoord(this.prepareMouseCoord(a.x), this.prepareMouseCoord(a.y), this.pixelClickEvent, !1, !0),
		e;
		if (0 < c.length) for (var c = this.sortStack(c), f = 0; f < c.length && (e = this.finalizeMouseCoords(c[f], a), e = c[f].dispatchEvent("click", {
			target: c[f],
			x: e.x,
			y: e.y
		}), !1 !== e); f++);
	};
	this.checkContextMenu = function(a) {
		a = Utils.getMouseCoord(a, this.canvas);
		var c = this.getObjectsStackByCoord(this.prepareMouseCoord(a.x), this.prepareMouseCoord(a.y), this.pixelClickEvent),
		e;
		if (0 < c.length) for (var c = this.sortStack(c), f = 0; f < c.length && (e = this.finalizeMouseCoords(c[f], a), e = c[f].dispatchEvent("contextmenu", {
			target: c[f],
			x: e.x,
			y: e.y
		}), !1 !== e); f++);
	};
	this.checkMouseMove = function(a) {
		a = Utils.getMouseCoord(a, this.canvas);
		for (f = 0; f < this.objects.length; f++) if (this.objects[f].dragged) {
			var c = a.x / Utils.globalScale / Utils.globalPixelScale,
			e = a.y / Utils.globalScale / Utils.globalPixelScale;
			this.objects[f].ignoreViewport || (c += this.viewport.x, e += this.viewport.y);
			this.objects[f].x = c - this.objects[f].dragX;
			this.objects[f].y = e - this.objects[f].dragY
		}
		var c = this.getObjectsStackByCoord(this.prepareMouseCoord(a.x), this.prepareMouseCoord(a.y), this.pixelMouseMoveEvent),
		f,
		h,
		g,
		e = [];
		if (0 < c.length) {
			c = this.sortStack(c);
			for (f = 0; f < c.length && (e.push(c[f]), g = this.finalizeMouseCoords(c[f], a), c[f].mouseOn || (h = c[f].dispatchEvent("mouseover", {
				target: c[f],
				x: g.x,
				y: g.y
			})), c[f].mouseOn = !0, !1 !== h); f++);
			for (f = 0; f < c.length && (g = this.finalizeMouseCoords(c[f], a), h = c[f].dispatchEvent("mousemove", {
				target: c[f],
				x: g.x,
				y: g.y
			}), !1 !== h); f++);
		}
		for (f = 0; f < this.objects.length; f++) if (this.objects[f].mouseOn) {
			g = !1;
			for (h = 0; h < e.length; h++) e[h] == this.objects[f] && (g = !0);
			if (!g && (this.objects[f].mouseOn = !1, g = this.finalizeMouseCoords(c[f], a), h = this.objects[f].dispatchEvent("mouseout", {
				target: this.objects[f],
				x: g.x,
				y: g.y
			}), !1 === h)) break
		}
	};
	this.checkMouseDown = function(a) {
		a = Utils.getMouseCoord(a, this.canvas);
		var c = this.getObjectsStackByCoord(this.prepareMouseCoord(a.x), this.prepareMouseCoord(a.y), this.pixelMouseDownEvent),
		e;
		if (0 < c.length) for (var c = this.sortStack(c), f = 0; f < c.length && (e = this.finalizeMouseCoords(c[f], a), e = c[f].dispatchEvent("mousedown", {
			target: c[f],
			x: e.x,
			y: e.y
		}), !1 !== e); f++);
	};
	this.checkMouseUp = function(a) {
		a = Utils.getMouseCoord(a, this.canvas);
		var c = this.getObjectsStackByCoord(this.prepareMouseCoord(a.x), this.prepareMouseCoord(a.y), this.pixelMouseUpEvent, !0),
		e;
		if (0 < c.length) for (var c = this.sortStack(c), f = 0; f < c.length && (e = this.finalizeMouseCoords(c[f], a), e = c[f].dispatchEvent("mouseup", {
			target: c[f],
			x: e.x,
			y: e.y
		}), !1 !== e); f++);
	};
	this.clear = function() {
		for (var a = 0; a < this.objects.length; a++) this.objects[a].dispatchEvent("remove", {
			target: this.objects[a]
		});
		this.objects = [];
		this.tweens = [];
		this.timers = [];
		this.eventsListeners = [];
		this.objectsCounter = 0
	};
	this.hitTest = function(a, c) {
		if (0 == a.rotation && 0 == c.rotation) {
			var e = a.getX() - a.getWidth() / 2,
			f = a.getY() - a.getHeight() / 2,
			h = c.getX() - c.getWidth() / 2,
			g = c.getY() - c.getHeight() / 2,
			q = Math.max(f, g),
			s = Math.max(e, h),
			e = Math.min(e + a.getWidth(), h + c.getWidth()),
			f = Math.min(f + a.getHeight(), g + c.getHeight()) - q;
			return 0 < e - s && 0 < f ? !0 : !1
		}
		s = a.getDrawRectangle();
		f = c.getDrawRectangle();
		return s.hitTestRectangle(f)
	};
	this.drawRectangle = function(a, c, e, f, h, g, q, s) {
		var t = this.canvas;
		t.ctx.globalAlpha = "undefined" != typeof q ? q: 1;
		t.ctx.fillStyle = h;
		t.ctx.strokeStyle = h;
		s || (a -= this.viewport.x, c -= this.viewport.y);
		a = a * Utils.globalScale * Utils.globalPixelScale;
		c = c * Utils.globalScale * Utils.globalPixelScale;
		e = e * Utils.globalScale * Utils.globalPixelScale;
		f = f * Utils.globalScale * Utils.globalPixelScale;
		g ? t.ctx.fillRect(a - e / 2, c - f / 2, e, f) : t.ctx.strokeRect(a - e / 2, c - f / 2, e, f)
	};
	this.drawCircle = function(a, c, e, f, h, g, q) {
		this.drawArc(a, c, e, 0, 2 * Math.PI, !1, f, h, g, q)
	};
	this.drawArc = function(a, c, e, f, h, g, q, s, t, u) {
		var v = this.canvas,
		x = v.ctx.lineWidth;
		"undefined" == typeof s && (s = "#000");
		v.ctx.strokeStyle = s;
		"undefined" == typeof q && (q = 1);
		v.ctx.lineWidth = q * Utils.globalScale * Utils.globalPixelScale;
		"undefined" == typeof t && (t = 1);
		v.ctx.globalAlpha = t;
		u || (a -= this.viewport.x, c -= this.viewport.y);
		a = a * Utils.globalScale * Utils.globalPixelScale;
		c = c * Utils.globalScale * Utils.globalPixelScale;
		e = e * Utils.globalScale * Utils.globalPixelScale;
		v.ctx.beginPath();
		v.ctx.arc(a, c, e, f, h, g);
		v.ctx.stroke();
		v.ctx.lineWidth = x
	};
	this.drawPolygon = function(a, c, e, f, h) {
		if ("object" == typeof a && a instanceof Array && !(2 > a.length)) {
			for (var g = 0; g < a.length - 1; g++) this.drawLine(a[g].x, a[g].y, a[g + 1].x, a[g + 1].y, c, e, f, h);
			this.drawLine(a[g].x, a[g].y, a[0].x, a[0].y, c, e, f, h)
		}
	};
	this.drawLine = function(a, c, e, f, h, g, q, s) {
		var t = this.canvas,
		u = t.ctx.lineWidth;
		t.ctx.strokeStyle = g ? g: "#000";
		t.ctx.lineWidth = h ? h * Utils.globalScale * Utils.globalPixelScale: 1 * Utils.globalScale * Utils.globalPixelScale;
		t.ctx.globalAlpha = q ? q: 1;
		s || (a -= this.viewport.x, c -= this.viewport.y, e -= this.viewport.x, f -= this.viewport.y);
		a = a * Utils.globalScale * Utils.globalPixelScale;
		c = c * Utils.globalScale * Utils.globalPixelScale;
		e = e * Utils.globalScale * Utils.globalPixelScale;
		f = f * Utils.globalScale * Utils.globalPixelScale;
		t.ctx.beginPath();
		t.ctx.moveTo(a, c);
		t.ctx.lineTo(e, f);
		t.ctx.closePath();
		t.ctx.stroke();
		t.ctx.lineWidth = u
	};
	this.start = function() {
		this.started || (this.started = !0, f(), g())
	};
	this.forceRender = function() {
		this.started && g()
	};
	this.stop = function() {
		this.started = !1
	};
	this.setTextStyle = function(a, c, e, f, h, g) {
		g = g ? g: this.canvas;
		g.ctx.fillStyle = f;
		g.ctx.strokeStyle = h;
		f = "";
		e && (f += e + " ");
		c && (f += Math.floor(c * Utils.globalScale * Utils.globalPixelScale) + "px ");
		a && (f += a);
		g.ctx.font = f
	};
	this.drawText = function(a, c, e, f, h, g, q) {
		q = q ? q: this.canvas;
		q.ctx.globalAlpha = "undefined" == typeof f ? 1 : f;
		h || (c -= this.viewport.x, e -= this.viewport.y);
		c = c * Utils.globalScale * Utils.globalPixelScale;
		e = e * Utils.globalScale * Utils.globalPixelScale;
		g && (c -= this.getTextWidth(a) / 2);
		q.ctx.fillText(a, c, e)
	};
	this.strokeText = function(a, c, e, f, h, g, q) {
		q = q ? q: this.canvas;
		q.ctx.globalAlpha = "undefined" == typeof f ? 1 : f;
		h || (c -= this.viewport.x, e -= this.viewport.y);
		c = c * Utils.globalScale * Utils.globalPixelScale;
		e = e * Utils.globalScale * Utils.globalPixelScale;
		g && (c -= this.getTextWidth(a) / 2);
		q.ctx.strokeText(a, c, e)
	};
	this.getTextWidth = function(a, c) {
		return (c ? c: this.canvas).ctx.measureText(a).width
	};
	this.allowStaticDebugDrawing = this.allowDebugDrawing = !1;
	this.renderObject = function(a, c) {
		var e = c.getDrawRectangle(),
		f = c.width * Utils.globalScale,
		h = c.height * Utils.globalScale,
		g = e.center.x * Utils.globalPixelScale * Utils.globalScale - Math.floor(f / 2),
		e = e.center.y * Utils.globalPixelScale * Utils.globalScale - Math.floor(h / 2),
		q = c.rotation,
		s = c.scaleX * Utils.globalPixelScale,
		t = c.scaleY * Utils.globalPixelScale,
		u = Boolean(0 != q || 1 != s || 1 != t);
		c.ignoreViewport || (g -= this.viewport.x * Utils.globalPixelScale * Utils.globalScale, e -= this.viewport.y * Utils.globalPixelScale * Utils.globalScale);
		u && (a.ctx.save(), a.ctx.translate(g + Math.floor(f / 2), e + Math.floor(h / 2)), a.ctx.rotate(q), a.ctx.scale(s, t), g = -Math.floor(f / 2), e = -Math.floor(h / 2));
		a.ctx.globalAlpha = c.opacity;
		this.ceilSizes && (f = Math.ceil(f), h = Math.ceil(h));
		c.fillColor && (a.ctx.fillStyle = c.fillColor, a.ctx.strokeStyle = c.fillColor, a.ctx.fillRect(g, e, f, h));
		if (c.bitmap) {
			var q = c.bitmap.width,
			s = c.bitmap.height,
			t = c.currentLayer * f + c.offset.left * Utils.globalScale,
			v = c.currentFrame * h + c.offset.top * Utils.globalScale;
			if (t < q && v < s) {
				var x = f,
				y = h,
				C = !1;
				t + x > q && (x = q - t);
				v + y > s && (y = s - v);
				c.mask && (this.buffer.ctx.save(), this.buffer.ctx.clearRect(0, 0, x, y), this.buffer.ctx.drawImage(c.bitmap, t, v, x, y, 0, 0, x, y), this.buffer.ctx.globalCompositeOperation = "destination-in", this.buffer.ctx.drawImage(c.mask, 0, 0), v = t = 0, C = !0);
				try {
					a.ctx.drawImage(C ? this.buffer: c.bitmap, ~~t, ~~v, ~~x, ~~y, ~~g, ~~e, ~~f, ~~h)
				} catch(B) {}
				C && this.buffer.ctx.restore()
			}
		}
		u && a.ctx.restore();
		this.allowDebugDrawing && c.allowDebugDrawing && (!this.allowStaticDebugDrawing && c.static || c.debugDraw());
		c.dispatchEvent("render", {
			target: c,
			canvas: a
		})
	};
	this.clearObjectAABB = function(a, c) {
		var e = c.history.AABB[1].x - c.history.AABB[0].x,
		f = c.history.AABB[1].y - c.history.AABB[0].y;
		this.fillColor ? (a.ctx.fillStyle = this.fillColor, a.ctx.fillRect((c.history.AABB[0].x - this.viewport.x) * Utils.globalPixelScale, (c.history.AABB[0].y - this.viewport.y) * Utils.globalPixelScale, e * Utils.globalPixelScale, f * Utils.globalPixelScale)) : a.ctx.clearRect((c.history.AABB[0].x - this.viewport.x) * Utils.globalPixelScale, (c.history.AABB[0].y - this.viewport.y) * Utils.globalPixelScale, e * Utils.globalPixelScale, f * Utils.globalPixelScale)
	};
	this.addPartialDraw = function(a, c) {
		a.push(c);
		c.history.drawed = !0;
		c.history.changed = !0;
		for (var e = 0; e < this.objects.length; e++) if (!this.objects[e].history.changed && this.objects[e].visible && !this.objects[e]["static"]) {
			var f = Math.max(c.history.AABB[0].y, this.objects[e].history.AABB[0].y),
			h = Math.max(c.history.AABB[0].x, this.objects[e].history.AABB[0].x),
			g = Math.min(c.history.AABB[1].x, this.objects[e].history.AABB[1].x),
			f = Math.min(c.history.AABB[1].y, this.objects[e].history.AABB[1].y) - f;
			0 < g - h && 0 < f && this.addPartialDraw(a, this.objects[e])
		}
		return a
	};
	this.drawScenePartial = function(a) {
		var c = [],
		e;
		a.ctx || (a.ctx = a.getContext("2d"));
		for (var f = 0; f < this.objects.length; f++) this.objects[f].nextFrame();
		for (f = 0; f < this.objects.length; f++) e = this.objects[f],
		!e.visible || e["static"] || !e.destroy && !e.drawAlways && e.history.drawed && e.currentFrame == e.history.frame && e.getX() == e.history.x && e.getY() == e.history.y && e.rotation == e.history.rotation || (c = this.addPartialDraw(c, e));
		c = this.sortStack(c, !0);
		for (f = 0; f < c.length; f++) this.clearObjectAABB(a, c[f]);
		for (f = 0; f < c.length; f++) e = c[f],
		e.destroy ? this.removeChild(e) : (this.renderObject(a, e), e.updateHistory())
	};
	this.drawScene = function(a, c) {
		var e, f;
		a.ctx || (a.ctx = a.getContext("2d"));
		this.fillColor ? (a.ctx.fillStyle = this.fillColor, a.ctx.fillRect(0, 0, this.screenWidth * Utils.globalScale * Utils.globalPixelScale, this.screenHeight * Utils.globalScale * Utils.globalPixelScale)) : this.clearLock || this.clearScreen(a);
		for (var h = 0; h < this.objects.length; h++) e = this.objects[h],
		f = !1,
		c || e["static"] || (f = !0),
		c && e["static"] && (f = !0),
		f && (e.destroy ? (this.removeChild(e), h--) : (e.nextFrame(), e.visible && this.renderObject(a, e)))
	};
	this.tweens = [];
	this.createTween = function(a, c, e, f, g, r) {
		a = new Tween(a, c, e, f, g, r);
		h.tweens.push(a);
		return a
	};
	this.removeTween = function(a) {
		var c = null;
		if (isNaN(a)) for (var e = 0; e < h.tweens.length; e++) {
			if (h.tweens[e] === a) {
				c = e;
				break
			}
		} else c = a;
		h.tweens[c].pause();
		h.tweens.splice(c, 1);
		return c
	};
	this.clearObjectTweens = function(a) {
		for (var c = 0; c < h.tweens.length; c++) h.tweens[c].obj === a && (c = h.removeTween(c))
	};
	this.updateTweens = function() {
		for (var a = 0; a < h.tweens.length; a++) h.tweens[a].tick() && (a = h.removeTween(a))
	};
	this.timers = [];
	this.setTimeout = function(a, c) {
		var e = new StageTimer(a, c);
		this.timers.push(e);
		return e
	};
	this.clearTimeout = function(a) {
		this.timers = Utils.removeFromArray(this.timers, a)
	};
	this.setInterval = function(a, c) {
		var e = new StageTimer(a, c, !0);
		this.timers.push(e);
		return e
	};
	this.clearInterval = function(a) {
		this.clearTimeout(a)
	};
	this.updateTimers = function() {
		for (var a = 0; a < this.timers.length; a++) this.timers[a].update() && (this.clearTimeout(this.timers[a]), a--)
	};
	this.box2dSync = function(a) {
		for (b = a.m_bodyList; b; b = b.m_next) b.sprite && (b.sprite.rotation = b.GetRotation(), a = b.GetPosition(), b.sprite.x = a.x, b.sprite.y = a.y, b.sprite.dispatchEvent("box2dsync", {
			target: b.sprite
		}))
	};
	this.processTouchEvent = function(a, c) {
		for (var e = 0; e < a.length; e++) h[c]({
			clientX: a[e].clientX,
			clientY: a[e].clientY
		})
	}; - 1 != navigator.userAgent.toLowerCase().indexOf("firefox") && navigator.userAgent.toLowerCase().indexOf("mobile");
	"ontouchstart" in this.canvas ? (this.canvas.ontouchstart = function(a) {
		this.renderController.processTouchEvent(a.touches, "checkMouseDown");
		this.renderController.processTouchEvent(a.touches, "checkClick")
	},
	this.canvas.ontouchmove = function(a) {
		this.renderController.processTouchEvent(a.touches, "checkMouseMove")
	},
	this.canvas.ontouchend = function(a) {
		this.renderController.processTouchEvent(a.changedTouches, "checkMouseUp")
	}) : (this.canvas.onclick = function(a) {
		this.renderController.checkClick(a)
	},
	this.canvas.onmousemove = function(a) {
		this.renderController.checkMouseMove(a)
	},
	this.canvas.onmousedown = function(a) {
		0 == a.button && this.renderController.checkMouseDown(a)
	},
	this.canvas.onmouseup = function(a) {
		0 == a.button && this.renderController.checkMouseUp(a)
	},
	this.canvas.oncontextmenu = function(a) {
		this.renderController.checkContextMenu(a)
	});
	this.onposttick = this.onpretick = null;
	this.eventsListeners = [];
	this.addEventListener = function(a, c) {
		EventsManager.addEvent(this, a, c)
	};
	this.removeEventListener = function(a, c) {
		EventsManager.removeEvent(this, a, c)
	};
	this.dispatchEvent = function(a, c) {
		return EventsManager.dispatchEvent(this, a, c)
	}
}
function Vector(a, c) {
	"undefined" == typeof a && (a = 0);
	this.x = a;
	"undefined" == typeof c && (c = 0);
	this.y = c;
	this.clone = function() {
		return new Vector(this.x, this.y)
	};
	this.add = function(a) {
		this.x += a.x;
		this.y += a.y;
		return this
	};
	this.subtract = function(a) {
		this.x -= a.x;
		this.y -= a.y;
		return this
	};
	this.mult = function(a) {
		this.x *= a;
		this.y *= a;
		return this
	};
	this.invert = function() {
		this.mult( - 1);
		return this
	};
	this.rotate = function(a, c) {
		"undefined" == typeof c && (c = new Vector(0, 0));
		var g = this.clone();
		g.subtract(c);
		g.x = this.x * Math.cos(a) + this.y * Math.sin(a);
		g.y = this.x * -Math.sin(a) + this.y * Math.cos(a);
		g.add(c);
		this.x = g.x;
		this.y = g.y;
		return this
	};
	this.normalize = function(a, c) {
		"undefined" == typeof c && (c = new Vector(0, 0));
		this.subtract(c);
		this.rotate( - a);
		return this
	};
	this.getLength = function() {
		return Math.sqrt(this.x * this.x + this.y * this.y)
	};
	this.distanceTo = function(a) {
		p2 = this.clone();
		p2.subtract(a);
		return p2.getLength()
	}
}
var Rectangle = function(a, c, e, f, g) {
	this.center = new Vector(a, c);
	this.width = e;
	this.height = f;
	this.angle = g;
	this.vertices = [];
	this.AABB = [];
	this.clone = function() {
		return new Rectangle(this.center.x, this.center.y, this.width, this.height, this.angle)
	};
	this.refreshVertices = function() {
		var a = this.width / 2,
		c = this.height / 2;
		this.vertices = [];
		this.vertices.push(new Vector( - a, c));
		this.vertices.push(new Vector(a, c));
		this.vertices.push(new Vector(a, -c));
		this.vertices.push(new Vector( - a, -c));
		this.AABB = [this.center.clone(), this.center.clone()];
		for (a = 0; 4 > a; a++) this.vertices[a].rotate( - this.angle, this.center),
		this.vertices[a].x < this.AABB[0].x && (this.AABB[0].x = this.vertices[a].x),
		this.vertices[a].x > this.AABB[1].x && (this.AABB[1].x = this.vertices[a].x),
		this.vertices[a].y < this.AABB[0].y && (this.AABB[0].y = this.vertices[a].y),
		this.vertices[a].y > this.AABB[1].y && (this.AABB[1].y = this.vertices[a].y)
	};
	this.move = function(a, c) {
		this.center.add(new Vector(a, c));
		this.refreshVertices()
	};
	this.rotate = function(a) {
		this.angle += a;
		this.refreshVertices()
	};
	this.hitTestPoint = function(a) {
		a = a.clone();
		a.normalize( - this.angle, this.center);
		return Math.abs(a.x) <= this.width / 2 && Math.abs(a.y) <= this.height / 2
	};
	this.hitTestRectangle = function(a) {
		var c = this.clone();
		a = a.clone();
		var e, f, g;
		c.move( - this.center.x, -this.center.y);
		a.move( - this.center.x, -this.center.y);
		a.center.rotate(this.angle);
		c.rotate( - this.angle);
		a.rotate( - this.angle);
		e = Math.max(c.AABB[0].x, c.AABB[1].x, a.AABB[0].x, a.AABB[1].x) - Math.min(c.AABB[0].x, c.AABB[1].x, a.AABB[0].x, a.AABB[1].x);
		f = c.AABB[1].x - c.AABB[0].x;
		g = a.AABB[1].x - a.AABB[0].x;
		if (e > f + g) return ! 1;
		e = Math.max(c.AABB[0].y, c.AABB[1].y, a.AABB[0].y, a.AABB[1].y) - Math.min(c.AABB[0].y, c.AABB[1].y, a.AABB[0].y, a.AABB[1].y);
		f = c.AABB[1].y - c.AABB[0].y;
		g = a.AABB[1].y - a.AABB[0].y;
		if (e > f + g) return ! 1;
		c.move( - a.center.x, -a.center.y);
		a.move( - a.center.x, -a.center.y);
		c.center.rotate(a.angle);
		c.refreshVertices();
		c.rotate( - a.angle);
		a.rotate( - a.angle);
		e = Math.max(c.AABB[0].x, c.AABB[1].x, a.AABB[0].x, a.AABB[1].x) - Math.min(c.AABB[0].x, c.AABB[1].x, a.AABB[0].x, a.AABB[1].x);
		f = c.AABB[1].x - c.AABB[0].x;
		g = a.AABB[1].x - a.AABB[0].x;
		if (e > f + g) return ! 1;
		e = Math.max(c.AABB[0].y, c.AABB[1].y, a.AABB[0].y, a.AABB[1].y) - Math.min(c.AABB[0].y, c.AABB[1].y, a.AABB[0].y, a.AABB[1].y);
		f = c.AABB[1].y - c.AABB[0].y;
		g = a.AABB[1].y - a.AABB[0].y;
		return e > f + g ? !1 : !0
	};
	this.refreshVertices()
},
Asset = function(a, c, e, f, g, h) {
	this.name = a + "";
	this.src = c + "";
	this.width = e;
	this.height = f;
	this.frames = g;
	this.layers = h;
	this.object = this.bitmap = null;
	this.ready = this.width && this.height;
	this.detectSize = function() {
		if (!this.bitmap) return ! 1;
		try {
			isNaN(this.width) && (this.width = this.bitmap.width ? parseInt(this.bitmap.width) : 0),
			isNaN(this.height) && (this.height = this.bitmap.height ? parseInt(this.bitmap.height) : 0)
		} catch(a) {
			CRENDER_DEBUG && console.log(a)
		}
		return ! isNaN(this.width) && !isNaN(this.height)
	};
	this.normalize = function(a) {
		if (!this.ready && this.detectSize()) {
			if (isNaN(this.frames) || 1 > this.frames) this.frames = 1;
			if (isNaN(this.layers) || 1 > this.layers) this.layers = 1;
			this.width = Math.ceil(this.width / this.layers / a);
			this.height = Math.ceil(this.height / this.frames / a);
			this.ready = !0
		}
	}
},
AssetsLibrary = function(a, c, e) {
	var f = this;
	this.path = "images";
	this.scale = 1;
	this.items = {};
	this.bitmaps = {};
	this.loaded = !1;
	this.onloadprogress = this.onload = null;
	this.spriteClass = Sprite;
	this.init = function(a, c) {
		"undefined" != typeof a && (this.path = a + "");
		"undefined" != typeof c && (this.scale = parseFloat(c), isNaN(this.scale) && (this.scale = 1))
	};
	this.addAssets = function(a) {
		if ("undefined" != typeof a && "object" == typeof a) for (var c = 0; c < a.length; c++) {
			var e = a[c];
			e.noscale = "undefined" == typeof e.noscale ? !1 : e.noscale;
			e.noscale || (e.src = "%SCALE%/" + e.src);
			this.addAsset(e.src, e.name, e.width, e.height, e.frames, e.layers)
		}
	};
	this.addAsset = function(a, c, e, f, m, n) {
		a = a.replace("%SCALE%", "%PATH%/" + this.scale);
		a = a.replace("%PATH%", this.path);
		"undefined" == typeof c && (c = a.split("/"), c = c.pop(), c = c.split("."), c = c.shift() + "");
		a = new Asset(c, a, e, f, m, n);
		return this.items[c] = a
	};
	this.addObject = function(a) {
		var c = this.addAsset("%SCALE%/" + a.image, a.name, a.width * this.scale, a.height * this.scale, a.frames, a.layers);
		c && (c.object = a);
		return c
	};
	this.load = function(a, c) {
		this.onload = a;
		this.onloadprogress = c;
		var e = new ImagesPreloader,
		l = [],
		m;
		for (m in this.items) l.push(this.items[m]);
		e.load(l, f.onLoadHandler, f.onLoadProgressHandler)
	};
	this.onLoadProgressHandler = function(a) {
		if ("function" == typeof f.onloadprogress) f.onloadprogress(a)
	};
	this.onLoadHandler = function(a) {
		f.loaded = !0;
		for (var c in a) {
			var e = f.items[c];
			e.bitmap = a[c];
			e.normalize(f.scale)
		}
		if ("function" == typeof f.onload) f.onload(f.items)
	};
	this.getAsset = function(a, c) {
		var e = null;
		"undefined" != typeof this.items[a] && this.items[a].bitmap && (e = "undefined" != typeof c && !c || this.items[a].ready ? this.items[a] : null);
		if (!e) throw Error('Trying to get undefined asset "' + a + '"');
		return e
	};
	this.getSprite = function(a, c) {
		var e = null;
		try {
			var f = this.getAsset(a, !0),
			e = new this.spriteClass(f.bitmap, f.width, f.height, f.frames, f.layers)
		} catch(m) {
			e = new this.spriteClass(null, 1, 1, 1, 1)
		}
		if ("object" == typeof c) for (var n in c) e[n] = c[n];
		return e
	};
	this.getBitmap = function(a) {
		try {
			return this.getAsset(a, !0).bitmap
		} catch(c) {
			return null
		}
	};
	this.init(a, c);
	this.addAssets(e)
};
"undefined" == typeof console && (console = {
	log: function() {}
});
var TTLoader = {
	endCallback: null,
	loadedData: null,
	landscapeMode: !1,
	skipPlayButton: !1,
	create: function(a, c, e) {
		TTLoader.endCallback = a;
		TTLoader.landscapeMode = c;
		TTLoader.skipPlayButton = e;
		TTLoader.fillLogo();
		document.getElementById("progress_container").style.background = "#666";
		document.getElementById("progress_container").style.zIndex = "1000";
		a = document.getElementById("progress");
		a.setAttribute("valign", "top");
		a.style.verticalAlign = "top";
		a.style.background = "#666";
		c = document.createElement("div");
		e = document.createElement("a");
		e.setAttribute("id", "tt_load_logo_c");
		//e.setAttribute("href", "http://baidu.com");
		//e.setAttribute("target", "_blank");
		var f = new Image;
		f.setAttribute("id", "tt_load_logo");
		f.setAttribute("border", "");
		f.src = TTLoader.logoSrc[0];
		f.style.cursor = "pointer";
		e.appendChild(f);
		c.appendChild(e);
		a.appendChild(c);
		c = document.createElement("div");
		c.setAttribute("id", "tt_load_progress_cont");
		c.setAttribute("align", "left");
		c.setAttribute("style", "padding: 1px; border: 2px solid #0478b8; background: #fff");
		e = document.createElement("div");
		e.setAttribute("id", "tt_load_progress");
		e.setAttribute("style", "width: 0px; background: #0088cd;");
		e.innerHTML = "&nbsp;";
		c.appendChild(e);
		a.appendChild(c);
		c = document.createElement("div");
		c.setAttribute("id", "tt_load_play");
		e = new Image;
		e.setAttribute("id", "tt_load_button");
		e.src = TTLoader.buttonDisabledSrc;
		c.appendChild(e);
		a.appendChild(c);
		Utils.addEventListener("fitlayout", TTLoader.setSizes);
		TTLoader.setSizes();
		TTLoader.animateLogo()
	},
	setSizes: function() {
		document.getElementById("progress_container").style.width = window.innerWidth + "px";
		document.getElementById("progress_container").style.height = "2048px";
		var a = Utils.globalScale * Utils.globalPixelScale;
		TTLoader.landscapeMode || (document.getElementById("progress").style.paddingTop = Math.floor(80 * a) + "px");
		document.getElementById("tt_load_progress_cont").style.width = Math.floor(200 * a) + "px";
		document.getElementById("tt_load_progress").style.height = Math.floor(12 * a) + "px";
		document.getElementById("tt_load_progress").style.width = a * TTLoader.progressVal * 2 + "px";
		document.getElementById("tt_load_logo").setAttribute("width", Math.floor(180 * a) + "px");
		document.getElementById("tt_load_logo").setAttribute("height", Math.floor(180 * a) + "px");
		document.getElementById("tt_load_button").setAttribute("height", Math.floor(29 * a) + "px");
		document.getElementById("tt_load_button").style.marginTop = Math.floor(20 * a) + "px"
	},
	progressVal: 0,
	showLoadProgress: function(a) {
		TTLoader.progressVal = a;
		TTLoader.setSizes()
	},
	loadComplete: function(a) {
		TTLoader.showLoadProgress(100);
		TTLoader.loadedData = a;
		a = document.getElementById("tt_load_button");
		Utils.touchScreen ? (document.body.removeEventListener("touchstart", Utils.preventEvent), a.ontouchstart = TTLoader.close) : a.onclick = TTLoader.close;
		a.style.cursor = "pointer";
		a.src = TTLoader.buttonSrc;
		a = document.getElementById("tt_load_progress");
		a.style.background = "transparent";
		a = document.getElementById("tt_load_progress_cont");
		a.style.border = "2px solid transparent";
		a.style.background = "transparent";
		document.getElementById("tt_load_button").style.display = "block";
		TTLoader.skipPlayButton && TTLoader.close()
	},
	close: function() {
		TTLoader.endCallback(TTLoader.loadedData);
		Utils.touchScreen && document.body.addEventListener("touchstart", Utils.preventEvent, !1)
	},
	logoSrc: [],
	currentLogoFrame: 0,
	logoOpacity: 0,
	animateLogo: function() {
		1 > TTLoader.logoOpacity && (TTLoader.logoOpacity += 0.33, document.getElementById("tt_load_logo").style.opacity = TTLoader.logoOpacity, document.getElementById("tt_load_logo").style.filter = "alpha(opacity=" + 10 * TTLoader.logoOpacity + ")");
		1 <= TTLoader.logoOpacity && (document.getElementById("tt_load_logo").src = TTLoader.logoSrc[TTLoader.currentLogoFrame], TTLoader.currentLogoFrame++, TTLoader.currentLogoFrame >= TTLoader.logoSrc.length && (TTLoader.currentLogoFrame = TTLoader.logoSrc.length - 1));
		setTimeout(TTLoader.animateLogo, 100)
	},
	fillLogo: function() {
		var a = [];
		a.push("logo.png");
		TTLoader.logoSrc = a
	},
	buttonDisabledSrc: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAPUAAAA5CAYAAADum22qAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyBpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNSBXaW5kb3dzIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOkQ1QTNBNkU3QjYyQTExRTFCOTFEOEE4MERBQkY4RkI5IiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOkQ1QTNBNkU4QjYyQTExRTFCOTFEOEE4MERBQkY4RkI5Ij4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6RDVBM0E2RTVCNjJBMTFFMUI5MUQ4QTgwREFCRjhGQjkiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6RDVBM0E2RTZCNjJBMTFFMUI5MUQ4QTgwREFCRjhGQjkiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz6GWrnZAAAcKklEQVR42sxdW6xVVXde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",
	buttonSrc: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAPUAAAA5CAYAAADum22qAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyBpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNSBXaW5kb3dzIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOkFCRjBBQUNCQjYxRjExRTFCOTYxODNDQTQ3QUVGNDJDIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOkFCRjBBQUNDQjYxRjExRTFCOTYxODNDQTQ3QUVGNDJDIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6QUJGMEFBQzlCNjFGMTFFMUI5NjE4M0NBNDdBRUY0MkMiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6QUJGMEFBQ0FCNjFGMTFFMUI5NjE4M0NBNDdBRUY0MkMiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz6WuWFeAAAao0lEQVR42uxda5AcV3U+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"
};
function JointsDrawer(a) {
	JointsDrawer.superclass.constructor.call(this, null, 1, 1);
	var c = this;
	this.world = a;
	this.ignoreList = [];
	this.distanceColor = "#264f05";
	this.prismaticColor = "#FF00FF";
	this.draw = function() {
		for (var a = !0,
		f = c.world,
		g = c.stage,
		h = f.m_jointList; h; h = h.m_next) {
			var k = h.m_body1,
			l = h.m_body2,
			m = k.m_position,
			n = l.m_position,
			p = h.GetAnchor1(),
			r = h.GetAnchor2();
			h.sprite && (h.sprite.x = p.x, h.sprite.y = p.y);
			if (h.m_type == b2Joint.e_distanceJoint || h.m_type == b2Joint.e_prismaticJoint) if (a = !0, c.ignoreList && 0 <= c.ignoreList.indexOf(h) && (a = !1), a) {
				if (h.m_type == b2Joint.e_distanceJoint) {
					var a = p.x - r.x,
					q = p.y - r.y;
					20 <= Math.sqrt(a * a + q * q) && g.drawLine(p.x, p.y, r.x, r.y, 1, c.distanceColor)
				}
				h.m_type == b2Joint.e_prismaticJoint && (k == f.m_groundBody ? g.drawLine(p.x, p.y, n.x, n.y, 1, c.prismaticColor) : l == f.m_groundBody ? g.drawLine(p.x, p.y, m.x, m.y, 1, c.prismaticColor) : g.drawLine(r.x, r.y, m.x, m.y, 1, c.prismaticColor))
			}
		}
	};
	this.addEventListener("render", this.draw)
}
Utils.extend(JointsDrawer, Sprite);
var TEXT_ALIGN_LEFT = 0,
TEXT_ALIGN_CENTER = 1,
TEXT_ALIGN_RIGHT = 2,
TEXT_VALIGN_TOP = 0,
TEXT_VALIGN_MIDDLE = 1,
TEXT_VALIGN_BOTTOM = 2,
TEXT_SPRITE_FONT_DEFAULT = "sans-serif";
function TextSprite(a, c, e, f, g) {
	var h = this;
	TextSprite.superclass.constructor.call(this, a, c, e, f, g);
	this.text = "";
	this.style = {
		font: TEXT_SPRITE_FONT_DEFAULT,
		size: 10,
		color: "#fff",
		borderColor: "#000",
		borderWidth: 0,
		bold: !1,
		italic: !1,
		lineHeight: 10
	};
	this.padding = {
		left: 0,
		right: 0,
		top: 0,
		bottom: 0
	};
	this.align = TEXT_ALIGN_LEFT;
	this.valign = TEXT_VALIGN_TOP;
	this.wordWrap = !0;
	this.showTextAlways = !1;
	this.prepareLine = function(a, c, e) {
		var f = this.width - this.padding.left - this.padding.right,
		g = this.height - this.padding.top - this.padding.bottom;
		c += this.style.lineHeight;
		if (c >= g) return {
			ret: e,
			y: 0,
			next: !1
		};
		a = a.split(" ");
		for (var h = g = "",
		q = !1,
		s = 0; s < a.length; s++) if (h += (0 < s ? " ": "") + a[s], this.stage.getTextWidth(h, this.canvas) / Utils.globalScale / Utils.globalPixelScale > f) {
			this.wordWrap && (q = !0);
			break
		} else g = h;
		h = this.x - this.width / 2 + this.padding.left;
		if (this.align != TEXT_ALIGN_LEFT) {
			var t = this.stage.getTextWidth(g, this.canvas) / Utils.globalScale / Utils.globalPixelScale;
			this.align == TEXT_ALIGN_CENTER && (h = this.x - t / 2, h += (this.padding.left - this.padding.right) / 2);
			this.align == TEXT_ALIGN_RIGHT && (h = this.x + f / 2 - t - this.padding.right)
		}
		e.push({
			text: g,
			x: h
		});
		if (q) {
			g = "";
			for (f = s; f < a.length; f++) g += (f > s ? " ": "") + a[f];
			h = this.prepareLine(g, c, e);
			e = h.ret;
			c = h.y
		}
		return {
			ret: e,
			y: c,
			next: !0
		}
	};
	this.prepareText = function() {
		for (var a = [], c = 0, e, f = (this.text + "").split("\n"), g = 0; g < f.length && (e = this.prepareLine(f[g], c, a), a = e.ret, c = e.y, !1 !== e.next); g++);
		return a
	};
	this.renderText = function(a) {
		h.canvas = a.canvas;
		a = h.canvas.ctx.lineWidth;
		var c = "";
		h.style.bold && (c += "bold ");
		h.style.italic && (c += "italic ");
		h.stage.setTextStyle(h.style.font, h.style.size, c, h.style.color, h.style.borderColor, h.canvas);
		h.canvas.ctx.lineWidth = h.style.borderWidth * Utils.globalScale * Utils.globalPixelScale;
		var c = h.prepareText(),
		e = 0;
		h.valign == TEXT_VALIGN_TOP && (e = h.y - h.height / 2 + h.padding.top);
		h.valign == TEXT_VALIGN_MIDDLE && (e = h.y, e += (h.padding.top - h.padding.bottom) / 2, e -= c.length * h.style.lineHeight / 2);
		h.valign == TEXT_VALIGN_BOTTOM && (e = h.y + h.height / 2 - h.padding.bottom - c.length * h.style.lineHeight);
		for (var e = e + h.style.lineHeight,
		f, g, r, q, s, t, u = 0; u < c.length; u++) {
			g = e + u * h.style.lineHeight;
			f = c[u].x;
			r = f - h.x;
			q = g - h.y;
			t = !1;
			s = h.ignoreViewport;
			if (0 != h.rotation || 1 != h.scaleX || 1 != h.scaleY) {
				t = !0;
				s = h.width * Utils.globalScale;
				var v = h.height * Utils.globalScale;
				f = h.getX() * Utils.globalPixelScale - Math.floor(s / 2);
				g = h.getY() * Utils.globalPixelScale - Math.floor(v / 2);
				h.ignoreViewport || (f -= h.stage.viewport.x * Utils.globalPixelScale * Utils.globalScale, g -= h.stage.viewport.y * Utils.globalPixelScale * Utils.globalScale);
				h.canvas.ctx.save();
				h.canvas.ctx.translate(f + Math.floor(s / 2), g + Math.floor(v / 2));
				h.canvas.ctx.rotate(h.rotation);
				h.canvas.ctx.scale(h.scaleX, h.scaleY);
				f = r;
				g = q;
				s = !0
			}
			0 < h.style.borderWidth && h.stage.strokeText(c[u].text, f, g, h.showTextAlways ? 1 : h.opacity, s, !1, h.canvas);
			h.stage.drawText(c[u].text, f, g, h.showTextAlways ? 1 : h.opacity, s, !1, h.canvas);
			t && h.canvas.ctx.restore()
		}
		h.canvas.ctx.lineWidth = a
	};
	this.addEventListener("render", this.renderText)
}
Utils.extend(TextSprite, Sprite);
var FontsManager = {
	fonts: [],
	embed: function(a, c) {
		for (var e = 0; e < FontsManager.fonts.length; e++) if (FontsManager.fonts[e].url == c && FontsManager.fonts[e].name == a) return;
		e = document.createElement("style");
		e.type = "text/css";
		e.innerHTML = '@font-face {font-family: "' + a + '"; src: url("' + c + '");}';
		document.getElementsByTagName("head")[0].appendChild(e)
	}
};
function SpritesGroup(a) {
	var c = this;
	this.stage = a;
	this.rotation = this.y = this.x = 0;
	this.opacity = this.scaleY = this.scaleX = 1;
	this.sprites = [];
	this.addChild = function(a, c) {
		"undefined" == typeof a.gscaleX && (a.gscaleX = 1);
		"undefined" == typeof a.gscaleY && (a.gscaleY = 1);
		"undefined" == typeof a.grotation && (a.grotation = 0);
		"undefined" == typeof a.gopacity && (a.gopacity = 1);
		this.sprites.push(a);
		c && this.stage.addChild(a);
		this.update()
	};
	this.removeChild = function(a, c) {
		this.sprites = Utils.removeFromArray(this.sprites, a);
		c && (a.destroy = !0)
	};
	this.remove = function() {
		for (var a, c = 0; c < this.sprites.length; c++) a = this.sprites[c],
		this.removeChild(a),
		a.destroy = !0
	};
	this.update = function() {
		for (var a, f = 0; f < c.sprites.length; f++) {
			a = c.sprites[f];
			var g = a.gx,
			h = a.gy,
			k = new Vector(g, h);
			k.rotate( - c.rotation);
			g += k.x;
			h += k.y;
			g *= c.scaleX;
			h *= c.scaleY;
			g += c.x;
			h += c.y;
			a.x = g;
			a.y = h;
			a.scaleX = a.gscaleX * c.scaleX;
			a.scaleY = a.gscaleY * c.scaleY;
			a.rotation = a.grotation + c.rotation;
			a.opacity = a.gopacity * c.opacity
		}
	};
	a.addEventListener("pretick", this.update)
}
function box2DCreateWorld(a) {
	var c = new b2AABB;
	c.minVertex.Set( - 1E3, -1E3);
	c.maxVertex.Set(1E3, 1E3);
	a = a ? new b2Vec2(0, a) : new b2Vec2(0, 300);
	return new b2World(c, a, !0)
}
function box2DCreateGround(a, c, e) {
	var f = new b2BoxDef;
	f.extents.Set(1E4, 50);
	f.restitution = c ? c: 0.2;
	c = new b2BodyDef;
	c.AddShape(f);
	c.position.Set( - 500, e ? e: 480);
	return a.CreateBody(c)
}
function box2DCreateCircle(a, c, e, f, g, h, k, l, m) {
	"undefined" == typeof h && (h = !0);
	var n = new b2CircleDef;
	h || (n.density = k ? k: 0.8, n.restitution = l ? l: 0.1, n.friction = m ? m: 3);
	n.radius = f;
	f = new b2BodyDef;
	f.rotation = g;
	f.AddShape(n);
	f.position.Set(c, e);
	return a.CreateBody(f)
}
function box2DCreateBox(a, c, e, f, g, h, k, l, m, n) {
	"undefined" == typeof k && (k = !0);
	var p = new b2BoxDef;
	k || (p.density = l ? l: 1, p.restitution = m ? m: 0.2, p.friction = n ? n: 0.3);
	p.extents.Set(f, g);
	f = new b2BodyDef;
	f.rotation = h;
	f.AddShape(p);
	f.position.Set(c, e);
	return a.CreateBody(f)
}
function box2DCreatePoly(a, c, e, f, g, h, k, l, m) {
	var n = new b2BodyDef;
	n.rotation = g;
	for (g = 0; g < f.length; g++) {
		var p = f[g],
		r = new b2PolyDef;
		h || (r.density = k ? k: 1, r.restitution = l ? l: 0.2, r.friction = m ? m: 0.3);
		r.vertexCount = p.length;
		for (var q = 0; q < p.length; q++) r.vertices[q].Set(p[q][0], p[q][1]);
		n.AddShape(r)
	}
	n.position.Set(c, e);
	return a.CreateBody(n)
}
function box2DCreateRevoluteJoint(a, c, e, f, g) {
	var h = new b2RevoluteJointDef;
	h.body1 = c;
	h.body2 = e;
	h.anchorPoint = f;
	h.collideConnected = !0;
	g && (h.motorSpeed = g, h.motorTorque = 5E8, h.enableMotor = !0);
	return a.CreateJoint(h)
}
function box2DCreateDistanceJoint(a, c, e, f, g) {
	var h = new b2DistanceJointDef;
	h.body1 = c;
	h.body2 = e;
	h.anchorPoint1 = f;
	h.anchorPoint2 = g;
	h.collideConnected = !0;
	return a.CreateJoint(h)
}
function box2DCreatePrismaticJoint(a, c, e, f, g) {
	var h = new b2PrismaticJointDef;
	h.anchorPoint.Set(f.x, f.y);
	h.body1 = c;
	h.body2 = e;
	h.axis.Set(0, 1);
	g && (h.motorSpeed = g, h.motorForce = 1E5, h.enableMotor = !0);
	return a.CreateJoint(h)
}
var Prototype = {
	Version: "1.6.0.2",
	Browser: {
		IE: !(!window.attachEvent || window.opera),
		Opera: !!window.opera,
		WebKit: -1 < navigator.userAgent.indexOf("AppleWebKit/"),
		Gecko: -1 < navigator.userAgent.indexOf("Gecko") && -1 == navigator.userAgent.indexOf("KHTML"),
		MobileSafari: !!navigator.userAgent.match(/Apple.*Mobile.*Safari/)
	},
	BrowserFeatures: {
		XPath: !!document.evaluate,
		ElementExtensions: !!window.HTMLElement,
		SpecificElementExtensions: document.createElement("div").__proto__ && document.createElement("div").__proto__ !== document.createElement("form").__proto__
	},
	ScriptFragment: "<script[^>]*>([\\S\\s]*?)\x3c/script>",
	JSONFilter: /^\/\*-secure-([\s\S]*)\*\/\s*$/,
	emptyFunction: function() {},
	K: function(a) {
		return a
	}
};
Prototype.Browser.MobileSafari && (Prototype.BrowserFeatures.SpecificElementExtensions = !1);
var Class = {
	create: function() {
		function a() {
			this.initialize.apply(this, arguments)
		}
		var c = null,
		e = $A(arguments);
		Object.isFunction(e[0]) && (c = e.shift());
		Object.extend(a, Class.Methods);
		a.superclass = c;
		a.subclasses = [];
		if (c) {
			var f = function() {};
			f.prototype = c.prototype;
			a.prototype = new f;
			c.subclasses.push(a)
		}
		for (c = 0; c < e.length; c++) a.addMethods(e[c]);
		a.prototype.initialize || (a.prototype.initialize = Prototype.emptyFunction);
		return a.prototype.constructor = a
	},
	Methods: {
		addMethods: function(a) {
			var c = this.superclass && this.superclass.prototype,
			e = Object.keys(a);
			Object.keys({
				toString: !0
			}).length || e.push("toString", "valueOf");
			for (var f = 0,
			g = e.length; f < g; f++) {
				var h = e[f],
				k = a[h];
				if (c && Object.isFunction(k) && "$super" == k.argumentNames().first()) var l = k,
				k = Object.extend(function(a) {
					return function() {
						return c[a].apply(this, arguments)
					}
				} (h).wrap(l), {
					valueOf: function() {
						return l
					},
					toString: function() {
						return l.toString()
					}
				});
				this.prototype[h] = k
			}
			return this
		}
	}
},
Abstract = {};
Object.extend = function(a, c) {
	for (var e in c) a[e] = c[e];
	return a
};
Object.extend(Object, {
	inspect: function(a) {
		try {
			return Object.isUndefined(a) ? "undefined": null === a ? "null": a.inspect ? a.inspect() : String(a)
		} catch(c) {
			if (c instanceof RangeError) return "...";
			throw c;
		}
	},
	toJSON: function(a) {
		switch (typeof a) {
		case "undefined":
		case "function":
		case "unknown":
			return;
		case "boolean":
			return a.toString()
		}
		if (null === a) return "null";
		if (a.toJSON) return a.toJSON();
		if (!Object.isElement(a)) {
			var c = [],
			e;
			for (e in a) {
				var f = Object.toJSON(a[e]);
				Object.isUndefined(f) || c.push(e.toJSON() + ": " + f)
			}
			return "{" + c.join(", ") + "}"
		}
	},
	toQueryString: function(a) {
		return $H(a).toQueryString()
	},
	toHTML: function(a) {
		return a && a.toHTML ? a.toHTML() : String.interpret(a)
	},
	keys: function(a) {
		var c = [],
		e;
		for (e in a) c.push(e);
		return c
	},
	values: function(a) {
		var c = [],
		e;
		for (e in a) c.push(a[e]);
		return c
	},
	clone: function(a) {
		return Object.extend({},
		a)
	},
	isElement: function(a) {
		return a && 1 == a.nodeType
	},
	isArray: function(a) {
		return null != a && "object" == typeof a && "splice" in a && "join" in a
	},
	isHash: function(a) {
		return a instanceof Hash
	},
	isFunction: function(a) {
		return "function" == typeof a
	},
	isString: function(a) {
		return "string" == typeof a
	},
	isNumber: function(a) {
		return "number" == typeof a
	},
	isUndefined: function(a) {
		return "undefined" == typeof a
	}
});
Object.extend(Function.prototype, {
	argumentNames: function() {
		var a = this.toString().match(/^[\s\(]*function[^(]*\((.*?)\)/)[1].split(",").invoke("strip");
		return 1 != a.length || a[0] ? a: []
	},
	bind: function() {
		if (2 > arguments.length && Object.isUndefined(arguments[0])) return this;
		var a = this,
		c = $A(arguments),
		e = c.shift();
		return function() {
			return a.apply(e, c.concat($A(arguments)))
		}
	},
	bindAsEventListener: function() {
		var a = this,
		c = $A(arguments),
		e = c.shift();
		return function(f) {
			return a.apply(e, [f || window.event].concat(c))
		}
	},
	curry: function() {
		if (!arguments.length) return this;
		var a = this,
		c = $A(arguments);
		return function() {
			return a.apply(this, c.concat($A(arguments)))
		}
	},
	delay: function() {
		var a = this,
		c = $A(arguments),
		e = 1E3 * c.shift();
		return window.setTimeout(function() {
			return a.apply(a, c)
		},
		e)
	},
	wrap: function(a) {
		var c = this;
		return function() {
			return a.apply(this, [c.bind(this)].concat($A(arguments)))
		}
	},
	methodize: function() {
		if (this._methodized) return this._methodized;
		var a = this;
		return this._methodized = function() {
			return a.apply(null, [this].concat($A(arguments)))
		}
	}
});
Function.prototype.defer = Function.prototype.delay.curry(0.01);
Object.extend(String, {
	interpret: function(a) {
		return null == a ? "": String(a)
	},
	specialChar: {
		"\b": "\\b",
		"\t": "\\t",
		"\n": "\\n",
		"\f": "\\f",
		"\r": "\\r",
		"\\": "\\\\"
	}
});
Object.extend(String.prototype, {
	gsub: function(a, c) {
		var e = "",
		f = this,
		g;
		for (c = arguments.callee.prepareReplacement(c); 0 < f.length;)(g = f.match(a)) ? (e += f.slice(0, g.index), e += String.interpret(c(g)), f = f.slice(g.index + g[0].length)) : (e += f, f = "");
		return e
	},
	sub: function(a, c, e) {
		c = this.gsub.prepareReplacement(c);
		e = Object.isUndefined(e) ? 1 : e;
		return this.gsub(a,
		function(a) {
			return 0 > --e ? a[0] : c(a)
		})
	},
	scan: function(a, c) {
		this.gsub(a, c);
		return String(this)
	},
	truncate: function(a, c) {
		a = a || 30;
		c = Object.isUndefined(c) ? "...": c;
		return this.length > a ? this.slice(0, a - c.length) + c: String(this)
	},
	strip: function() {
		return this.replace(/^\s+/, "").replace(/\s+$/, "")
	},
	stripTags: function() {
		return this.replace(/<\/?[^>]+>/gi, "")
	},
	stripScripts: function() {
		return this.replace(RegExp(Prototype.ScriptFragment, "img"), "")
	},
	extractScripts: function() {
		var a = RegExp(Prototype.ScriptFragment, "im");
		return (this.match(RegExp(Prototype.ScriptFragment, "img")) || []).map(function(c) {
			return (c.match(a) || ["", ""])[1]
		})
	},
	evalScripts: function() {
		return this.extractScripts().map(function(a) {
			return eval(a)
		})
	},
	escapeHTML: function() {
		var a = arguments.callee;
		a.text.data = this;
		return a.div.innerHTML
	},
	unescapeHTML: function() {
		var a = new Element("div");
		a.innerHTML = this.stripTags();
		return a.childNodes[0] ? 1 < a.childNodes.length ? $A(a.childNodes).inject("",
		function(a, e) {
			return a + e.nodeValue
		}) : a.childNodes[0].nodeValue: ""
	},
	toQueryParams: function(a) {
		var c = this.strip().match(/([^?#]*)(#.*)?$/);
		return c ? c[1].split(a || "&").inject({},
		function(a, c) {
			if ((c = c.split("="))[0]) {
				var g = decodeURIComponent(c.shift()),
				h = 1 < c.length ? c.join("=") : c[0];
				void 0 != h && (h = decodeURIComponent(h));
				g in a ? (Object.isArray(a[g]) || (a[g] = [a[g]]), a[g].push(h)) : a[g] = h
			}
			return a
		}) : {}
	},
	toArray: function() {
		return this.split("")
	},
	succ: function() {
		return this.slice(0, this.length - 1) + String.fromCharCode(this.charCodeAt(this.length - 1) + 1)
	},
	times: function(a) {
		return 1 > a ? "": Array(a + 1).join(this)
	},
	camelize: function() {
		var a = this.split("-"),
		c = a.length;
		if (1 == c) return a[0];
		for (var e = "-" == this.charAt(0) ? a[0].charAt(0).toUpperCase() + a[0].substring(1) : a[0], f = 1; f < c; f++) e += a[f].charAt(0).toUpperCase() + a[f].substring(1);
		return e
	},
	capitalize: function() {
		return this.charAt(0).toUpperCase() + this.substring(1).toLowerCase()
	},
	underscore: function() {
		return this.gsub(/::/, "/").gsub(/([A-Z]+)([A-Z][a-z])/, "#{1}_#{2}").gsub(/([a-z\d])([A-Z])/, "#{1}_#{2}").gsub(/-/, "_").toLowerCase()
	},
	dasherize: function() {
		return this.gsub(/_/, "-")
	},
	inspect: function(a) {
		var c = this.gsub(/[\x00-\x1f\\]/,
		function(a) {
			var c = String.specialChar[a[0]];
			return c ? c: "\\u00" + a[0].charCodeAt().toPaddedString(2, 16)
		});
		return a ? '"' + c.replace(/"/g, '\\"') + '"': "'" + c.replace(/'/g, "\\'") + "'"
	},
	toJSON: function() {
		return this.inspect(!0)
	},
	unfilterJSON: function(a) {
		return this.sub(a || Prototype.JSONFilter, "#{1}")
	},
	isJSON: function() {
		var a;
		if (this.blank()) return ! 1;
		a = this.replace(/\\./g, "@").replace(/"[^"\\\n\r]*"/g, "");
		return /^[,:{}\[\]0-9.\-+Eaeflnr-u \n\r\t]*$/.test(a)
	},
	evalJSON: function(a) {
		var c = this.unfilterJSON();
		try {
			if (!a || c.isJSON()) return eval("(" + c + ")")
		} catch(e) {}
		throw new SyntaxError("Badly formed JSON string: " + this.inspect());
	},
	include: function(a) {
		return - 1 < this.indexOf(a)
	},
	startsWith: function(a) {
		return 0 === this.indexOf(a)
	},
	endsWith: function(a) {
		var c = this.length - a.length;
		return 0 <= c && this.lastIndexOf(a) === c
	},
	empty: function() {
		return "" == this
	},
	blank: function() {
		return /^\s*$/.test(this)
	},
	interpolate: function(a, c) {
		return (new Template(this, c)).evaluate(a)
	}
}); (Prototype.Browser.WebKit || Prototype.Browser.IE) && Object.extend(String.prototype, {
	escapeHTML: function() {
		return this.replace(/&/g, "&amp;").replace(/</g, "&lt;").replace(/>/g, "&gt;")
	},
	unescapeHTML: function() {
		return this.replace(/&amp;/g, "&").replace(/&lt;/g, "<").replace(/&gt;/g, ">")
	}
});
String.prototype.gsub.prepareReplacement = function(a) {
	if (Object.isFunction(a)) return a;
	var c = new Template(a);
	return function(a) {
		return c.evaluate(a)
	}
};
String.prototype.parseQuery = String.prototype.toQueryParams;
Object.extend(String.prototype.escapeHTML, {
	div: document.createElement("div"),
	text: document.createTextNode("")
});
with(String.prototype.escapeHTML) div.appendChild(text);
var Template = Class.create({
	initialize: function(a, c) {
		this.template = a.toString();
		this.pattern = c || Template.Pattern
	},
	evaluate: function(a) {
		Object.isFunction(a.toTemplateReplacements) && (a = a.toTemplateReplacements());
		return this.template.gsub(this.pattern,
		function(c) {
			if (null == a) return "";
			var e = c[1] || "";
			if ("\\" == e) return c[2];
			var f = a,
			g = c[3],
			h = /^([^.[]+|\[((?:.*?[^\\])?)\])(\.|\[|$)/;
			c = h.exec(g);
			if (null == c) return e;
			for (; null != c;) {
				var k = c[1].startsWith("[") ? c[2].gsub("\\\\]", "]") : c[1],
				f = f[k];
				if (null == f || "" == c[3]) break;
				g = g.substring("[" == c[3] ? c[1].length: c[0].length);
				c = h.exec(g)
			}
			return e + String.interpret(f)
		})
	}
});
Template.Pattern = /(^|.|\r|\n)(#\{(.*?)\})/;
var $break = {},
Enumerable = {
	each: function(a, c) {
		var e = 0;
		a = a.bind(c);
		try {
			this._each(function(c) {
				a(c, e++)
			})
		} catch(f) {
			if (f != $break) throw f;
		}
		return this
	},
	eachSlice: function(a, c, e) {
		c = c ? c.bind(e) : Prototype.K;
		for (var f = -a,
		g = [], h = this.toArray(); (f += a) < h.length;) g.push(h.slice(f, f + a));
		return g.collect(c, e)
	},
	all: function(a, c) {
		a = a ? a.bind(c) : Prototype.K;
		var e = !0;
		this.each(function(c, g) {
			e = e && !!a(c, g);
			if (!e) throw $break;
		});
		return e
	},
	any: function(a, c) {
		a = a ? a.bind(c) : Prototype.K;
		var e = !1;
		this.each(function(c, g) {
			if (e = !!a(c, g)) throw $break;
		});
		return e
	},
	collect: function(a, c) {
		a = a ? a.bind(c) : Prototype.K;
		var e = [];
		this.each(function(c, g) {
			e.push(a(c, g))
		});
		return e
	},
	detect: function(a, c) {
		a = a.bind(c);
		var e;
		this.each(function(c, g) {
			if (a(c, g)) throw e = c,
			$break;
		});
		return e
	},
	findAll: function(a, c) {
		a = a.bind(c);
		var e = [];
		this.each(function(c, g) {
			a(c, g) && e.push(c)
		});
		return e
	},
	grep: function(a, c, e) {
		c = c ? c.bind(e) : Prototype.K;
		var f = [];
		Object.isString(a) && (a = RegExp(a));
		this.each(function(e, h) {
			a.match(e) && f.push(c(e, h))
		});
		return f
	},
	include: function(a) {
		if (Object.isFunction(this.indexOf) && -1 != this.indexOf(a)) return ! 0;
		var c = !1;
		this.each(function(e) {
			if (e == a) throw c = !0,
			$break;
		});
		return c
	},
	inGroupsOf: function(a, c) {
		c = Object.isUndefined(c) ? null: c;
		return this.eachSlice(a,
		function(e) {
			for (; e.length < a;) e.push(c);
			return e
		})
	},
	inject: function(a, c, e) {
		c = c.bind(e);
		this.each(function(e, g) {
			a = c(a, e, g)
		});
		return a
	},
	invoke: function(a) {
		var c = $A(arguments).slice(1);
		return this.map(function(e) {
			return e[a].apply(e, c)
		})
	},
	max: function(a, c) {
		a = a ? a.bind(c) : Prototype.K;
		var e;
		this.each(function(c, g) {
			c = a(c, g);
			if (null == e || c >= e) e = c
		});
		return e
	},
	min: function(a, c) {
		a = a ? a.bind(c) : Prototype.K;
		var e;
		this.each(function(c, g) {
			c = a(c, g);
			if (null == e || c < e) e = c
		});
		return e
	},
	partition: function(a, c) {
		a = a ? a.bind(c) : Prototype.K;
		var e = [],
		f = [];
		this.each(function(c, h) { (a(c, h) ? e: f).push(c)
		});
		return [e, f]
	},
	pluck: function(a) {
		var c = [];
		this.each(function(e) {
			c.push(e[a])
		});
		return c
	},
	reject: function(a, c) {
		a = a.bind(c);
		var e = [];
		this.each(function(c, g) {
			a(c, g) || e.push(c)
		});
		return e
	},
	sortBy: function(a, c) {
		a = a.bind(c);
		return this.map(function(c, f) {
			return {
				value: c,
				criteria: a(c, f)
			}
		}).sort(function(a, c) {
			var g = a.criteria,
			h = c.criteria;
			return g < h ? -1 : g > h ? 1 : 0
		}).pluck("value")
	},
	toArray: function() {
		return this.map()
	},
	zip: function() {
		var a = Prototype.K,
		c = $A(arguments);
		Object.isFunction(c.last()) && (a = c.pop());
		var e = [this].concat(c).map($A);
		return this.map(function(c, g) {
			return a(e.pluck(g))
		})
	},
	size: function() {
		return this.toArray().length
	},
	inspect: function() {
		return "#<Enumerable:" + this.toArray().inspect() + ">"
	}
};
Object.extend(Enumerable, {
	map: Enumerable.collect,
	find: Enumerable.detect,
	select: Enumerable.findAll,
	filter: Enumerable.findAll,
	member: Enumerable.include,
	entries: Enumerable.toArray,
	every: Enumerable.all,
	some: Enumerable.any
});
function $A(a) {
	if (!a) return [];
	if (a.toArray) return a.toArray();
	for (var c = a.length || 0,
	e = Array(c); c--;) e[c] = a[c];
	return e
}
Prototype.Browser.WebKit && ($A = function(a) {
	if (!a) return [];
	if ((!Object.isFunction(a) || "[object NodeList]" != a) && a.toArray) return a.toArray();
	for (var c = a.length || 0,
	e = Array(c); c--;) e[c] = a[c];
	return e
});
Array.from = $A;
Object.extend(Array.prototype, Enumerable);
Array.prototype._reverse || (Array.prototype._reverse = Array.prototype.reverse);
Object.extend(Array.prototype, {
	_each: function(a) {
		for (var c = 0,
		e = this.length; c < e; c++) a(this[c])
	},
	clear: function() {
		this.length = 0;
		return this
	},
	first: function() {
		return this[0]
	},
	last: function() {
		return this[this.length - 1]
	},
	compact: function() {
		return this.select(function(a) {
			return null != a
		})
	},
	flatten: function() {
		return this.inject([],
		function(a, c) {
			return a.concat(Object.isArray(c) ? c.flatten() : [c])
		})
	},
	without: function() {
		var a = $A(arguments);
		return this.select(function(c) {
			return ! a.include(c)
		})
	},
	reverse: function(a) {
		return (!1 !== a ? this: this.toArray())._reverse()
	},
	reduce: function() {
		return 1 < this.length ? this: this[0]
	},
	uniq: function(a) {
		return this.inject([],
		function(c, e, f) {
			0 != f && (a ? c.last() == e: c.include(e)) || c.push(e);
			return c
		})
	},
	intersect: function(a) {
		return this.uniq().findAll(function(c) {
			return a.detect(function(a) {
				return c === a
			})
		})
	},
	clone: function() {
		return [].concat(this)
	},
	size: function() {
		return this.length
	},
	inspect: function() {
		return "[" + this.map(Object.inspect).join(", ") + "]"
	},
	toJSON: function() {
		var a = [];
		this.each(function(c) {
			c = Object.toJSON(c);
			Object.isUndefined(c) || a.push(c)
		});
		return "[" + a.join(", ") + "]"
	}
});
Object.isFunction(Array.prototype.forEach) && (Array.prototype._each = Array.prototype.forEach);
Array.prototype.indexOf || (Array.prototype.indexOf = function(a, c) {
	c || (c = 0);
	var e = this.length;
	for (0 > c && (c = e + c); c < e; c++) if (this[c] === a) return c;
	return - 1
});
Array.prototype.lastIndexOf || (Array.prototype.lastIndexOf = function(a, c) {
	c = isNaN(c) ? this.length: (0 > c ? this.length + c: c) + 1;
	var e = this.slice(0, c).reverse().indexOf(a);
	return 0 > e ? e: c - e - 1
});
Array.prototype.toArray = Array.prototype.clone;
var b2Settings = Class.create();
b2Settings.prototype = {
	initialize: function() {}
};
b2Settings.USHRT_MAX = 65535;
b2Settings.b2_pi = Math.PI;
b2Settings.b2_massUnitsPerKilogram = 1;
b2Settings.b2_timeUnitsPerSecond = 1;
b2Settings.b2_lengthUnitsPerMeter = 30;
b2Settings.b2_maxManifoldPoints = 2;
b2Settings.b2_maxShapesPerBody = 64;
b2Settings.b2_maxPolyVertices = 8;
b2Settings.b2_maxProxies = 1024;
b2Settings.b2_maxPairs = 8 * b2Settings.b2_maxProxies;
b2Settings.b2_linearSlop = 0.005 * b2Settings.b2_lengthUnitsPerMeter;
b2Settings.b2_angularSlop = 2 / 180 * b2Settings.b2_pi;
b2Settings.b2_velocityThreshold = 1 * b2Settings.b2_lengthUnitsPerMeter / b2Settings.b2_timeUnitsPerSecond;
b2Settings.b2_maxLinearCorrection = 0.2 * b2Settings.b2_lengthUnitsPerMeter;
b2Settings.b2_maxAngularCorrection = 8 / 180 * b2Settings.b2_pi;
b2Settings.b2_contactBaumgarte = 0.2;
b2Settings.b2_timeToSleep = 0.5 * b2Settings.b2_timeUnitsPerSecond;
b2Settings.b2_linearSleepTolerance = 0.01 * b2Settings.b2_lengthUnitsPerMeter / b2Settings.b2_timeUnitsPerSecond;
b2Settings.b2_angularSleepTolerance = 2 / 180 / b2Settings.b2_timeUnitsPerSecond;
b2Settings.b2Assert = function(a) {
	a || (void 0).x++
};
var b2Vec2 = Class.create();
b2Vec2.prototype = {
	initialize: function(a, c) {
		this.x = a;
		this.y = c
	},
	SetZero: function() {
		this.y = this.x = 0
	},
	Set: function(a, c) {
		this.x = a;
		this.y = c
	},
	SetV: function(a) {
		this.x = a.x;
		this.y = a.y
	},
	Negative: function() {
		return new b2Vec2( - this.x, -this.y)
	},
	Copy: function() {
		return new b2Vec2(this.x, this.y)
	},
	Add: function(a) {
		this.x += a.x;
		this.y += a.y
	},
	Subtract: function(a) {
		this.x -= a.x;
		this.y -= a.y
	},
	Multiply: function(a) {
		this.x *= a;
		this.y *= a
	},
	MulM: function(a) {
		var c = this.x;
		this.x = a.col1.x * c + a.col2.x * this.y;
		this.y = a.col1.y * c + a.col2.y * this.y
	},
	MulTM: function(a) {
		var c = b2Math.b2Dot(this, a.col1);
		this.y = b2Math.b2Dot(this, a.col2);
		this.x = c
	},
	CrossVF: function(a) {
		var c = this.x;
		this.x = a * this.y;
		this.y = -a * c
	},
	CrossFV: function(a) {
		var c = this.x;
		this.x = -a * this.y;
		this.y = a * c
	},
	MinV: function(a) {
		this.x = this.x < a.x ? this.x: a.x;
		this.y = this.y < a.y ? this.y: a.y
	},
	MaxV: function(a) {
		this.x = this.x > a.x ? this.x: a.x;
		this.y = this.y > a.y ? this.y: a.y
	},
	Abs: function() {
		this.x = Math.abs(this.x);
		this.y = Math.abs(this.y)
	},
	Length: function() {
		return Math.sqrt(this.x * this.x + this.y * this.y)
	},
	Normalize: function() {
		var a = this.Length();
		if (a < Number.MIN_VALUE) return 0;
		var c = 1 / a;
		this.x *= c;
		this.y *= c;
		return a
	},
	IsValid: function() {
		return b2Math.b2IsValid(this.x) && b2Math.b2IsValid(this.y)
	},
	x: null,
	y: null
};
b2Vec2.Make = function(a, c) {
	return new b2Vec2(a, c)
};
var b2Mat22 = Class.create();
b2Mat22.prototype = {
	initialize: function(a, c, e) {
		null == a && (a = 0);
		this.col1 = new b2Vec2;
		this.col2 = new b2Vec2;
		null != c && null != e ? (this.col1.SetV(c), this.col2.SetV(e)) : (c = Math.cos(a), a = Math.sin(a), this.col1.x = c, this.col2.x = -a, this.col1.y = a, this.col2.y = c)
	},
	Set: function(a) {
		var c = Math.cos(a);
		a = Math.sin(a);
		this.col1.x = c;
		this.col2.x = -a;
		this.col1.y = a;
		this.col2.y = c
	},
	SetVV: function(a, c) {
		this.col1.SetV(a);
		this.col2.SetV(c)
	},
	Copy: function() {
		return new b2Mat22(0, this.col1, this.col2)
	},
	SetM: function(a) {
		this.col1.SetV(a.col1);
		this.col2.SetV(a.col2)
	},
	AddM: function(a) {
		this.col1.x += a.col1.x;
		this.col1.y += a.col1.y;
		this.col2.x += a.col2.x;
		this.col2.y += a.col2.y
	},
	SetIdentity: function() {
		this.col1.x = 1;
		this.col2.x = 0;
		this.col1.y = 0;
		this.col2.y = 1
	},
	SetZero: function() {
		this.col1.x = 0;
		this.col2.x = 0;
		this.col1.y = 0;
		this.col2.y = 0
	},
	Invert: function(a) {
		var c = this.col1.x,
		e = this.col2.x,
		f = this.col1.y,
		g = this.col2.y,
		h;
		h = 1 / (c * g - e * f);
		a.col1.x = h * g;
		a.col2.x = -h * e;
		a.col1.y = -h * f;
		a.col2.y = h * c;
		return a
	},
	Solve: function(a, c, e) {
		var f = this.col1.x,
		g = this.col2.x,
		h = this.col1.y,
		k = this.col2.y,
		l;
		l = 1 / (f * k - g * h);
		a.x = l * (k * c - g * e);
		a.y = l * (f * e - h * c);
		return a
	},
	Abs: function() {
		this.col1.Abs();
		this.col2.Abs()
	},
	col1: new b2Vec2,
	col2: new b2Vec2
};
var b2Math = Class.create();
b2Math.prototype = {
	initialize: function() {}
};
b2Math.b2IsValid = function(a) {
	return isFinite(a)
};
b2Math.b2Dot = function(a, c) {
	return a.x * c.x + a.y * c.y
};
b2Math.b2CrossVV = function(a, c) {
	return a.x * c.y - a.y * c.x
};
b2Math.b2CrossVF = function(a, c) {
	return new b2Vec2(c * a.y, -c * a.x)
};
b2Math.b2CrossFV = function(a, c) {
	return new b2Vec2( - a * c.y, a * c.x)
};
b2Math.b2MulMV = function(a, c) {
	return new b2Vec2(a.col1.x * c.x + a.col2.x * c.y, a.col1.y * c.x + a.col2.y * c.y)
};
b2Math.b2MulTMV = function(a, c) {
	return new b2Vec2(b2Math.b2Dot(c, a.col1), b2Math.b2Dot(c, a.col2))
};
b2Math.AddVV = function(a, c) {
	return new b2Vec2(a.x + c.x, a.y + c.y)
};
b2Math.SubtractVV = function(a, c) {
	return new b2Vec2(a.x - c.x, a.y - c.y)
};
b2Math.MulFV = function(a, c) {
	return new b2Vec2(a * c.x, a * c.y)
};
b2Math.AddMM = function(a, c) {
	return new b2Mat22(0, b2Math.AddVV(a.col1, c.col1), b2Math.AddVV(a.col2, c.col2))
};
b2Math.b2MulMM = function(a, c) {
	return new b2Mat22(0, b2Math.b2MulMV(a, c.col1), b2Math.b2MulMV(a, c.col2))
};
b2Math.b2MulTMM = function(a, c) {
	var e = new b2Vec2(b2Math.b2Dot(a.col1, c.col1), b2Math.b2Dot(a.col2, c.col1)),
	f = new b2Vec2(b2Math.b2Dot(a.col1, c.col2), b2Math.b2Dot(a.col2, c.col2));
	return new b2Mat22(0, e, f)
};
b2Math.b2Abs = function(a) {
	return 0 < a ? a: -a
};
b2Math.b2AbsV = function(a) {
	return new b2Vec2(b2Math.b2Abs(a.x), b2Math.b2Abs(a.y))
};
b2Math.b2AbsM = function(a) {
	return new b2Mat22(0, b2Math.b2AbsV(a.col1), b2Math.b2AbsV(a.col2))
};
b2Math.b2Min = function(a, c) {
	return a < c ? a: c
};
b2Math.b2MinV = function(a, c) {
	return new b2Vec2(b2Math.b2Min(a.x, c.x), b2Math.b2Min(a.y, c.y))
};
b2Math.b2Max = function(a, c) {
	return a > c ? a: c
};
b2Math.b2MaxV = function(a, c) {
	return new b2Vec2(b2Math.b2Max(a.x, c.x), b2Math.b2Max(a.y, c.y))
};
b2Math.b2Clamp = function(a, c, e) {
	return b2Math.b2Max(c, b2Math.b2Min(a, e))
};
b2Math.b2ClampV = function(a, c, e) {
	return b2Math.b2MaxV(c, b2Math.b2MinV(a, e))
};
b2Math.b2Swap = function(a, c) {
	var e = a[0];
	a[0] = c[0];
	c[0] = e
};
b2Math.b2Random = function() {
	return 2 * Math.random() - 1
};
b2Math.b2NextPowerOfTwo = function(a) {
	a |= a >> 1 & 2147483647;
	a |= a >> 2 & 1073741823;
	a |= a >> 4 & 268435455;
	a |= a >> 8 & 16777215;
	return (a | a >> 16 & 65535) + 1
};
b2Math.b2IsPowerOfTwo = function(a) {
	return 0 < a && 0 == (a & a - 1)
};
b2Math.tempVec2 = new b2Vec2;
b2Math.tempVec3 = new b2Vec2;
b2Math.tempVec4 = new b2Vec2;
b2Math.tempVec5 = new b2Vec2;
b2Math.tempMat = new b2Mat22;
var b2AABB = Class.create();
b2AABB.prototype = {
	IsValid: function() {
		var a = this.maxVertex.x,
		c = this.maxVertex.y,
		a = this.maxVertex.x,
		c = this.maxVertex.y,
		a = a - this.minVertex.x,
		c = c - this.minVertex.y;
		return a = 0 <= a && 0 <= c && this.minVertex.IsValid() && this.maxVertex.IsValid()
	},
	minVertex: new b2Vec2,
	maxVertex: new b2Vec2,
	initialize: function() {
		this.minVertex = new b2Vec2;
		this.maxVertex = new b2Vec2
	}
};
var b2Bound = Class.create();
b2Bound.prototype = {
	IsLower: function() {
		return 0 == (this.value & 1)
	},
	IsUpper: function() {
		return 1 == (this.value & 1)
	},
	Swap: function(a) {
		var c = this.value,
		e = this.proxyId,
		f = this.stabbingCount;
		this.value = a.value;
		this.proxyId = a.proxyId;
		this.stabbingCount = a.stabbingCount;
		a.value = c;
		a.proxyId = e;
		a.stabbingCount = f
	},
	value: 0,
	proxyId: 0,
	stabbingCount: 0,
	initialize: function() {}
};
var b2BoundValues = Class.create();
b2BoundValues.prototype = {
	lowerValues: [0, 0],
	upperValues: [0, 0],
	initialize: function() {
		this.lowerValues = [0, 0];
		this.upperValues = [0, 0]
	}
};
var b2Pair = Class.create();
b2Pair.prototype = {
	SetBuffered: function() {
		this.status |= b2Pair.e_pairBuffered
	},
	ClearBuffered: function() {
		this.status &= ~b2Pair.e_pairBuffered
	},
	IsBuffered: function() {
		return (this.status & b2Pair.e_pairBuffered) == b2Pair.e_pairBuffered
	},
	SetRemoved: function() {
		this.status |= b2Pair.e_pairRemoved
	},
	ClearRemoved: function() {
		this.status &= ~b2Pair.e_pairRemoved
	},
	IsRemoved: function() {
		return (this.status & b2Pair.e_pairRemoved) == b2Pair.e_pairRemoved
	},
	SetFinal: function() {
		this.status |= b2Pair.e_pairFinal
	},
	IsFinal: function() {
		return (this.status & b2Pair.e_pairFinal) == b2Pair.e_pairFinal
	},
	userData: null,
	proxyId1: 0,
	proxyId2: 0,
	next: 0,
	status: 0,
	initialize: function() {}
};
b2Pair.b2_nullPair = b2Settings.USHRT_MAX;
b2Pair.b2_nullProxy = b2Settings.USHRT_MAX;
b2Pair.b2_tableCapacity = b2Settings.b2_maxPairs;
b2Pair.b2_tableMask = b2Pair.b2_tableCapacity - 1;
b2Pair.e_pairBuffered = 1;
b2Pair.e_pairRemoved = 2;
b2Pair.e_pairFinal = 4;
var b2PairCallback = Class.create();
b2PairCallback.prototype = {
	PairAdded: function(a, c) {
		return null
	},
	PairRemoved: function(a, c, e) {},
	initialize: function() {}
};
var b2BufferedPair = Class.create();
b2BufferedPair.prototype = {
	proxyId1: 0,
	proxyId2: 0,
	initialize: function() {}
};
var b2PairManager = Class.create();
b2PairManager.prototype = {
	initialize: function() {
		var a = 0;
		this.m_hashTable = Array(b2Pair.b2_tableCapacity);
		for (a = 0; a < b2Pair.b2_tableCapacity; ++a) this.m_hashTable[a] = b2Pair.b2_nullPair;
		this.m_pairs = Array(b2Settings.b2_maxPairs);
		for (a = 0; a < b2Settings.b2_maxPairs; ++a) this.m_pairs[a] = new b2Pair;
		this.m_pairBuffer = Array(b2Settings.b2_maxPairs);
		for (a = 0; a < b2Settings.b2_maxPairs; ++a) this.m_pairBuffer[a] = new b2BufferedPair;
		for (a = 0; a < b2Settings.b2_maxPairs; ++a) this.m_pairs[a].proxyId1 = b2Pair.b2_nullProxy,
		this.m_pairs[a].proxyId2 = b2Pair.b2_nullProxy,
		this.m_pairs[a].userData = null,
		this.m_pairs[a].status = 0,
		this.m_pairs[a].next = a + 1;
		this.m_pairs[b2Settings.b2_maxPairs - 1].next = b2Pair.b2_nullPair;
		this.m_pairCount = 0
	},
	Initialize: function(a, c) {
		this.m_broadPhase = a;
		this.m_callback = c
	},
	AddBufferedPair: function(a, c) {
		var e = this.AddPair(a, c); ! 1 == e.IsBuffered() && (e.SetBuffered(), this.m_pairBuffer[this.m_pairBufferCount].proxyId1 = e.proxyId1, this.m_pairBuffer[this.m_pairBufferCount].proxyId2 = e.proxyId2, ++this.m_pairBufferCount);
		e.ClearRemoved();
		b2BroadPhase.s_validate && this.ValidateBuffer()
	},
	RemoveBufferedPair: function(a, c) {
		var e = this.Find(a, c);
		null != e && (!1 == e.IsBuffered() && (e.SetBuffered(), this.m_pairBuffer[this.m_pairBufferCount].proxyId1 = e.proxyId1, this.m_pairBuffer[this.m_pairBufferCount].proxyId2 = e.proxyId2, ++this.m_pairBufferCount), e.SetRemoved(), b2BroadPhase.s_validate && this.ValidateBuffer())
	},
	Commit: function() {
		for (var a = 0,
		c = 0,
		e = this.m_broadPhase.m_proxyPool,
		a = 0; a < this.m_pairBufferCount; ++a) {
			var f = this.Find(this.m_pairBuffer[a].proxyId1, this.m_pairBuffer[a].proxyId2);
			f.ClearBuffered();
			var g = e[f.proxyId1],
			h = e[f.proxyId2];
			f.IsRemoved() ? (!0 == f.IsFinal() && this.m_callback.PairRemoved(g.userData, h.userData, f.userData), this.m_pairBuffer[c].proxyId1 = f.proxyId1, this.m_pairBuffer[c].proxyId2 = f.proxyId2, ++c) : !1 == f.IsFinal() && (f.userData = this.m_callback.PairAdded(g.userData, h.userData), f.SetFinal())
		}
		for (a = 0; a < c; ++a) this.RemovePair(this.m_pairBuffer[a].proxyId1, this.m_pairBuffer[a].proxyId2);
		this.m_pairBufferCount = 0;
		b2BroadPhase.s_validate && this.ValidateTable()
	},
	AddPair: function(a, c) {
		if (a > c) {
			var e = a;
			a = c;
			c = e
		}
		var e = b2PairManager.Hash(a, c) & b2Pair.b2_tableMask,
		f = f = this.FindHash(a, c, e);
		if (null != f) return f;
		var g = this.m_freePair,
		f = this.m_pairs[g];
		this.m_freePair = f.next;
		f.proxyId1 = a;
		f.proxyId2 = c;
		f.status = 0;
		f.userData = null;
		f.next = this.m_hashTable[e];
		this.m_hashTable[e] = g; ++this.m_pairCount;
		return f
	},
	RemovePair: function(a, c) {
		if (a > c) {
			var e = a;
			a = c;
			c = e
		}
		for (var f = b2PairManager.Hash(a, c) & b2Pair.b2_tableMask, g = this.m_hashTable[f], h = null; g != b2Pair.b2_nullPair;) {
			if (b2PairManager.Equals(this.m_pairs[g], a, c)) return e = g,
			h ? h.next = this.m_pairs[g].next: this.m_hashTable[f] = this.m_pairs[g].next,
			f = this.m_pairs[e],
			g = f.userData,
			f.next = this.m_freePair,
			f.proxyId1 = b2Pair.b2_nullProxy,
			f.proxyId2 = b2Pair.b2_nullProxy,
			f.userData = null,
			f.status = 0,
			this.m_freePair = e,
			--this.m_pairCount,
			g;
			h = this.m_pairs[g];
			g = h.next
		}
		return null
	},
	Find: function(a, c) {
		if (a > c) {
			var e = a;
			a = c;
			c = e
		}
		e = b2PairManager.Hash(a, c) & b2Pair.b2_tableMask;
		return this.FindHash(a, c, e)
	},
	FindHash: function(a, c, e) {
		for (e = this.m_hashTable[e]; e != b2Pair.b2_nullPair && !1 == b2PairManager.Equals(this.m_pairs[e], a, c);) e = this.m_pairs[e].next;
		return e == b2Pair.b2_nullPair ? null: this.m_pairs[e]
	},
	ValidateBuffer: function() {},
	ValidateTable: function() {},
	m_broadPhase: null,
	m_callback: null,
	m_pairs: null,
	m_freePair: 0,
	m_pairCount: 0,
	m_pairBuffer: null,
	m_pairBufferCount: 0,
	m_hashTable: null
};
b2PairManager.Hash = function(a, c) {
	var e = c << 16 & 4294901760 | a,
	e = ~e + (e << 15 & 4294934528),
	e = e ^ e >> 12 & 1048575,
	e = e + (e << 2 & 4294967292),
	e = 2057 * (e ^ e >> 4 & 268435455);
	return e ^= e >> 16 & 65535
};
b2PairManager.Equals = function(a, c, e) {
	return a.proxyId1 == c && a.proxyId2 == e
};
b2PairManager.EqualsPair = function(a, c) {
	return a.proxyId1 == c.proxyId1 && a.proxyId2 == c.proxyId2
};
var b2BroadPhase = Class.create();
b2BroadPhase.prototype = {
	initialize: function(a, c) {
		this.m_pairManager = new b2PairManager;
		this.m_proxyPool = Array(b2Settings.b2_maxPairs);
		this.m_bounds = Array(2 * b2Settings.b2_maxProxies);
		this.m_queryResults = Array(b2Settings.b2_maxProxies);
		this.m_quantizationFactor = new b2Vec2;
		var e = 0;
		this.m_pairManager.Initialize(this, c);
		this.m_worldAABB = a;
		for (e = this.m_proxyCount = 0; e < b2Settings.b2_maxProxies; e++) this.m_queryResults[e] = 0;
		this.m_bounds = Array(2);
		for (e = 0; 2 > e; e++) {
			this.m_bounds[e] = Array(2 * b2Settings.b2_maxProxies);
			for (var f = 0; f < 2 * b2Settings.b2_maxProxies; f++) this.m_bounds[e][f] = new b2Bound
		}
		e = a.maxVertex.x;
		f = a.maxVertex.y;
		e -= a.minVertex.x;
		f -= a.minVertex.y;
		this.m_quantizationFactor.x = b2Settings.USHRT_MAX / e;
		this.m_quantizationFactor.y = b2Settings.USHRT_MAX / f;
		for (e = 0; e < b2Settings.b2_maxProxies - 1; ++e) f = new b2Proxy,
		this.m_proxyPool[e] = f,
		f.SetNext(e + 1),
		f.timeStamp = 0,
		f.overlapCount = b2BroadPhase.b2_invalid,
		f.userData = null;
		f = new b2Proxy;
		this.m_proxyPool[b2Settings.b2_maxProxies - 1] = f;
		f.SetNext(b2Pair.b2_nullProxy);
		f.timeStamp = 0;
		f.overlapCount = b2BroadPhase.b2_invalid;
		f.userData = null;
		this.m_freeProxy = 0;
		this.m_timeStamp = 1;
		this.m_queryResultCount = 0
	},
	InRange: function(a) {
		var c, e, f, g;
		c = a.minVertex.x;
		e = a.minVertex.y;
		c -= this.m_worldAABB.maxVertex.x;
		e -= this.m_worldAABB.maxVertex.y;
		f = this.m_worldAABB.minVertex.x;
		g = this.m_worldAABB.minVertex.y;
		f -= a.maxVertex.x;
		g -= a.maxVertex.y;
		c = b2Math.b2Max(c, f);
		e = b2Math.b2Max(e, g);
		return 0 > b2Math.b2Max(c, e)
	},
	GetProxy: function(a) {
		return a == b2Pair.b2_nullProxy || !1 == this.m_proxyPool[a].IsValid() ? null: this.m_proxyPool[a]
	},
	CreateProxy: function(a, c) {
		var e = 0,
		f, g = this.m_freeProxy;
		f = this.m_proxyPool[g];
		this.m_freeProxy = f.GetNext();
		f.overlapCount = 0;
		f.userData = c;
		f = 2 * this.m_proxyCount;
		var h = [],
		k = [];
		this.ComputeBounds(h, k, a);
		for (var l = 0; 2 > l; ++l) {
			var m = this.m_bounds[l],
			n = 0,
			p = 0,
			n = [n],
			p = [p];
			this.Query(n, p, h[l], k[l], m, f, l);
			for (var n = n[0], p = p[0], e = [], r = 0, q = f - p, s, t, r = 0; r < q; r++) e[r] = new b2Bound,
			s = e[r],
			t = m[p + r],
			s.value = t.value,
			s.proxyId = t.proxyId,
			s.stabbingCount = t.stabbingCount;
			for (var q = e.length,
			u = p + 2,
			r = 0; r < q; r++) t = e[r],
			s = m[u + r],
			s.value = t.value,
			s.proxyId = t.proxyId,
			s.stabbingCount = t.stabbingCount;
			e = [];
			q = p - n;
			for (r = 0; r < q; r++) e[r] = new b2Bound,
			s = e[r],
			t = m[n + r],
			s.value = t.value,
			s.proxyId = t.proxyId,
			s.stabbingCount = t.stabbingCount;
			q = e.length;
			u = n + 1;
			for (r = 0; r < q; r++) t = e[r],
			s = m[u + r],
			s.value = t.value,
			s.proxyId = t.proxyId,
			s.stabbingCount = t.stabbingCount; ++p;
			m[n].value = h[l];
			m[n].proxyId = g;
			m[p].value = k[l];
			m[p].proxyId = g;
			m[n].stabbingCount = 0 == n ? 0 : m[n - 1].stabbingCount;
			m[p].stabbingCount = m[p - 1].stabbingCount;
			for (e = n; e < p; ++e) m[e].stabbingCount++;
			for (e = n; e < f + 2; ++e) n = this.m_proxyPool[m[e].proxyId],
			m[e].IsLower() ? n.lowerBounds[l] = e: n.upperBounds[l] = e
		}++this.m_proxyCount;
		for (f = 0; f < this.m_queryResultCount; ++f) this.m_pairManager.AddBufferedPair(g, this.m_queryResults[f]);
		this.m_pairManager.Commit();
		this.m_queryResultCount = 0;
		this.IncrementTimeStamp();
		return g
	},
	DestroyProxy: function(a) {
		for (var c = this.m_proxyPool[a], e = 2 * this.m_proxyCount, f = 0; 2 > f; ++f) {
			for (var g = this.m_bounds[f], h = c.lowerBounds[f], k = c.upperBounds[f], l = g[h].value, m = g[k].value, n = [], p = 0, r = k - h - 1, q, s, p = 0; p < r; p++) n[p] = new b2Bound,
			q = n[p],
			s = g[h + 1 + p],
			q.value = s.value,
			q.proxyId = s.proxyId,
			q.stabbingCount = s.stabbingCount;
			for (var r = n.length,
			t = h,
			p = 0; p < r; p++) s = n[p],
			q = g[t + p],
			q.value = s.value,
			q.proxyId = s.proxyId,
			q.stabbingCount = s.stabbingCount;
			n = [];
			r = e - k - 1;
			for (p = 0; p < r; p++) n[p] = new b2Bound,
			q = n[p],
			s = g[k + 1 + p],
			q.value = s.value,
			q.proxyId = s.proxyId,
			q.stabbingCount = s.stabbingCount;
			r = n.length;
			t = k - 1;
			for (p = 0; p < r; p++) s = n[p],
			q = g[t + p],
			q.value = s.value,
			q.proxyId = s.proxyId,
			q.stabbingCount = s.stabbingCount;
			r = e - 2;
			for (n = h; n < r; ++n) p = this.m_proxyPool[g[n].proxyId],
			g[n].IsLower() ? p.lowerBounds[f] = n: p.upperBounds[f] = n;
			for (r = k - 1; h < r; ++h) g[h].stabbingCount--;
			this.Query([0], [0], l, m, g, e - 2, f)
		}
		for (e = 0; e < this.m_queryResultCount; ++e) this.m_pairManager.RemoveBufferedPair(a, this.m_queryResults[e]);
		this.m_pairManager.Commit();
		this.m_queryResultCount = 0;
		this.IncrementTimeStamp();
		c.userData = null;
		c.overlapCount = b2BroadPhase.b2_invalid;
		c.lowerBounds[0] = b2BroadPhase.b2_invalid;
		c.lowerBounds[1] = b2BroadPhase.b2_invalid;
		c.upperBounds[0] = b2BroadPhase.b2_invalid;
		c.upperBounds[1] = b2BroadPhase.b2_invalid;
		c.SetNext(this.m_freeProxy);
		this.m_freeProxy = a; --this.m_proxyCount
	},
	MoveProxy: function(a, c) {
		var e = 0,
		f = 0,
		g, h, k = 0,
		l;
		if (! (a == b2Pair.b2_nullProxy || b2Settings.b2_maxProxies <= a) && !1 != c.IsValid()) {
			var m = 2 * this.m_proxyCount,
			n = this.m_proxyPool[a],
			p = new b2BoundValues;
			this.ComputeBounds(p.lowerValues, p.upperValues, c);
			for (var r = new b2BoundValues,
			e = 0; 2 > e; ++e) r.lowerValues[e] = this.m_bounds[e][n.lowerBounds[e]].value,
			r.upperValues[e] = this.m_bounds[e][n.upperBounds[e]].value;
			for (e = 0; 2 > e; ++e) {
				var q = this.m_bounds[e],
				s = n.lowerBounds[e],
				t = n.upperBounds[e],
				u = p.lowerValues[e],
				v = p.upperValues[e],
				x = u - q[s].value,
				y = v - q[t].value;
				q[s].value = u;
				q[t].value = v;
				if (0 > x) for (f = s; 0 < f && u < q[f - 1].value;) g = q[f],
				h = q[f - 1],
				k = h.proxyId,
				l = this.m_proxyPool[h.proxyId],
				h.stabbingCount++,
				!0 == h.IsUpper() ? (this.TestOverlap(p, l) && this.m_pairManager.AddBufferedPair(a, k), l.upperBounds[e]++, g.stabbingCount++) : (l.lowerBounds[e]++, g.stabbingCount--),
				n.lowerBounds[e]--,
				g.Swap(h),
				--f;
				if (0 < y) for (f = t; f < m - 1 && q[f + 1].value <= v;) g = q[f],
				h = q[f + 1],
				k = h.proxyId,
				l = this.m_proxyPool[k],
				h.stabbingCount++,
				!0 == h.IsLower() ? (this.TestOverlap(p, l) && this.m_pairManager.AddBufferedPair(a, k), l.lowerBounds[e]--, g.stabbingCount++) : (l.upperBounds[e]--, g.stabbingCount--),
				n.upperBounds[e]++,
				g.Swap(h),
				f++;
				if (0 < x) for (f = s; f < m - 1 && q[f + 1].value <= u;) g = q[f],
				h = q[f + 1],
				k = h.proxyId,
				l = this.m_proxyPool[k],
				h.stabbingCount--,
				h.IsUpper() ? (this.TestOverlap(r, l) && this.m_pairManager.RemoveBufferedPair(a, k), l.upperBounds[e]--, g.stabbingCount--) : (l.lowerBounds[e]--, g.stabbingCount++),
				n.lowerBounds[e]++,
				g.Swap(h),
				f++;
				if (0 > y) for (f = t; 0 < f && v < q[f - 1].value;) g = q[f],
				h = q[f - 1],
				k = h.proxyId,
				l = this.m_proxyPool[k],
				h.stabbingCount--,
				!0 == h.IsLower() ? (this.TestOverlap(r, l) && this.m_pairManager.RemoveBufferedPair(a, k), l.lowerBounds[e]++, g.stabbingCount--) : (l.upperBounds[e]++, g.stabbingCount++),
				n.upperBounds[e]--,
				g.Swap(h),
				f--
			}
		}
	},
	Commit: function() {
		this.m_pairManager.Commit()
	},
	QueryAABB: function(a, c, e) {
		var f = [],
		g = [];
		this.ComputeBounds(f, g, a);
		a = [0];
		var h = [0];
		this.Query(a, h, f[0], g[0], this.m_bounds[0], 2 * this.m_proxyCount, 0);
		this.Query(a, h, f[1], g[1], this.m_bounds[1], 2 * this.m_proxyCount, 1);
		for (g = f = 0; g < this.m_queryResultCount && f < e; ++g, ++f) c[g] = this.m_proxyPool[this.m_queryResults[g]].userData;
		this.m_queryResultCount = 0;
		this.IncrementTimeStamp();
		return f
	},
	Validate: function() {
		for (var a = 0; 2 > a; ++a) for (var c = this.m_bounds[a], e = 2 * this.m_proxyCount, f = 0, g = 0; g < e; ++g) ! 0 == c[g].IsLower() ? f++:f--
	},
	ComputeBounds: function(a, c, e) {
		var f = e.minVertex.x,
		g = e.minVertex.y,
		f = b2Math.b2Min(f, this.m_worldAABB.maxVertex.x),
		g = b2Math.b2Min(g, this.m_worldAABB.maxVertex.y),
		f = b2Math.b2Max(f, this.m_worldAABB.minVertex.x),
		g = b2Math.b2Max(g, this.m_worldAABB.minVertex.y),
		h = e.maxVertex.x;
		e = e.maxVertex.y;
		h = b2Math.b2Min(h, this.m_worldAABB.maxVertex.x);
		e = b2Math.b2Min(e, this.m_worldAABB.maxVertex.y);
		h = b2Math.b2Max(h, this.m_worldAABB.minVertex.x);
		e = b2Math.b2Max(e, this.m_worldAABB.minVertex.y);
		a[0] = this.m_quantizationFactor.x * (f - this.m_worldAABB.minVertex.x) & b2Settings.USHRT_MAX - 1;
		c[0] = this.m_quantizationFactor.x * (h - this.m_worldAABB.minVertex.x) & 65535 | 1;
		a[1] = this.m_quantizationFactor.y * (g - this.m_worldAABB.minVertex.y) & b2Settings.USHRT_MAX - 1;
		c[1] = this.m_quantizationFactor.y * (e - this.m_worldAABB.minVertex.y) & 65535 | 1
	},
	TestOverlapValidate: function(a, c) {
		for (var e = 0; 2 > e; ++e) {
			var f = this.m_bounds[e];
			if (f[a.lowerBounds[e]].value > f[c.upperBounds[e]].value || f[a.upperBounds[e]].value < f[c.lowerBounds[e]].value) return ! 1
		}
		return ! 0
	},
	TestOverlap: function(a, c) {
		for (var e = 0; 2 > e; ++e) {
			var f = this.m_bounds[e];
			if (a.lowerValues[e] > f[c.upperBounds[e]].value || a.upperValues[e] < f[c.lowerBounds[e]].value) return ! 1
		}
		return ! 0
	},
	Query: function(a, c, e, f, g, h, k) {
		e = b2BroadPhase.BinarySearch(g, h, e);
		f = b2BroadPhase.BinarySearch(g, h, f);
		for (h = e; h < f; ++h) g[h].IsLower() && this.IncrementOverlapCount(g[h].proxyId);
		if (0 < e) {
			h = e - 1;
			for (var l = g[h].stabbingCount; l;) g[h].IsLower() && e <= this.m_proxyPool[g[h].proxyId].upperBounds[k] && (this.IncrementOverlapCount(g[h].proxyId), --l),
			--h
		}
		a[0] = e;
		c[0] = f
	},
	IncrementOverlapCount: function(a) {
		var c = this.m_proxyPool[a];
		c.timeStamp < this.m_timeStamp ? (c.timeStamp = this.m_timeStamp, c.overlapCount = 1) : (c.overlapCount = 2, this.m_queryResults[this.m_queryResultCount] = a, ++this.m_queryResultCount)
	},
	IncrementTimeStamp: function() {
		if (this.m_timeStamp == b2Settings.USHRT_MAX) {
			for (var a = 0; a < b2Settings.b2_maxProxies; ++a) this.m_proxyPool[a].timeStamp = 0;
			this.m_timeStamp = 1
		} else++this.m_timeStamp
	},
	m_pairManager: new b2PairManager,
	m_proxyPool: Array(b2Settings.b2_maxPairs),
	m_freeProxy: 0,
	m_bounds: Array(2 * b2Settings.b2_maxProxies),
	m_queryResults: Array(b2Settings.b2_maxProxies),
	m_queryResultCount: 0,
	m_worldAABB: null,
	m_quantizationFactor: new b2Vec2,
	m_proxyCount: 0,
	m_timeStamp: 0
};
b2BroadPhase.s_validate = !1;
b2BroadPhase.b2_invalid = b2Settings.USHRT_MAX;
b2BroadPhase.b2_nullEdge = b2Settings.USHRT_MAX;
b2BroadPhase.BinarySearch = function(a, c, e) {
	var f = 0;
	for (c -= 1; f <= c;) {
		var g = Math.floor((f + c) / 2);
		if (a[g].value > e) c = g - 1;
		else if (a[g].value < e) f = g + 1;
		else return g
	}
	return f
};
var b2Collision = Class.create();
b2Collision.prototype = {
	initialize: function() {}
};
b2Collision.b2_nullFeature = 255;
b2Collision.ClipSegmentToLine = function(a, c, e, f) {
	var g = 0,
	h = c[0].v,
	k = c[1].v,
	l = b2Math.b2Dot(e, c[0].v) - f;
	e = b2Math.b2Dot(e, c[1].v) - f;
	0 >= l && (a[g++] = c[0]);
	0 >= e && (a[g++] = c[1]);
	0 > l * e && (e = l / (l - e), f = a[g].v, f.x = h.x + e * (k.x - h.x), f.y = h.y + e * (k.y - h.y), a[g].id = 0 < l ? c[0].id: c[1].id, ++g);
	return g
};
b2Collision.EdgeSeparation = function(a, c, e) {
	for (var f = a.m_vertices,
	g = e.m_vertexCount,
	h = e.m_vertices,
	k = a.m_normals[c].x, l = a.m_normals[c].y, m = k, n = a.m_R, k = n.col1.x * m + n.col2.x * l, l = n.col1.y * m + n.col2.y * l, p = k, r = l, n = e.m_R, m = p * n.col1.x + r * n.col1.y, r = p * n.col2.x + r * n.col2.y, p = m, m = 0, n = Number.MAX_VALUE, q = 0; q < g; ++q) {
		var s = h[q],
		s = s.x * p + s.y * r;
		s < n && (n = s, m = q)
	}
	n = a.m_R;
	g = a.m_position.x + (n.col1.x * f[c].x + n.col2.x * f[c].y);
	a = a.m_position.y + (n.col1.y * f[c].x + n.col2.y * f[c].y);
	n = e.m_R;
	c = e.m_position.x + (n.col1.x * h[m].x + n.col2.x * h[m].y);
	e = e.m_position.y + (n.col1.y * h[m].x + n.col2.y * h[m].y);
	return (c - g) * k + (e - a) * l
};
b2Collision.FindMaxSeparation = function(a, c, e, f) {
	for (var g = c.m_vertexCount,
	h = e.m_position.x - c.m_position.x,
	k = e.m_position.y - c.m_position.y,
	l = h * c.m_R.col1.x + k * c.m_R.col1.y,
	k = h * c.m_R.col2.x + k * c.m_R.col2.y,
	h = 0,
	m = -Number.MAX_VALUE,
	n = 0; n < g; ++n) {
		var p = c.m_normals[n].x * l + c.m_normals[n].y * k;
		p > m && (m = p, h = n)
	}
	l = b2Collision.EdgeSeparation(c, h, e);
	if (0 < l && !1 == f) return l;
	n = 0 <= h - 1 ? h - 1 : g - 1;
	p = b2Collision.EdgeSeparation(c, n, e);
	if (0 < p && !1 == f) return p;
	var r = h + 1 < g ? h + 1 : 0,
	q = b2Collision.EdgeSeparation(c, r, e);
	if (0 < q && !1 == f) return q;
	m = k = 0;
	if (p > l && p > q) m = -1,
	k = n,
	n = p;
	else if (q > l) m = 1,
	k = r,
	n = q;
	else return a[0] = h,
	l;
	for (;;) {
		h = -1 == m ? 0 <= k - 1 ? k - 1 : g - 1 : k + 1 < g ? k + 1 : 0;
		l = b2Collision.EdgeSeparation(c, h, e);
		if (0 < l && !1 == f) return l;
		if (l > n) k = h,
		n = l;
		else break
	}
	a[0] = k;
	return n
};
b2Collision.FindIncidentEdge = function(a, c, e, f) {
	var g = c.m_vertices,
	h = f.m_vertexCount,
	k = f.m_vertices,
	l = g[e + 1 == c.m_vertexCount ? 0 : e + 1],
	m = l.x,
	n = l.y,
	l = g[e],
	m = m - l.x,
	n = n - l.y,
	l = m,
	m = n,
	n = -l,
	l = 1 / Math.sqrt(m * m + n * n),
	m = m * l,
	n = n * l,
	l = m,
	g = c.m_R,
	m = g.col1.x * l + g.col2.x * n,
	n = g.col1.y * l + g.col2.y * n;
	c = m;
	g = f.m_R;
	l = c * g.col1.x + n * g.col1.y;
	n = c * g.col2.x + n * g.col2.y;
	c = l;
	for (var g = m = 0,
	p = Number.MAX_VALUE,
	r = 0; r < h; ++r) {
		var q = r,
		s = r + 1 < h ? r + 1 : 0,
		l = k[s],
		t = l.x,
		u = l.y,
		l = k[q],
		t = t - l.x,
		u = u - l.y,
		l = t,
		t = u,
		u = -l,
		l = 1 / Math.sqrt(t * t + u * u),
		t = t * l,
		u = u * l,
		l = t * c + u * n;
		l < p && (p = l, m = q, g = s)
	}
	h = a[0];
	l = h.v;
	l.SetV(k[m]);
	l.MulM(f.m_R);
	l.Add(f.m_position);
	h.id.features.referenceFace = e;
	h.id.features.incidentEdge = m;
	h.id.features.incidentVertex = m;
	h = a[1];
	l = h.v;
	l.SetV(k[g]);
	l.MulM(f.m_R);
	l.Add(f.m_position);
	h.id.features.referenceFace = e;
	h.id.features.incidentEdge = m;
	h.id.features.incidentVertex = g
};
b2Collision.b2CollidePolyTempVec = new b2Vec2;
b2Collision.b2CollidePoly = function(a, c, e, f) {
	a.pointCount = 0;
	var g, h = [0],
	k = b2Collision.FindMaxSeparation(h, c, e, f);
	g = h[0];
	if (! (0 < k && !1 == f)) {
		var l, h = [0],
		m = b2Collision.FindMaxSeparation(h, e, c, f);
		l = h[0];
		if (! (0 < m && !1 == f)) {
			var n = 0,
			h = 0;
			m > 0.98 * k + 0.001 ? (k = e, n = l, h = 1) : (k = c, c = e, n = g, h = 0);
			e = [new ClipVertex, new ClipVertex];
			b2Collision.FindIncidentEdge(e, k, n, c);
			c = k.m_vertices;
			var p = c[n],
			r = n + 1 < k.m_vertexCount ? c[n + 1] : c[0];
			g = r.x - p.x;
			l = r.y - p.y;
			var q = g,
			s = k.m_R;
			g = s.col1.x * q + s.col2.x * l;
			l = s.col1.y * q + s.col2.y * l;
			n = 1 / Math.sqrt(g * g + l * l);
			g *= n;
			l *= n;
			q = g;
			n = l;
			c = -q;
			var m = p.x,
			t = p.y,
			q = m,
			s = k.m_R,
			m = s.col1.x * q + s.col2.x * t,
			t = s.col1.y * q + s.col2.y * t,
			m = m + k.m_position.x,
			t = t + k.m_position.y,
			p = r.x,
			r = r.y,
			q = p,
			s = k.m_R,
			p = s.col1.x * q + s.col2.x * r,
			r = s.col1.y * q + s.col2.y * r,
			p = p + k.m_position.x,
			r = r + k.m_position.y,
			k = n * m + c * t,
			q = -(g * m + l * t),
			p = g * p + l * r,
			r = [new ClipVertex, new ClipVertex],
			m = [new ClipVertex, new ClipVertex],
			s = 0;
			b2Collision.b2CollidePolyTempVec.Set( - g, -l);
			s = b2Collision.ClipSegmentToLine(r, e, b2Collision.b2CollidePolyTempVec, q);
			if (! (2 > s || (b2Collision.b2CollidePolyTempVec.Set(g, l), s = b2Collision.ClipSegmentToLine(m, r, b2Collision.b2CollidePolyTempVec, p), 2 > s))) {
				h ? a.normal.Set( - n, -c) : a.normal.Set(n, c);
				for (g = e = 0; g < b2Settings.b2_maxManifoldPoints; ++g) if (l = m[g].v, l = n * l.x + c * l.y - k, 0 >= l || !0 == f) p = a.points[e],
				p.separation = l,
				p.position.SetV(m[g].v),
				p.id.Set(m[g].id),
				p.id.features.flip = h,
				++e;
				a.pointCount = e
			}
		}
	}
};
b2Collision.b2CollideCircle = function(a, c, e, f) {
	a.pointCount = 0;
	var g = e.m_position.x - c.m_position.x,
	h = e.m_position.y - c.m_position.y,
	k = g * g + h * h;
	c = c.m_radius + e.m_radius;
	k > c * c && !1 == f || (k < Number.MIN_VALUE ? (f = -c, a.normal.Set(0, 1)) : (k = Math.sqrt(k), f = k - c, k = 1 / k, a.normal.x = k * g, a.normal.y = k * h), a.pointCount = 1, g = a.points[0], g.id.set_key(0), g.separation = f, g.position.x = e.m_position.x - e.m_radius * a.normal.x, g.position.y = e.m_position.y - e.m_radius * a.normal.y)
};
b2Collision.b2CollidePolyAndCircle = function(a, c, e, f) {
	a.pointCount = 0;
	var g, h;
	h = e.m_position.x - c.m_position.x;
	var k = e.m_position.y - c.m_position.y;
	f = c.m_R;
	var l = h * f.col1.x + k * f.col1.y,
	k = h * f.col2.x + k * f.col2.y;
	h = l;
	var m = 0,
	n = -Number.MAX_VALUE,
	l = e.m_radius;
	for (g = 0; g < c.m_vertexCount; ++g) {
		var p = c.m_normals[g].x * (h - c.m_vertices[g].x) + c.m_normals[g].y * (k - c.m_vertices[g].y);
		if (p > l) return;
		p > n && (n = p, m = g)
	}
	if (n < Number.MIN_VALUE) a.pointCount = 1,
	c = c.m_normals[m],
	a.normal.x = f.col1.x * c.x + f.col2.x * c.y,
	a.normal.y = f.col1.y * c.x + f.col2.y * c.y,
	g = a.points[0],
	g.id.features.incidentEdge = m,
	g.id.features.incidentVertex = b2Collision.b2_nullFeature,
	g.id.features.referenceFace = b2Collision.b2_nullFeature,
	g.id.features.flip = 0,
	g.position.x = e.m_position.x - l * a.normal.x,
	g.position.y = e.m_position.y - l * a.normal.y,
	g.separation = n - l;
	else {
		var n = m + 1 < c.m_vertexCount ? m + 1 : 0,
		r = c.m_vertices[n].x - c.m_vertices[m].x,
		p = c.m_vertices[n].y - c.m_vertices[m].y,
		q = Math.sqrt(r * r + p * p),
		r = r / q,
		p = p / q;
		if (q < Number.MIN_VALUE) h -= c.m_vertices[m].x,
		c = k - c.m_vertices[m].y,
		k = Math.sqrt(h * h + c * c),
		h /= k,
		c /= k,
		k > l || (a.pointCount = 1, a.normal.Set(f.col1.x * h + f.col2.x * c, f.col1.y * h + f.col2.y * c), g = a.points[0], g.id.features.incidentEdge = b2Collision.b2_nullFeature, g.id.features.incidentVertex = m, g.id.features.referenceFace = b2Collision.b2_nullFeature, g.id.features.flip = 0, g.position.x = e.m_position.x - l * a.normal.x, g.position.y = e.m_position.y - l * a.normal.y, g.separation = k - l);
		else {
			var s = (h - c.m_vertices[m].x) * r + (k - c.m_vertices[m].y) * p;
			g = a.points[0];
			g.id.features.incidentEdge = b2Collision.b2_nullFeature;
			g.id.features.incidentVertex = b2Collision.b2_nullFeature;
			g.id.features.referenceFace = b2Collision.b2_nullFeature;
			g.id.features.flip = 0;
			0 >= s ? (r = c.m_vertices[m].x, c = c.m_vertices[m].y, g.id.features.incidentVertex = m) : s >= q ? (r = c.m_vertices[n].x, c = c.m_vertices[n].y, g.id.features.incidentVertex = n) : (r = r * s + c.m_vertices[m].x, c = p * s + c.m_vertices[m].y, g.id.features.incidentEdge = m);
			h -= r;
			c = k - c;
			k = Math.sqrt(h * h + c * c);
			h /= k;
			c /= k;
			k > l || (a.pointCount = 1, a.normal.Set(f.col1.x * h + f.col2.x * c, f.col1.y * h + f.col2.y * c), g.position.x = e.m_position.x - l * a.normal.x, g.position.y = e.m_position.y - l * a.normal.y, g.separation = k - l)
		}
	}
};
b2Collision.b2TestOverlap = function(a, c) {
	var e = c.minVertex,
	f = a.maxVertex,
	g = e.x - f.x,
	h = e.y - f.y,
	e = a.minVertex,
	f = c.maxVertex,
	k = e.y - f.y;
	return 0 < g || 0 < h || 0 < e.x - f.x || 0 < k ? !1 : !0
};
var Features = Class.create();
Features.prototype = {
	set_referenceFace: function(a) {
		this._referenceFace = a;
		this._m_id._key = this._m_id._key & 4294967040 | this._referenceFace & 255
	},
	get_referenceFace: function() {
		return this._referenceFace
	},
	_referenceFace: 0,
	set_incidentEdge: function(a) {
		this._incidentEdge = a;
		this._m_id._key = this._m_id._key & 4294902015 | this._incidentEdge << 8 & 65280
	},
	get_incidentEdge: function() {
		return this._incidentEdge
	},
	_incidentEdge: 0,
	set_incidentVertex: function(a) {
		this._incidentVertex = a;
		this._m_id._key = this._m_id._key & 4278255615 | this._incidentVertex << 16 & 16711680
	},
	get_incidentVertex: function() {
		return this._incidentVertex
	},
	_incidentVertex: 0,
	set_flip: function(a) {
		this._flip = a;
		this._m_id._key = this._m_id._key & 16777215 | this._flip << 24 & 4278190080
	},
	get_flip: function() {
		return this._flip
	},
	_flip: 0,
	_m_id: null,
	initialize: function() {}
};
var b2ContactID = Class.create();
b2ContactID.prototype = {
	initialize: function() {
		this.features = new Features;
		this.features._m_id = this
	},
	Set: function(a) {
		this.set_key(a._key)
	},
	Copy: function() {
		var a = new b2ContactID;
		a.set_key(this._key);
		return a
	},
	get_key: function() {
		return this._key
	},
	set_key: function(a) {
		this._key = a;
		this.features._referenceFace = this._key & 255;
		this.features._incidentEdge = (this._key & 65280) >> 8 & 255;
		this.features._incidentVertex = (this._key & 16711680) >> 16 & 255;
		this.features._flip = (this._key & 4278190080) >> 24 & 255
	},
	features: new Features,
	_key: 0
};
var b2ContactPoint = Class.create();
b2ContactPoint.prototype = {
	position: new b2Vec2,
	separation: null,
	normalImpulse: null,
	tangentImpulse: null,
	id: new b2ContactID,
	initialize: function() {
		this.position = new b2Vec2;
		this.id = new b2ContactID
	}
};
var b2Distance = Class.create();
b2Distance.prototype = {
	initialize: function() {}
};
b2Distance.ProcessTwo = function(a, c, e, f, g) {
	var h = -g[1].x,
	k = -g[1].y,
	l = g[0].x - g[1].x,
	m = g[0].y - g[1].y,
	n = Math.sqrt(l * l + m * m),
	h = l / n * h + m / n * k;
	if (0 >= h || n < Number.MIN_VALUE) return a.SetV(e[1]),
	c.SetV(f[1]),
	e[0].SetV(e[1]),
	f[0].SetV(f[1]),
	g[0].SetV(g[1]),
	1;
	h /= n;
	a.x = e[1].x + h * (e[0].x - e[1].x);
	a.y = e[1].y + h * (e[0].y - e[1].y);
	c.x = f[1].x + h * (f[0].x - f[1].x);
	c.y = f[1].y + h * (f[0].y - f[1].y);
	return 2
};
b2Distance.ProcessThree = function(a, c, e, f, g) {
	var h = g[0].x,
	k = g[0].y,
	l = g[1].x,
	m = g[1].y,
	n = g[2].x,
	p = g[2].y,
	r = l - h,
	q = m - k,
	s = n - h,
	t = p - k,
	u = n - l,
	v = p - m,
	x = -(h * s + k * t),
	y = n * s + p * t,
	C = -(l * u + m * v),
	u = n * u + p * v;
	if (0 >= y && 0 >= u) return a.SetV(e[2]),
	c.SetV(f[2]),
	e[0].SetV(e[2]),
	f[0].SetV(f[2]),
	g[0].SetV(g[2]),
	1;
	q = r * t - q * s;
	r = q * (h * m - k * l);
	l = q * (l * p - m * n);
	if (0 >= l && 0 <= C && 0 <= u) return x = C / (C + u),
	a.x = e[1].x + x * (e[2].x - e[1].x),
	a.y = e[1].y + x * (e[2].y - e[1].y),
	c.x = f[1].x + x * (f[2].x - f[1].x),
	c.y = f[1].y + x * (f[2].y - f[1].y),
	e[0].SetV(e[2]),
	f[0].SetV(f[2]),
	g[0].SetV(g[2]),
	2;
	h = q * (n * k - p * h);
	if (0 >= h && 0 <= x && 0 <= y) return x /= x + y,
	a.x = e[0].x + x * (e[2].x - e[0].x),
	a.y = e[0].y + x * (e[2].y - e[0].y),
	c.x = f[0].x + x * (f[2].x - f[0].x),
	c.y = f[0].y + x * (f[2].y - f[0].y),
	e[1].SetV(e[2]),
	f[1].SetV(f[2]),
	g[1].SetV(g[2]),
	2;
	x = 1 / (l + h + r);
	g = l * x;
	x *= h;
	y = 1 - g - x;
	a.x = g * e[0].x + x * e[1].x + y * e[2].x;
	a.y = g * e[0].y + x * e[1].y + y * e[2].y;
	c.x = g * f[0].x + x * f[1].x + y * f[2].x;
	c.y = g * f[0].y + x * f[1].y + y * f[2].y;
	return 3
};
b2Distance.InPoinsts = function(a, c, e) {
	for (var f = 0; f < e; ++f) if (a.x == c[f].x && a.y == c[f].y) return ! 0;
	return ! 1
};
b2Distance.Distance = function(a, c, e, f) {
	var g = Array(3),
	h = Array(3),
	k = Array(3),
	l = 0;
	a.SetV(e.m_position);
	c.SetV(f.m_position);
	for (var m = 0,
	n = 0; 20 > n; ++n) {
		var p = c.x - a.x,
		r = c.y - a.y,
		q = e.Support(p, r),
		s = f.Support( - p, -r),
		m = p * p + r * r,
		t = s.x - q.x,
		u = s.y - q.y;
		if (m - b2Dot(p * t + r * u) <= 0.01 * m) return 0 == l && (a.SetV(q), c.SetV(s)),
		b2Distance.g_GJK_Iterations = n,
		Math.sqrt(m);
		switch (l) {
		case 0:
			g[0].SetV(q);
			h[0].SetV(s);
			k[0] = w;
			a.SetV(g[0]);
			c.SetV(h[0]); ++l;
			break;
		case 1:
			g[1].SetV(q);
			h[1].SetV(s);
			k[1].x = t;
			k[1].y = u;
			l = b2Distance.ProcessTwo(a, c, g, h, k);
			break;
		case 2:
			g[2].SetV(q),
			h[2].SetV(s),
			k[2].x = t,
			k[2].y = u,
			l = b2Distance.ProcessThree(a, c, g, h, k)
		}
		if (3 == l) return b2Distance.g_GJK_Iterations = n,
		0;
		p = -Number.MAX_VALUE;
		for (r = 0; r < l; ++r) p = b2Math.b2Max(p, k[r].x * k[r].x + k[r].y * k[r].y);
		if (3 == l || m <= 100 * Number.MIN_VALUE * p) return b2Distance.g_GJK_Iterations = n,
		Math.sqrt(m)
	}
	b2Distance.g_GJK_Iterations = 20;
	return Math.sqrt(m)
};
b2Distance.g_GJK_Iterations = 0;
var b2Manifold = Class.create();
b2Manifold.prototype = {
	initialize: function() {
		this.points = Array(b2Settings.b2_maxManifoldPoints);
		for (var a = 0; a < b2Settings.b2_maxManifoldPoints; a++) this.points[a] = new b2ContactPoint;
		this.normal = new b2Vec2
	},
	points: null,
	normal: null,
	pointCount: 0
};
var b2OBB = Class.create();
b2OBB.prototype = {
	R: new b2Mat22,
	center: new b2Vec2,
	extents: new b2Vec2,
	initialize: function() {
		this.R = new b2Mat22;
		this.center = new b2Vec2;
		this.extents = new b2Vec2
	}
};
var b2Proxy = Class.create();
b2Proxy.prototype = {
	GetNext: function() {
		return this.lowerBounds[0]
	},
	SetNext: function(a) {
		this.lowerBounds[0] = a
	},
	IsValid: function() {
		return this.overlapCount != b2BroadPhase.b2_invalid
	},
	lowerBounds: [0, 0],
	upperBounds: [0, 0],
	overlapCount: 0,
	timeStamp: 0,
	userData: null,
	initialize: function() {
		this.lowerBounds = [0, 0];
		this.upperBounds = [0, 0]
	}
};
var ClipVertex = Class.create();
ClipVertex.prototype = {
	v: new b2Vec2,
	id: new b2ContactID,
	initialize: function() {
		this.v = new b2Vec2;
		this.id = new b2ContactID
	}
};
var b2Shape = Class.create();
b2Shape.prototype = {
	TestPoint: function(a) {
		return ! 1
	},
	GetUserData: function() {
		return this.m_userData
	},
	GetType: function() {
		return this.m_type
	},
	GetBody: function() {
		return this.m_body
	},
	GetPosition: function() {
		return this.m_position
	},
	GetRotationMatrix: function() {
		return this.m_R
	},
	ResetProxy: function(a) {},
	GetNext: function() {
		return this.m_next
	},
	initialize: function(a, c) {
		this.m_R = new b2Mat22;
		this.m_position = new b2Vec2;
		this.m_userData = a.userData;
		this.m_friction = a.friction;
		this.m_restitution = a.restitution;
		this.m_body = c;
		this.m_proxyId = b2Pair.b2_nullProxy;
		this.m_maxRadius = 0;
		this.m_categoryBits = a.categoryBits;
		this.m_maskBits = a.maskBits;
		this.m_groupIndex = a.groupIndex
	},
	DestroyProxy: function() {
		this.m_proxyId != b2Pair.b2_nullProxy && (this.m_body.m_world.m_broadPhase.DestroyProxy(this.m_proxyId), this.m_proxyId = b2Pair.b2_nullProxy)
	},
	Synchronize: function(a, c, e, f) {},
	QuickSync: function(a, c) {},
	Support: function(a, c, e) {},
	GetMaxRadius: function() {
		return this.m_maxRadius
	},
	m_next: null,
	m_R: new b2Mat22,
	m_position: new b2Vec2,
	m_type: 0,
	m_userData: null,
	m_body: null,
	m_friction: null,
	m_restitution: null,
	m_maxRadius: null,
	m_proxyId: 0,
	m_categoryBits: 0,
	m_maskBits: 0,
	m_groupIndex: 0
};
b2Shape.Create = function(a, c, e) {
	switch (a.type) {
	case b2Shape.e_circleShape:
		return new b2CircleShape(a, c, e);
	case b2Shape.e_boxShape:
	case b2Shape.e_polyShape:
		return new b2PolyShape(a, c, e)
	}
	return null
};
b2Shape.Destroy = function(a) {
	a.m_proxyId != b2Pair.b2_nullProxy && a.m_body.m_world.m_broadPhase.DestroyProxy(a.m_proxyId)
};
b2Shape.e_unknownShape = -1;
b2Shape.e_circleShape = 0;
b2Shape.e_boxShape = 1;
b2Shape.e_polyShape = 2;
b2Shape.e_meshShape = 3;
b2Shape.e_shapeTypeCount = 4;
b2Shape.PolyMass = function(a, c, e, f) {
	var g = new b2Vec2;
	g.SetZero();
	for (var h = 0,
	k = 0,
	l = new b2Vec2(0, 0), m = 1 / 3, n = 0; n < e; ++n) {
		var p = l,
		r = c[n],
		q = n + 1 < e ? c[n + 1] : c[0],
		s = b2Math.SubtractVV(r, p),
		t = b2Math.SubtractVV(q, p),
		u = b2Math.b2CrossVV(s, t),
		v = 0.5 * u,
		h = h + v,
		x = new b2Vec2;
		x.SetV(p);
		x.Add(r);
		x.Add(q);
		x.Multiply(m * v);
		g.Add(x);
		r = p.x;
		p = p.y;
		q = s.x;
		s = s.y;
		v = t.x;
		t = t.y;
		k += u * (m * (0.25 * (q * q + v * q + v * v) + (r * q + r * v)) + 0.5 * r * r + (m * (0.25 * (s * s + t * s + t * t) + (p * s + p * t)) + 0.5 * p * p))
	}
	a.mass = f * h;
	g.Multiply(1 / h);
	a.center = g;
	k = f * (k - h * b2Math.b2Dot(g, g));
	a.I = k
};
b2Shape.PolyCentroid = function(a, c, e) {
	for (var f = 0,
	g = 0,
	h = 0,
	k = 1 / 3,
	l = 0; l < c; ++l) var m = a[l].x,
	n = a[l].y,
	p = l + 1 < c ? a[l + 1].x: a[0].x,
	r = l + 1 < c ? a[l + 1].y: a[0].y,
	q = 0.5 * ((m - 0) * (r - 0) - (n - 0) * (p - 0)),
	h = h + q,
	f = f + q * k * (0 + m + p),
	g = g + q * k * (0 + n + r);
	e.Set(1 / h * f, 1 / h * g)
};
var b2ShapeDef = Class.create();
b2ShapeDef.prototype = {
	initialize: function() {
		this.type = b2Shape.e_unknownShape;
		this.userData = null;
		this.localPosition = new b2Vec2(0, 0);
		this.localRotation = 0;
		this.friction = 0.2;
		this.density = this.restitution = 0;
		this.categoryBits = 1;
		this.maskBits = 65535;
		this.groupIndex = 0
	},
	ComputeMass: function(a) {
		a.center = new b2Vec2(0, 0);
		0 == this.density && (a.mass = 0, a.center.Set(0, 0), a.I = 0);
		switch (this.type) {
		case b2Shape.e_circleShape:
			a.mass = this.density * b2Settings.b2_pi * this.radius * this.radius;
			a.center.Set(0, 0);
			a.I = 0.5 * a.mass * this.radius * this.radius;
			break;
		case b2Shape.e_boxShape:
			a.mass = 4 * this.density * this.extents.x * this.extents.y;
			a.center.Set(0, 0);
			a.I = a.mass / 3 * b2Math.b2Dot(this.extents, this.extents);
			break;
		case b2Shape.e_polyShape:
			b2Shape.PolyMass(a, this.vertices, this.vertexCount, this.density);
			break;
		default:
			a.mass = 0,
			a.center.Set(0, 0),
			a.I = 0
		}
	},
	type: 0,
	userData: null,
	localPosition: null,
	localRotation: null,
	friction: null,
	restitution: null,
	density: null,
	categoryBits: 0,
	maskBits: 0,
	groupIndex: 0
};
var b2BoxDef = Class.create();
Object.extend(b2BoxDef.prototype, b2ShapeDef.prototype);
Object.extend(b2BoxDef.prototype, {
	initialize: function() {
		this.type = b2Shape.e_unknownShape;
		this.userData = null;
		this.localPosition = new b2Vec2(0, 0);
		this.localRotation = 0;
		this.friction = 0.2;
		this.density = this.restitution = 0;
		this.categoryBits = 1;
		this.maskBits = 65535;
		this.groupIndex = 0;
		this.type = b2Shape.e_boxShape;
		this.extents = new b2Vec2(1, 1)
	},
	extents: null
});
var b2CircleDef = Class.create();
Object.extend(b2CircleDef.prototype, b2ShapeDef.prototype);
Object.extend(b2CircleDef.prototype, {
	initialize: function() {
		this.type = b2Shape.e_unknownShape;
		this.userData = null;
		this.localPosition = new b2Vec2(0, 0);
		this.localRotation = 0;
		this.friction = 0.2;
		this.density = this.restitution = 0;
		this.categoryBits = 1;
		this.maskBits = 65535;
		this.groupIndex = 0;
		this.type = b2Shape.e_circleShape;
		this.radius = 1
	},
	radius: null
});
var b2CircleShape = Class.create();
Object.extend(b2CircleShape.prototype, b2Shape.prototype);
Object.extend(b2CircleShape.prototype, {
	TestPoint: function(a) {
		var c = new b2Vec2;
		c.SetV(a);
		c.Subtract(this.m_position);
		return b2Math.b2Dot(c, c) <= this.m_radius * this.m_radius
	},
	initialize: function(a, c, e) {
		this.m_R = new b2Mat22;
		this.m_position = new b2Vec2;
		this.m_userData = a.userData;
		this.m_friction = a.friction;
		this.m_restitution = a.restitution;
		this.m_body = c;
		this.m_proxyId = b2Pair.b2_nullProxy;
		this.m_maxRadius = 0;
		this.m_categoryBits = a.categoryBits;
		this.m_maskBits = a.maskBits;
		this.m_groupIndex = a.groupIndex;
		this.m_localPosition = new b2Vec2;
		this.m_localPosition.Set(a.localPosition.x - e.x, a.localPosition.y - e.y);
		this.m_type = b2Shape.e_circleShape;
		this.m_radius = a.radius;
		this.m_R.SetM(this.m_body.m_R);
		a = this.m_R.col1.x * this.m_localPosition.x + this.m_R.col2.x * this.m_localPosition.y;
		c = this.m_R.col1.y * this.m_localPosition.x + this.m_R.col2.y * this.m_localPosition.y;
		this.m_position.x = this.m_body.m_position.x + a;
		this.m_position.y = this.m_body.m_position.y + c;
		this.m_maxRadius = Math.sqrt(a * a + c * c) + this.m_radius;
		a = new b2AABB;
		a.minVertex.Set(this.m_position.x - this.m_radius, this.m_position.y - this.m_radius);
		a.maxVertex.Set(this.m_position.x + this.m_radius, this.m_position.y + this.m_radius);
		c = this.m_body.m_world.m_broadPhase;
		c.InRange(a) ? this.m_proxyId = c.CreateProxy(a, this) : this.m_proxyId = b2Pair.b2_nullProxy;
		this.m_proxyId == b2Pair.b2_nullProxy && this.m_body.Freeze()
	},
	Synchronize: function(a, c, e, f) {
		this.m_R.SetM(f);
		this.m_position.x = f.col1.x * this.m_localPosition.x + f.col2.x * this.m_localPosition.y + e.x;
		this.m_position.y = f.col1.y * this.m_localPosition.x + f.col2.y * this.m_localPosition.y + e.y;
		if (this.m_proxyId != b2Pair.b2_nullProxy) {
			e = a.x + (c.col1.x * this.m_localPosition.x + c.col2.x * this.m_localPosition.y);
			f = a.y + (c.col1.y * this.m_localPosition.x + c.col2.y * this.m_localPosition.y);
			a = Math.min(e, this.m_position.x);
			c = Math.min(f, this.m_position.y);
			e = Math.max(e, this.m_position.x);
			var g = Math.max(f, this.m_position.y);
			f = new b2AABB;
			f.minVertex.Set(a - this.m_radius, c - this.m_radius);
			f.maxVertex.Set(e + this.m_radius, g + this.m_radius);
			a = this.m_body.m_world.m_broadPhase;
			a.InRange(f) ? a.MoveProxy(this.m_proxyId, f) : this.m_body.Freeze()
		}
	},
	QuickSync: function(a, c) {
		this.m_R.SetM(c);
		this.m_position.x = c.col1.x * this.m_localPosition.x + c.col2.x * this.m_localPosition.y + a.x;
		this.m_position.y = c.col1.y * this.m_localPosition.x + c.col2.y * this.m_localPosition.y + a.y
	},
	ResetProxy: function(a) {
		if (this.m_proxyId != b2Pair.b2_nullProxy) {
			a.GetProxy(this.m_proxyId);
			a.DestroyProxy(this.m_proxyId);
			var c = new b2AABB;
			c.minVertex.Set(this.m_position.x - this.m_radius, this.m_position.y - this.m_radius);
			c.maxVertex.Set(this.m_position.x + this.m_radius, this.m_position.y + this.m_radius);
			a.InRange(c) ? this.m_proxyId = a.CreateProxy(c, this) : this.m_proxyId = b2Pair.b2_nullProxy;
			this.m_proxyId == b2Pair.b2_nullProxy && this.m_body.Freeze()
		}
	},
	Support: function(a, c, e) {
		var f = Math.sqrt(a * a + c * c);
		e.Set(this.m_position.x + a / f * this.m_radius, this.m_position.y + c / f * this.m_radius)
	},
	m_localPosition: new b2Vec2,
	m_radius: null
});
var b2MassData = Class.create();
b2MassData.prototype = {
	mass: 0,
	center: new b2Vec2(0, 0),
	I: 0,
	initialize: function() {
		this.center = new b2Vec2(0, 0)
	}
};
var b2PolyDef = Class.create();
Object.extend(b2PolyDef.prototype, b2ShapeDef.prototype);
Object.extend(b2PolyDef.prototype, {
	initialize: function() {
		this.type = b2Shape.e_unknownShape;
		this.userData = null;
		this.localPosition = new b2Vec2(0, 0);
		this.localRotation = 0;
		this.friction = 0.2;
		this.density = this.restitution = 0;
		this.categoryBits = 1;
		this.maskBits = 65535;
		this.groupIndex = 0;
		this.vertices = Array(b2Settings.b2_maxPolyVertices);
		this.type = b2Shape.e_polyShape;
		for (var a = this.vertexCount = 0; a < b2Settings.b2_maxPolyVertices; a++) this.vertices[a] = new b2Vec2
	},
	vertices: Array(b2Settings.b2_maxPolyVertices),
	vertexCount: 0
});
var b2PolyShape = Class.create();
Object.extend(b2PolyShape.prototype, b2Shape.prototype);
Object.extend(b2PolyShape.prototype, {
	TestPoint: function(a) {
		var c = new b2Vec2;
		c.SetV(a);
		c.Subtract(this.m_position);
		c.MulTM(this.m_R);
		for (a = 0; a < this.m_vertexCount; ++a) {
			var e = new b2Vec2;
			e.SetV(c);
			e.Subtract(this.m_vertices[a]);
			if (0 < b2Math.b2Dot(this.m_normals[a], e)) return ! 1
		}
		return ! 0
	},
	initialize: function(a, c, e) {
		this.m_R = new b2Mat22;
		this.m_position = new b2Vec2;
		this.m_userData = a.userData;
		this.m_friction = a.friction;
		this.m_restitution = a.restitution;
		this.m_body = c;
		this.m_proxyId = b2Pair.b2_nullProxy;
		this.m_maxRadius = 0;
		this.m_categoryBits = a.categoryBits;
		this.m_maskBits = a.maskBits;
		this.m_groupIndex = a.groupIndex;
		this.syncAABB = new b2AABB;
		this.syncMat = new b2Mat22;
		this.m_localCentroid = new b2Vec2;
		this.m_localOBB = new b2OBB;
		var f = 0,
		g;
		c = new b2AABB;
		this.m_vertices = Array(b2Settings.b2_maxPolyVertices);
		this.m_coreVertices = Array(b2Settings.b2_maxPolyVertices);
		this.m_normals = Array(b2Settings.b2_maxPolyVertices);
		this.m_type = b2Shape.e_polyShape;
		var h = new b2Mat22(a.localRotation);
		if (a.type == b2Shape.e_boxShape) {
			this.m_localCentroid.x = a.localPosition.x - e.x;
			this.m_localCentroid.y = a.localPosition.y - e.y;
			this.m_vertexCount = 4;
			e = a.extents.x;
			g = a.extents.y;
			a = Math.max(0, e - 2 * b2Settings.b2_linearSlop);
			var k = Math.max(0, g - 2 * b2Settings.b2_linearSlop),
			f = this.m_vertices[0] = new b2Vec2;
			f.x = h.col1.x * e + h.col2.x * g;
			f.y = h.col1.y * e + h.col2.y * g;
			f = this.m_vertices[1] = new b2Vec2;
			f.x = h.col1.x * -e + h.col2.x * g;
			f.y = h.col1.y * -e + h.col2.y * g;
			f = this.m_vertices[2] = new b2Vec2;
			f.x = h.col1.x * -e + h.col2.x * -g;
			f.y = h.col1.y * -e + h.col2.y * -g;
			f = this.m_vertices[3] = new b2Vec2;
			f.x = h.col1.x * e + h.col2.x * -g;
			f.y = h.col1.y * e + h.col2.y * -g;
			f = this.m_coreVertices[0] = new b2Vec2;
			f.x = h.col1.x * a + h.col2.x * k;
			f.y = h.col1.y * a + h.col2.y * k;
			f = this.m_coreVertices[1] = new b2Vec2;
			f.x = h.col1.x * -a + h.col2.x * k;
			f.y = h.col1.y * -a + h.col2.y * k;
			f = this.m_coreVertices[2] = new b2Vec2;
			f.x = h.col1.x * -a + h.col2.x * -k;
			f.y = h.col1.y * -a + h.col2.y * -k;
			f = this.m_coreVertices[3] = new b2Vec2;
			f.x = h.col1.x * a + h.col2.x * -k;
			f.y = h.col1.y * a + h.col2.y * -k
		} else {
			this.m_vertexCount = a.vertexCount;
			b2Shape.PolyCentroid(a.vertices, a.vertexCount, b2PolyShape.tempVec);
			var k = b2PolyShape.tempVec.x,
			l = b2PolyShape.tempVec.y;
			this.m_localCentroid.x = a.localPosition.x + (h.col1.x * k + h.col2.x * l) - e.x;
			this.m_localCentroid.y = a.localPosition.y + (h.col1.y * k + h.col2.y * l) - e.y;
			for (f = 0; f < this.m_vertexCount; ++f) {
				this.m_vertices[f] = new b2Vec2;
				this.m_coreVertices[f] = new b2Vec2;
				e = a.vertices[f].x - k;
				g = a.vertices[f].y - l;
				this.m_vertices[f].x = h.col1.x * e + h.col2.x * g;
				this.m_vertices[f].y = h.col1.y * e + h.col2.y * g;
				e = this.m_vertices[f].x;
				g = this.m_vertices[f].y;
				var m = Math.sqrt(e * e + g * g);
				m > Number.MIN_VALUE && (e *= 1 / m, g *= 1 / m);
				this.m_coreVertices[f].x = this.m_vertices[f].x - 2 * b2Settings.b2_linearSlop * e;
				this.m_coreVertices[f].y = this.m_vertices[f].y - 2 * b2Settings.b2_linearSlop * g
			}
		}
		a = h = Number.MAX_VALUE;
		e = -Number.MAX_VALUE;
		g = -Number.MAX_VALUE;
		for (f = this.m_maxRadius = 0; f < this.m_vertexCount; ++f) k = this.m_vertices[f],
		h = Math.min(h, k.x),
		a = Math.min(a, k.y),
		e = Math.max(e, k.x),
		g = Math.max(g, k.y),
		this.m_maxRadius = Math.max(this.m_maxRadius, k.Length());
		this.m_localOBB.R.SetIdentity();
		this.m_localOBB.center.Set(0.5 * (h + e), 0.5 * (a + g));
		this.m_localOBB.extents.Set(0.5 * (e - h), 0.5 * (g - a));
		for (f = a = h = 0; f < this.m_vertexCount; ++f) this.m_normals[f] = new b2Vec2,
		h = f,
		a = f + 1 < this.m_vertexCount ? f + 1 : 0,
		this.m_normals[f].x = this.m_vertices[a].y - this.m_vertices[h].y,
		this.m_normals[f].y = -(this.m_vertices[a].x - this.m_vertices[h].x),
		this.m_normals[f].Normalize();
		for (f = 0; f < this.m_vertexCount; ++f);
		this.m_R.SetM(this.m_body.m_R);
		this.m_position.x = this.m_body.m_position.x + (this.m_R.col1.x * this.m_localCentroid.x + this.m_R.col2.x * this.m_localCentroid.y);
		this.m_position.y = this.m_body.m_position.y + (this.m_R.col1.y * this.m_localCentroid.x + this.m_R.col2.y * this.m_localCentroid.y);
		b2PolyShape.tAbsR.col1.x = this.m_R.col1.x * this.m_localOBB.R.col1.x + this.m_R.col2.x * this.m_localOBB.R.col1.y;
		b2PolyShape.tAbsR.col1.y = this.m_R.col1.y * this.m_localOBB.R.col1.x + this.m_R.col2.y * this.m_localOBB.R.col1.y;
		b2PolyShape.tAbsR.col2.x = this.m_R.col1.x * this.m_localOBB.R.col2.x + this.m_R.col2.x * this.m_localOBB.R.col2.y;
		b2PolyShape.tAbsR.col2.y = this.m_R.col1.y * this.m_localOBB.R.col2.x + this.m_R.col2.y * this.m_localOBB.R.col2.y;
		b2PolyShape.tAbsR.Abs();
		e = b2PolyShape.tAbsR.col1.x * this.m_localOBB.extents.x + b2PolyShape.tAbsR.col2.x * this.m_localOBB.extents.y;
		g = b2PolyShape.tAbsR.col1.y * this.m_localOBB.extents.x + b2PolyShape.tAbsR.col2.y * this.m_localOBB.extents.y;
		f = this.m_position.x + (this.m_R.col1.x * this.m_localOBB.center.x + this.m_R.col2.x * this.m_localOBB.center.y);
		h = this.m_position.y + (this.m_R.col1.y * this.m_localOBB.center.x + this.m_R.col2.y * this.m_localOBB.center.y);
		c.minVertex.x = f - e;
		c.minVertex.y = h - g;
		c.maxVertex.x = f + e;
		c.maxVertex.y = h + g;
		f = this.m_body.m_world.m_broadPhase;
		f.InRange(c) ? this.m_proxyId = f.CreateProxy(c, this) : this.m_proxyId = b2Pair.b2_nullProxy;
		this.m_proxyId == b2Pair.b2_nullProxy && this.m_body.Freeze()
	},
	syncAABB: new b2AABB,
	syncMat: new b2Mat22,
	Synchronize: function(a, c, e, f) {
		this.m_R.SetM(f);
		this.m_position.x = this.m_body.m_position.x + (f.col1.x * this.m_localCentroid.x + f.col2.x * this.m_localCentroid.y);
		this.m_position.y = this.m_body.m_position.y + (f.col1.y * this.m_localCentroid.x + f.col2.y * this.m_localCentroid.y);
		if (this.m_proxyId != b2Pair.b2_nullProxy) {
			var g, h;
			g = c.col1;
			h = c.col2;
			var k = this.m_localOBB.R.col1,
			l = this.m_localOBB.R.col2;
			this.syncMat.col1.x = g.x * k.x + h.x * k.y;
			this.syncMat.col1.y = g.y * k.x + h.y * k.y;
			this.syncMat.col2.x = g.x * l.x + h.x * l.y;
			this.syncMat.col2.y = g.y * l.x + h.y * l.y;
			this.syncMat.Abs();
			g = this.m_localCentroid.x + this.m_localOBB.center.x;
			h = this.m_localCentroid.y + this.m_localOBB.center.y;
			k = a.x + (c.col1.x * g + c.col2.x * h);
			a = a.y + (c.col1.y * g + c.col2.y * h);
			g = this.syncMat.col1.x * this.m_localOBB.extents.x + this.syncMat.col2.x * this.m_localOBB.extents.y;
			h = this.syncMat.col1.y * this.m_localOBB.extents.x + this.syncMat.col2.y * this.m_localOBB.extents.y;
			this.syncAABB.minVertex.x = k - g;
			this.syncAABB.minVertex.y = a - h;
			this.syncAABB.maxVertex.x = k + g;
			this.syncAABB.maxVertex.y = a + h;
			g = f.col1;
			h = f.col2;
			k = this.m_localOBB.R.col1;
			l = this.m_localOBB.R.col2;
			this.syncMat.col1.x = g.x * k.x + h.x * k.y;
			this.syncMat.col1.y = g.y * k.x + h.y * k.y;
			this.syncMat.col2.x = g.x * l.x + h.x * l.y;
			this.syncMat.col2.y = g.y * l.x + h.y * l.y;
			this.syncMat.Abs();
			g = this.m_localCentroid.x + this.m_localOBB.center.x;
			h = this.m_localCentroid.y + this.m_localOBB.center.y;
			k = e.x + (f.col1.x * g + f.col2.x * h);
			a = e.y + (f.col1.y * g + f.col2.y * h);
			g = this.syncMat.col1.x * this.m_localOBB.extents.x + this.syncMat.col2.x * this.m_localOBB.extents.y;
			h = this.syncMat.col1.y * this.m_localOBB.extents.x + this.syncMat.col2.y * this.m_localOBB.extents.y;
			this.syncAABB.minVertex.x = Math.min(this.syncAABB.minVertex.x, k - g);
			this.syncAABB.minVertex.y = Math.min(this.syncAABB.minVertex.y, a - h);
			this.syncAABB.maxVertex.x = Math.max(this.syncAABB.maxVertex.x, k + g);
			this.syncAABB.maxVertex.y = Math.max(this.syncAABB.maxVertex.y, a + h);
			e = this.m_body.m_world.m_broadPhase;
			e.InRange(this.syncAABB) ? e.MoveProxy(this.m_proxyId, this.syncAABB) : this.m_body.Freeze()
		}
	},
	QuickSync: function(a, c) {
		this.m_R.SetM(c);
		this.m_position.x = a.x + (c.col1.x * this.m_localCentroid.x + c.col2.x * this.m_localCentroid.y);
		this.m_position.y = a.y + (c.col1.y * this.m_localCentroid.x + c.col2.y * this.m_localCentroid.y)
	},
	ResetProxy: function(a) {
		if (this.m_proxyId != b2Pair.b2_nullProxy) {
			a.GetProxy(this.m_proxyId);
			a.DestroyProxy(this.m_proxyId);
			var c = b2Math.b2MulMM(this.m_R, this.m_localOBB.R),
			c = b2Math.b2AbsM(c),
			c = b2Math.b2MulMV(c, this.m_localOBB.extents),
			e = b2Math.b2MulMV(this.m_R, this.m_localOBB.center);
			e.Add(this.m_position);
			var f = new b2AABB;
			f.minVertex.SetV(e);
			f.minVertex.Subtract(c);
			f.maxVertex.SetV(e);
			f.maxVertex.Add(c);
			a.InRange(f) ? this.m_proxyId = a.CreateProxy(f, this) : this.m_proxyId = b2Pair.b2_nullProxy;
			this.m_proxyId == b2Pair.b2_nullProxy && this.m_body.Freeze()
		}
	},
	Support: function(a, c, e) {
		var f = a * this.m_R.col1.x + c * this.m_R.col1.y;
		a = a * this.m_R.col2.x + c * this.m_R.col2.y;
		c = 0;
		for (var g = this.m_coreVertices[0].x * f + this.m_coreVertices[0].y * a, h = 1; h < this.m_vertexCount; ++h) {
			var k = this.m_coreVertices[h].x * f + this.m_coreVertices[h].y * a;
			k > g && (c = h, g = k)
		}
		e.Set(this.m_position.x + (this.m_R.col1.x * this.m_coreVertices[c].x + this.m_R.col2.x * this.m_coreVertices[c].y), this.m_position.y + (this.m_R.col1.y * this.m_coreVertices[c].x + this.m_R.col2.y * this.m_coreVertices[c].y))
	},
	m_localCentroid: new b2Vec2,
	m_localOBB: new b2OBB,
	m_vertices: null,
	m_coreVertices: null,
	m_vertexCount: 0,
	m_normals: null
});
b2PolyShape.tempVec = new b2Vec2;
b2PolyShape.tAbsR = new b2Mat22;
var b2Body = Class.create();
b2Body.prototype = {
	SetOriginPosition: function(a, c) {
		if (!this.IsFrozen()) {
			this.m_rotation = c;
			this.m_R.Set(this.m_rotation);
			this.m_position = b2Math.AddVV(a, b2Math.b2MulMV(this.m_R, this.m_center));
			this.m_position0.SetV(this.m_position);
			this.m_rotation0 = this.m_rotation;
			for (var e = this.m_shapeList; null != e; e = e.m_next) e.Synchronize(this.m_position, this.m_R, this.m_position, this.m_R);
			this.m_world.m_broadPhase.Commit()
		}
	},
	GetOriginPosition: function() {
		return b2Math.SubtractVV(this.m_position, b2Math.b2MulMV(this.m_R, this.m_center))
	},
	SetCenterPosition: function(a, c) {
		if (!this.IsFrozen()) {
			this.m_rotation = c;
			this.m_R.Set(this.m_rotation);
			this.m_position.SetV(a);
			this.m_position0.SetV(this.m_position);
			this.m_rotation0 = this.m_rotation;
			for (var e = this.m_shapeList; null != e; e = e.m_next) e.Synchronize(this.m_position, this.m_R, this.m_position, this.m_R);
			this.m_world.m_broadPhase.Commit()
		}
	},
	GetCenterPosition: function() {
		return this.m_position
	},
	GetPosition: function() {
		var a, c;
		a = this.m_position.x;
		c = this.m_position.y;
		if (0 != this.m_center.x || 0 != this.m_center.y) a -= this.m_center.x * Math.cos( - this.m_rotation) + this.m_center.y * Math.sin( - this.m_rotation),
		c -= this.m_center.x * -Math.sin( - this.m_rotation) + this.m_center.y * Math.cos( - this.m_rotation);
		return new b2Vec2(a, c)
	},
	GetRotation: function() {
		return this.m_rotation
	},
	GetRotationMatrix: function() {
		return this.m_R
	},
	SetLinearVelocity: function(a) {
		this.m_linearVelocity.SetV(a)
	},
	GetLinearVelocity: function() {
		return this.m_linearVelocity
	},
	SetAngularVelocity: function(a) {
		this.m_angularVelocity = a
	},
	GetAngularVelocity: function() {
		return this.m_angularVelocity
	},
	ApplyForce: function(a, c) { ! 1 == this.IsSleeping() && (this.m_force.Add(a), this.m_torque += b2Math.b2CrossVV(b2Math.SubtractVV(c, this.m_position), a))
	},
	ApplyTorque: function(a) { ! 1 == this.IsSleeping() && (this.m_torque += a)
	},
	ApplyImpulse: function(a, c) { ! 1 == this.IsSleeping() && (this.m_linearVelocity.Add(b2Math.MulFV(this.m_invMass, a)), this.m_angularVelocity += this.m_invI * b2Math.b2CrossVV(b2Math.SubtractVV(c, this.m_position), a))
	},
	GetMass: function() {
		return this.m_mass
	},
	GetInertia: function() {
		return this.m_I
	},
	GetWorldPoint: function(a) {
		return b2Math.AddVV(this.m_position, b2Math.b2MulMV(this.m_R, a))
	},
	GetWorldVector: function(a) {
		return b2Math.b2MulMV(this.m_R, a)
	},
	GetLocalPoint: function(a) {
		return b2Math.b2MulTMV(this.m_R, b2Math.SubtractVV(a, this.m_position))
	},
	GetLocalVector: function(a) {
		return b2Math.b2MulTMV(this.m_R, a)
	},
	IsStatic: function() {
		return (this.m_flags & b2Body.e_staticFlag) == b2Body.e_staticFlag
	},
	IsFrozen: function() {
		return (this.m_flags & b2Body.e_frozenFlag) == b2Body.e_frozenFlag
	},
	IsSleeping: function() {
		return (this.m_flags & b2Body.e_sleepFlag) == b2Body.e_sleepFlag
	},
	AllowSleeping: function(a) {
		a ? this.m_flags |= b2Body.e_allowSleepFlag: (this.m_flags &= ~b2Body.e_allowSleepFlag, this.WakeUp())
	},
	WakeUp: function() {
		this.m_flags &= ~b2Body.e_sleepFlag;
		this.m_sleepTime = 0
	},
	GoToSleep: function() {
		this.m_flags |= b2Body.e_sleepFlag;
		this.m_linearVelocity.SetZero();
		this.m_angularVelocity = 0
	},
	GetShapeList: function() {
		return this.m_shapeList
	},
	GetContactList: function() {
		return this.m_contactList
	},
	GetJointList: function() {
		return this.m_jointList
	},
	GetNext: function() {
		return this.m_next
	},
	GetUserData: function() {
		return this.m_userData
	},
	initialize: function(a, c) {
		this.sMat0 = new b2Mat22;
		this.m_position = new b2Vec2;
		this.m_R = new b2Mat22(0);
		this.m_position0 = new b2Vec2;
		var e = 0,
		f, g;
		this.m_flags = 0;
		this.m_position.SetV(a.position);
		this.m_rotation = a.rotation;
		this.m_R.Set(this.m_rotation);
		this.m_position0.SetV(this.m_position);
		this.m_rotation0 = this.m_rotation;
		this.m_world = c;
		this.m_linearDamping = b2Math.b2Clamp(1 - a.linearDamping, 0, 1);
		this.m_angularDamping = b2Math.b2Clamp(1 - a.angularDamping, 0, 1);
		this.m_force = new b2Vec2(0, 0);
		this.m_mass = this.m_torque = 0;
		for (var h = Array(b2Settings.b2_maxShapesPerBody), e = 0; e < b2Settings.b2_maxShapesPerBody; e++) h[e] = new b2MassData;
		this.m_shapeCount = 0;
		this.m_center = new b2Vec2(0, 0);
		for (e = 0; e < b2Settings.b2_maxShapesPerBody; ++e) {
			f = a.shapes[e];
			if (null == f) break;
			g = h[e];
			f.ComputeMass(g);
			this.m_mass += g.mass;
			this.m_center.x += g.mass * (f.localPosition.x + g.center.x);
			this.m_center.y += g.mass * (f.localPosition.y + g.center.y); ++this.m_shapeCount
		}
		0 < this.m_mass ? (this.m_center.Multiply(1 / this.m_mass), this.m_position.Add(b2Math.b2MulMV(this.m_R, this.m_center))) : this.m_flags |= b2Body.e_staticFlag;
		for (e = this.m_I = 0; e < this.m_shapeCount; ++e) f = a.shapes[e],
		g = h[e],
		this.m_I += g.I,
		f = b2Math.SubtractVV(b2Math.AddVV(f.localPosition, g.center), this.m_center),
		this.m_I += g.mass * b2Math.b2Dot(f, f);
		this.m_invMass = 0 < this.m_mass ? 1 / this.m_mass: 0;
		this.m_invI = 0 < this.m_I && !1 == a.preventRotation ? 1 / this.m_I: this.m_I = 0;
		this.m_linearVelocity = b2Math.AddVV(a.linearVelocity, b2Math.b2CrossFV(a.angularVelocity, this.m_center));
		this.m_angularVelocity = a.angularVelocity;
		this.m_shapeList = this.m_next = this.m_prev = this.m_contactList = this.m_jointList = null;
		for (e = 0; e < this.m_shapeCount; ++e) f = a.shapes[e],
		g = b2Shape.Create(f, this, this.m_center),
		g.m_next = this.m_shapeList,
		this.m_shapeList = g;
		this.m_sleepTime = 0;
		a.allowSleep && (this.m_flags |= b2Body.e_allowSleepFlag);
		a.isSleeping && (this.m_flags |= b2Body.e_sleepFlag);
		if (this.m_flags & b2Body.e_sleepFlag || 0 == this.m_invMass) this.m_linearVelocity.Set(0, 0),
		this.m_angularVelocity = 0;
		this.m_userData = a.userData
	},
	Destroy: function() {
		for (var a = this.m_shapeList; a;) {
			var c = a,
			a = a.m_next;
			b2Shape.Destroy(c)
		}
	},
	sMat0: new b2Mat22,
	SynchronizeShapes: function() {
		this.sMat0.Set(this.m_rotation0);
		for (var a = this.m_shapeList; null != a; a = a.m_next) a.Synchronize(this.m_position0, this.sMat0, this.m_position, this.m_R)
	},
	QuickSyncShapes: function() {
		for (var a = this.m_shapeList; null != a; a = a.m_next) a.QuickSync(this.m_position, this.m_R)
	},
	IsConnected: function(a) {
		for (var c = this.m_jointList; null != c; c = c.next) if (c.other == a) return ! 1 == c.joint.m_collideConnected;
		return ! 1
	},
	Freeze: function() {
		this.m_flags |= b2Body.e_frozenFlag;
		this.m_linearVelocity.SetZero();
		this.m_angularVelocity = 0;
		for (var a = this.m_shapeList; null != a; a = a.m_next) a.DestroyProxy()
	},
	m_flags: 0,
	m_position: new b2Vec2,
	m_rotation: null,
	m_R: new b2Mat22(0),
	m_position0: new b2Vec2,
	m_rotation0: null,
	m_linearVelocity: null,
	m_angularVelocity: null,
	m_force: null,
	m_torque: null,
	m_center: null,
	m_world: null,
	m_prev: null,
	m_next: null,
	m_shapeList: null,
	m_shapeCount: 0,
	m_jointList: null,
	m_contactList: null,
	m_mass: null,
	m_invMass: null,
	m_I: null,
	m_invI: null,
	m_linearDamping: null,
	m_angularDamping: null,
	m_sleepTime: null,
	m_userData: null
};
b2Body.e_staticFlag = 1;
b2Body.e_frozenFlag = 2;
b2Body.e_islandFlag = 4;
b2Body.e_sleepFlag = 8;
b2Body.e_allowSleepFlag = 16;
b2Body.e_destroyFlag = 32;
var b2BodyDef = Class.create();
b2BodyDef.prototype = {
	initialize: function() {
		this.shapes = [];
		this.userData = null;
		for (var a = 0; a < b2Settings.b2_maxShapesPerBody; a++) this.shapes[a] = null;
		this.position = new b2Vec2(0, 0);
		this.rotation = 0;
		this.linearVelocity = new b2Vec2(0, 0);
		this.angularDamping = this.linearDamping = this.angularVelocity = 0;
		this.allowSleep = !0;
		this.preventRotation = this.isSleeping = !1
	},
	userData: null,
	shapes: [],
	position: null,
	rotation: null,
	linearVelocity: null,
	angularVelocity: null,
	linearDamping: null,
	angularDamping: null,
	allowSleep: null,
	isSleeping: null,
	preventRotation: null,
	AddShape: function(a) {
		for (var c = 0; c < b2Settings.b2_maxShapesPerBody; ++c) if (null == this.shapes[c]) {
			this.shapes[c] = a;
			break
		}
	}
};
var b2CollisionFilter = Class.create();
b2CollisionFilter.prototype = {
	ShouldCollide: function(a, c) {
		return a.m_groupIndex == c.m_groupIndex && 0 != a.m_groupIndex ? 0 < a.m_groupIndex: 0 != (a.m_maskBits & c.m_categoryBits) && 0 != (a.m_categoryBits & c.m_maskBits)
	},
	initialize: function() {}
};
b2CollisionFilter.b2_defaultFilter = new b2CollisionFilter;
var b2Island = Class.create();
b2Island.prototype = {
	initialize: function(a, c, e, f) {
		var g = 0;
		this.m_bodyCapacity = a;
		this.m_contactCapacity = c;
		this.m_jointCapacity = e;
		this.m_jointCount = this.m_contactCount = this.m_bodyCount = 0;
		this.m_bodies = Array(a);
		for (g = 0; g < a; g++) this.m_bodies[g] = null;
		this.m_contacts = Array(c);
		for (g = 0; g < c; g++) this.m_contacts[g] = null;
		this.m_joints = Array(e);
		for (g = 0; g < e; g++) this.m_joints[g] = null;
		this.m_allocator = f
	},
	Clear: function() {
		this.m_jointCount = this.m_contactCount = this.m_bodyCount = 0
	},
	Solve: function(a, c) {
		for (var e = 0,
		f, e = 0; e < this.m_bodyCount; ++e) f = this.m_bodies[e],
		0 != f.m_invMass && (f.m_linearVelocity.Add(b2Math.MulFV(a.dt, b2Math.AddVV(c, b2Math.MulFV(f.m_invMass, f.m_force)))), f.m_angularVelocity += a.dt * f.m_invI * f.m_torque, f.m_linearVelocity.Multiply(f.m_linearDamping), f.m_angularVelocity *= f.m_angularDamping, f.m_position0.SetV(f.m_position), f.m_rotation0 = f.m_rotation);
		var g = new b2ContactSolver(this.m_contacts, this.m_contactCount, this.m_allocator);
		g.PreSolve();
		for (e = 0; e < this.m_jointCount; ++e) this.m_joints[e].PrepareVelocitySolver();
		for (e = 0; e < a.iterations; ++e) for (g.SolveVelocityConstraints(), f = 0; f < this.m_jointCount; ++f) this.m_joints[f].SolveVelocityConstraints(a);
		for (e = 0; e < this.m_bodyCount; ++e) f = this.m_bodies[e],
		0 != f.m_invMass && (f.m_position.x += a.dt * f.m_linearVelocity.x, f.m_position.y += a.dt * f.m_linearVelocity.y, f.m_rotation += a.dt * f.m_angularVelocity, f.m_R.Set(f.m_rotation));
		for (e = 0; e < this.m_jointCount; ++e) this.m_joints[e].PreparePositionSolver();
		if (b2World.s_enablePositionCorrection) for (b2Island.m_positionIterationCount = 0; b2Island.m_positionIterationCount < a.iterations; ++b2Island.m_positionIterationCount) {
			f = g.SolvePositionConstraints(b2Settings.b2_contactBaumgarte);
			for (var h = !0,
			e = 0; e < this.m_jointCount; ++e) var k = this.m_joints[e].SolvePositionConstraints(),
			h = h && k;
			if (f && h) break
		}
		g.PostSolve();
		for (e = 0; e < this.m_bodyCount; ++e) f = this.m_bodies[e],
		0 != f.m_invMass && (f.m_R.Set(f.m_rotation), f.SynchronizeShapes(), f.m_force.Set(0, 0), f.m_torque = 0)
	},
	UpdateSleep: function(a) {
		for (var c = 0,
		e, f = Number.MAX_VALUE,
		g = b2Settings.b2_linearSleepTolerance * b2Settings.b2_linearSleepTolerance,
		h = b2Settings.b2_angularSleepTolerance * b2Settings.b2_angularSleepTolerance,
		c = 0; c < this.m_bodyCount; ++c) e = this.m_bodies[c],
		0 != e.m_invMass && (0 == (e.m_flags & b2Body.e_allowSleepFlag) && (f = e.m_sleepTime = 0), 0 == (e.m_flags & b2Body.e_allowSleepFlag) || e.m_angularVelocity * e.m_angularVelocity > h || b2Math.b2Dot(e.m_linearVelocity, e.m_linearVelocity) > g ? f = e.m_sleepTime = 0 : (e.m_sleepTime += a, f = b2Math.b2Min(f, e.m_sleepTime)));
		if (f >= b2Settings.b2_timeToSleep) for (c = 0; c < this.m_bodyCount; ++c) e = this.m_bodies[c],
		e.m_flags |= b2Body.e_sleepFlag,
		e.m_linearVelocity.SetZero(),
		e.m_angularVelocity = 0
	},
	AddBody: function(a) {
		this.m_bodies[this.m_bodyCount++] = a
	},
	AddContact: function(a) {
		this.m_contacts[this.m_contactCount++] = a
	},
	AddJoint: function(a) {
		this.m_joints[this.m_jointCount++] = a
	},
	m_allocator: null,
	m_bodies: null,
	m_contacts: null,
	m_joints: null,
	m_bodyCount: 0,
	m_jointCount: 0,
	m_contactCount: 0,
	m_bodyCapacity: 0,
	m_contactCapacity: 0,
	m_jointCapacity: 0,
	m_positionError: null
};
b2Island.m_positionIterationCount = 0;
var b2TimeStep = Class.create();
b2TimeStep.prototype = {
	dt: null,
	inv_dt: null,
	iterations: 0,
	initialize: function() {}
};
var b2ContactNode = Class.create();
b2ContactNode.prototype = {
	other: null,
	contact: null,
	prev: null,
	next: null,
	initialize: function() {}
};
var b2Contact = Class.create();
b2Contact.prototype = {
	GetManifolds: function() {
		return null
	},
	GetManifoldCount: function() {
		return this.m_manifoldCount
	},
	GetNext: function() {
		return this.m_next
	},
	GetShape1: function() {
		return this.m_shape1
	},
	GetShape2: function() {
		return this.m_shape2
	},
	initialize: function(a, c) {
		this.m_node1 = new b2ContactNode;
		this.m_node2 = new b2ContactNode;
		this.m_flags = 0;
		a && c ? (this.m_shape1 = a, this.m_shape2 = c, this.m_manifoldCount = 0, this.m_friction = Math.sqrt(this.m_shape1.m_friction * this.m_shape2.m_friction), this.m_restitution = b2Math.b2Max(this.m_shape1.m_restitution, this.m_shape2.m_restitution), this.m_next = this.m_prev = null, this.m_node1.contact = null, this.m_node1.prev = null, this.m_node1.next = null, this.m_node1.other = null, this.m_node2.contact = null, this.m_node2.prev = null, this.m_node2.next = null, this.m_node2.other = null) : this.m_shape2 = this.m_shape1 = null
	},
	Evaluate: function() {},
	m_flags: 0,
	m_prev: null,
	m_next: null,
	m_node1: new b2ContactNode,
	m_node2: new b2ContactNode,
	m_shape1: null,
	m_shape2: null,
	m_manifoldCount: 0,
	m_friction: null,
	m_restitution: null
};
b2Contact.e_islandFlag = 1;
b2Contact.e_destroyFlag = 2;
b2Contact.AddType = function(a, c, e, f) {
	b2Contact.s_registers[e][f].createFcn = a;
	b2Contact.s_registers[e][f].destroyFcn = c;
	b2Contact.s_registers[e][f].primary = !0;
	e != f && (b2Contact.s_registers[f][e].createFcn = a, b2Contact.s_registers[f][e].destroyFcn = c, b2Contact.s_registers[f][e].primary = !1)
};
b2Contact.InitializeRegisters = function() {
	b2Contact.s_registers = Array(b2Shape.e_shapeTypeCount);
	for (var a = 0; a < b2Shape.e_shapeTypeCount; a++) {
		b2Contact.s_registers[a] = Array(b2Shape.e_shapeTypeCount);
		for (var c = 0; c < b2Shape.e_shapeTypeCount; c++) b2Contact.s_registers[a][c] = new b2ContactRegister
	}
	b2Contact.AddType(b2CircleContact.Create, b2CircleContact.Destroy, b2Shape.e_circleShape, b2Shape.e_circleShape);
	b2Contact.AddType(b2PolyAndCircleContact.Create, b2PolyAndCircleContact.Destroy, b2Shape.e_polyShape, b2Shape.e_circleShape);
	b2Contact.AddType(b2PolyContact.Create, b2PolyContact.Destroy, b2Shape.e_polyShape, b2Shape.e_polyShape)
};
b2Contact.Create = function(a, c, e) { ! 1 == b2Contact.s_initialized && (b2Contact.InitializeRegisters(), b2Contact.s_initialized = !0);
	var f = a.m_type,
	g = c.m_type,
	h = b2Contact.s_registers[f][g].createFcn;
	if (h) {
		if (b2Contact.s_registers[f][g].primary) return h(a, c, e);
		a = h(c, a, e);
		for (c = 0; c < a.GetManifoldCount(); ++c) e = a.GetManifolds()[c],
		e.normal = e.normal.Negative();
		return a
	}
	return null
};
b2Contact.Destroy = function(a, c) {
	0 < a.GetManifoldCount() && (a.m_shape1.m_body.WakeUp(), a.m_shape2.m_body.WakeUp());
	var e = b2Contact.s_registers[a.m_shape1.m_type][a.m_shape2.m_type].destroyFcn;
	e(a, c)
};
b2Contact.s_registers = null;
b2Contact.s_initialized = !1;
var b2ContactConstraint = Class.create();
b2ContactConstraint.prototype = {
	initialize: function() {
		this.normal = new b2Vec2;
		this.points = Array(b2Settings.b2_maxManifoldPoints);
		for (var a = 0; a < b2Settings.b2_maxManifoldPoints; a++) this.points[a] = new b2ContactConstraintPoint
	},
	points: null,
	normal: new b2Vec2,
	manifold: null,
	body1: null,
	body2: null,
	friction: null,
	restitution: null,
	pointCount: 0
};
var b2ContactConstraintPoint = Class.create();
b2ContactConstraintPoint.prototype = {
	localAnchor1: new b2Vec2,
	localAnchor2: new b2Vec2,
	normalImpulse: null,
	tangentImpulse: null,
	positionImpulse: null,
	normalMass: null,
	tangentMass: null,
	separation: null,
	velocityBias: null,
	initialize: function() {
		this.localAnchor1 = new b2Vec2;
		this.localAnchor2 = new b2Vec2
	}
};
var b2ContactRegister = Class.create();
b2ContactRegister.prototype = {
	createFcn: null,
	destroyFcn: null,
	primary: null,
	initialize: function() {}
};
var b2ContactSolver = Class.create();
b2ContactSolver.prototype = {
	initialize: function(a, c, e) {
		this.m_constraints = [];
		this.m_allocator = e;
		e = 0;
		var f, g;
		for (e = this.m_constraintCount = 0; e < c; ++e) this.m_constraintCount += a[e].GetManifoldCount();
		for (e = 0; e < this.m_constraintCount; e++) this.m_constraints[e] = new b2ContactConstraint;
		var h = 0;
		for (e = 0; e < c; ++e) for (var k = a[e], l = k.m_shape1.m_body, m = k.m_shape2.m_body, n = k.GetManifoldCount(), p = k.GetManifolds(), r = k.m_friction, k = k.m_restitution, q = l.m_linearVelocity.x, s = l.m_linearVelocity.y, t = m.m_linearVelocity.x, u = m.m_linearVelocity.y, v = l.m_angularVelocity, x = m.m_angularVelocity, y = 0; y < n; ++y) {
			var C = p[y],
			B = C.normal.x,
			F = C.normal.y,
			D = this.m_constraints[h];
			D.body1 = l;
			D.body2 = m;
			D.manifold = C;
			D.normal.x = B;
			D.normal.y = F;
			D.pointCount = C.pointCount;
			D.friction = r;
			D.restitution = k;
			for (var G = 0; G < D.pointCount; ++G) {
				var A = C.points[G],
				z = D.points[G];
				z.normalImpulse = A.normalImpulse;
				z.tangentImpulse = A.tangentImpulse;
				z.separation = A.separation;
				var E = A.position.x - l.m_position.x,
				H = A.position.y - l.m_position.y,
				J = A.position.x - m.m_position.x,
				A = A.position.y - m.m_position.y;
				f = z.localAnchor1;
				g = l.m_R;
				f.x = E * g.col1.x + H * g.col1.y;
				f.y = E * g.col2.x + H * g.col2.y;
				f = z.localAnchor2;
				g = m.m_R;
				f.x = J * g.col1.x + A * g.col1.y;
				f.y = J * g.col2.x + A * g.col2.y;
				f = E * E + H * H;
				g = J * J + A * A;
				var I = E * B + H * F,
				L = J * B + A * F,
				K = l.m_invMass + m.m_invMass,
				K = K + (l.m_invI * (f - I * I) + m.m_invI * (g - L * L));
				z.normalMass = 1 / K;
				L = F;
				K = -B;
				I = E * L + H * K;
				L = J * L + A * K;
				K = l.m_invMass + m.m_invMass;
				K += l.m_invI * (f - I * I) + m.m_invI * (g - L * L);
				z.tangentMass = 1 / K;
				z.velocityBias = 0;
				0 < z.separation && (z.velocityBias = -60 * z.separation);
				E = D.normal.x * (t + -x * A - q - -v * H) + D.normal.y * (u + x * J - s - v * E);
				E < -b2Settings.b2_velocityThreshold && (z.velocityBias += -D.restitution * E)
			}++h
		}
	},
	PreSolve: function() {
		for (var a, c, e = 0; e < this.m_constraintCount; ++e) {
			var f = this.m_constraints[e],
			g = f.body1,
			h = f.body2,
			k = g.m_invMass,
			l = g.m_invI,
			m = h.m_invMass,
			n = h.m_invI,
			p = f.normal.x,
			r = f.normal.y,
			q = r,
			s = -p,
			t = 0,
			u = 0;
			if (b2World.s_enableWarmStarting) for (u = f.pointCount, t = 0; t < u; ++t) {
				var v = f.points[t],
				x = v.normalImpulse * p + v.tangentImpulse * q,
				y = v.normalImpulse * r + v.tangentImpulse * s;
				c = g.m_R;
				a = v.localAnchor1;
				var C = c.col1.x * a.x + c.col2.x * a.y,
				B = c.col1.y * a.x + c.col2.y * a.y;
				c = h.m_R;
				a = v.localAnchor2;
				var F = c.col1.x * a.x + c.col2.x * a.y;
				a = c.col1.y * a.x + c.col2.y * a.y;
				g.m_angularVelocity -= l * (C * y - B * x);
				g.m_linearVelocity.x -= k * x;
				g.m_linearVelocity.y -= k * y;
				h.m_angularVelocity += n * (F * y - a * x);
				h.m_linearVelocity.x += m * x;
				h.m_linearVelocity.y += m * y;
				v.positionImpulse = 0
			} else for (u = f.pointCount, t = 0; t < u; ++t) g = f.points[t],
			g.normalImpulse = 0,
			g.tangentImpulse = 0,
			g.positionImpulse = 0
		}
	},
	SolveVelocityConstraints: function() {
		for (var a = 0,
		c, e, f, g, h, k, l, m, n = 0; n < this.m_constraintCount; ++n) {
			for (var p = this.m_constraints[n], r = p.body1, q = p.body2, s = r.m_angularVelocity, t = r.m_linearVelocity, u = q.m_angularVelocity, v = q.m_linearVelocity, x = r.m_invMass, y = r.m_invI, C = q.m_invMass, B = q.m_invI, F = p.normal.x, D = p.normal.y, G = D, A = -F, z = p.pointCount, a = 0; a < z; ++a) c = p.points[a],
			h = r.m_R,
			k = c.localAnchor1,
			e = h.col1.x * k.x + h.col2.x * k.y,
			f = h.col1.y * k.x + h.col2.y * k.y,
			h = q.m_R,
			k = c.localAnchor2,
			g = h.col1.x * k.x + h.col2.x * k.y,
			h = h.col1.y * k.x + h.col2.y * k.y,
			k = v.x + -u * h - t.x - -s * f,
			l = v.y + u * g - t.y - s * e,
			k = -c.normalMass * (k * F + l * D - c.velocityBias),
			l = b2Math.b2Max(c.normalImpulse + k, 0),
			k = l - c.normalImpulse,
			m = k * F,
			k *= D,
			t.x -= x * m,
			t.y -= x * k,
			s -= y * (e * k - f * m),
			v.x += C * m,
			v.y += C * k,
			u += B * (g * k - h * m),
			c.normalImpulse = l,
			k = v.x + -u * h - t.x - -s * f,
			l = v.y + u * g - t.y - s * e,
			k = c.tangentMass * -(k * G + l * A),
			l = p.friction * c.normalImpulse,
			l = b2Math.b2Clamp(c.tangentImpulse + k, -l, l),
			k = l - c.tangentImpulse,
			m = k * G,
			k *= A,
			t.x -= x * m,
			t.y -= x * k,
			s -= y * (e * k - f * m),
			v.x += C * m,
			v.y += C * k,
			u += B * (g * k - h * m),
			c.tangentImpulse = l;
			r.m_angularVelocity = s;
			q.m_angularVelocity = u
		}
	},
	SolvePositionConstraints: function(a) {
		for (var c = 0,
		e, f, g = 0; g < this.m_constraintCount; ++g) {
			for (var h = this.m_constraints[g], k = h.body1, l = h.body2, m = k.m_position, n = k.m_rotation, p = l.m_position, r = l.m_rotation, q = k.m_invMass, s = k.m_invI, t = l.m_invMass, u = l.m_invI, v = h.normal.x, x = h.normal.y, y = h.pointCount, C = 0; C < y; ++C) {
				var B = h.points[C];
				e = k.m_R;
				f = B.localAnchor1;
				var F = e.col1.x * f.x + e.col2.x * f.y,
				D = e.col1.y * f.x + e.col2.y * f.y;
				e = l.m_R;
				f = B.localAnchor2;
				var G = e.col1.x * f.x + e.col2.x * f.y;
				e = e.col1.y * f.x + e.col2.y * f.y;
				f = (p.x + G - (m.x + F)) * v + (p.y + e - (m.y + D)) * x + B.separation;
				c = b2Math.b2Min(c, f);
				f = a * b2Math.b2Clamp(f + b2Settings.b2_linearSlop, -b2Settings.b2_maxLinearCorrection, 0);
				f *= -B.normalMass;
				var A = B.positionImpulse;
				B.positionImpulse = b2Math.b2Max(A + f, 0);
				f = B.positionImpulse - A;
				B = f * v;
				f *= x;
				m.x -= q * B;
				m.y -= q * f;
				n -= s * (F * f - D * B);
				k.m_R.Set(n);
				p.x += t * B;
				p.y += t * f;
				r += u * (G * f - e * B);
				l.m_R.Set(r)
			}
			k.m_rotation = n;
			l.m_rotation = r
		}
		return c >= -b2Settings.b2_linearSlop
	},
	PostSolve: function() {
		for (var a = 0; a < this.m_constraintCount; ++a) for (var c = this.m_constraints[a], e = c.manifold, f = 0; f < c.pointCount; ++f) {
			var g = e.points[f],
			h = c.points[f];
			g.normalImpulse = h.normalImpulse;
			g.tangentImpulse = h.tangentImpulse
		}
	},
	m_allocator: null,
	m_constraints: [],
	m_constraintCount: 0
};
var b2CircleContact = Class.create();
Object.extend(b2CircleContact.prototype, b2Contact.prototype);
Object.extend(b2CircleContact.prototype, {
	initialize: function(a, c) {
		this.m_node1 = new b2ContactNode;
		this.m_node2 = new b2ContactNode;
		this.m_flags = 0;
		a && c ? (this.m_shape1 = a, this.m_shape2 = c, this.m_manifoldCount = 0, this.m_friction = Math.sqrt(this.m_shape1.m_friction * this.m_shape2.m_friction), this.m_restitution = b2Math.b2Max(this.m_shape1.m_restitution, this.m_shape2.m_restitution), this.m_next = this.m_prev = null, this.m_node1.contact = null, this.m_node1.prev = null, this.m_node1.next = null, this.m_node1.other = null, this.m_node2.contact = null, this.m_node2.prev = null, this.m_node2.next = null, this.m_node2.other = null, this.m_manifold = [new b2Manifold], this.m_manifold[0].pointCount = 0, this.m_manifold[0].points[0].normalImpulse = 0, this.m_manifold[0].points[0].tangentImpulse = 0) : this.m_shape2 = this.m_shape1 = null
	},
	Evaluate: function() {
		b2Collision.b2CollideCircle(this.m_manifold[0], this.m_shape1, this.m_shape2, !1);
		this.m_manifoldCount = 0 < this.m_manifold[0].pointCount ? 1 : 0
	},
	GetManifolds: function() {
		return this.m_manifold
	},
	m_manifold: [new b2Manifold]
});
b2CircleContact.Create = function(a, c, e) {
	return new b2CircleContact(a, c)
};
b2CircleContact.Destroy = function(a, c) {};
var b2Conservative = Class.create();
b2Conservative.prototype = {
	initialize: function() {}
};
b2Conservative.R1 = new b2Mat22;
b2Conservative.R2 = new b2Mat22;
b2Conservative.x1 = new b2Vec2;
b2Conservative.x2 = new b2Vec2;
b2Conservative.Conservative = function(a, c) {
	var e = a.GetBody(),
	f = c.GetBody(),
	g = e.m_position.x - e.m_position0.x,
	h = e.m_position.y - e.m_position0.y,
	k = e.m_rotation - e.m_rotation0,
	l = f.m_position.x - f.m_position0.x,
	m = f.m_position.y - f.m_position0.y,
	n = f.m_rotation - f.m_rotation0,
	p = a.GetMaxRadius(),
	r = c.GetMaxRadius(),
	q = e.m_position0.x,
	s = e.m_position0.y,
	t = e.m_rotation0,
	u = f.m_position0.x,
	v = f.m_position0.y,
	x = f.m_rotation0,
	y = q,
	C = s,
	B = t,
	F = u,
	D = v,
	G = x;
	b2Conservative.R1.Set(B);
	b2Conservative.R2.Set(G);
	a.QuickSync(p1, b2Conservative.R1);
	c.QuickSync(p2, b2Conservative.R2);
	var A = 0,
	z, E;
	z = 0;
	for (var H = !0,
	J = 0; 10 > J; ++J) {
		var I = b2Distance.Distance(b2Conservative.x1, b2Conservative.x2, a, c);
		if (I < b2Settings.b2_linearSlop) {
			H = 0 == J ? !1 : !0;
			break
		}
		if (0 == J) {
			z = b2Conservative.x2.x - b2Conservative.x1.x;
			E = b2Conservative.x2.y - b2Conservative.x1.y;
			Math.sqrt(z * z + E * E);
			z = z * (g - l) + E * (h - m) + Math.abs(k) * p + Math.abs(n) * r;
			if (Math.abs(z) < Number.MIN_VALUE) {
				H = !1;
				break
			}
			z = 1 / z
		}
		I = A + I * z;
		if (0 > I || 1 < I) {
			H = !1;
			break
		}
		if (I < (1 + 100 * Number.MIN_VALUE) * A) {
			H = !0;
			break
		}
		A = I;
		y = q + A * v1.x;
		C = s + A * v1.y;
		B = t + A * k;
		F = u + A * v2.x;
		D = v + A * v2.y;
		G = x + A * n;
		b2Conservative.R1.Set(B);
		b2Conservative.R2.Set(G);
		a.QuickSync(p1, b2Conservative.R1);
		c.QuickSync(p2, b2Conservative.R2)
	}
	if (H) return z = b2Conservative.x2.x - b2Conservative.x1.x,
	E = b2Conservative.x2.y - b2Conservative.x1.y,
	g = Math.sqrt(z * z + E * E),
	g > FLT_EPSILON && (d *= b2_linearSlop / g),
	e.IsStatic() ? (e.m_position.x = y, e.m_position.y = C) : (e.m_position.x = y - z, e.m_position.y = C - E),
	e.m_rotation = B,
	e.m_R.Set(B),
	e.QuickSyncShapes(),
	f.IsStatic() ? (f.m_position.x = F, f.m_position.y = D) : (f.m_position.x = F + z, f.m_position.y = D + E),
	f.m_position.x = F + z,
	f.m_position.y = D + E,
	f.m_rotation = G,
	f.m_R.Set(G),
	f.QuickSyncShapes(),
	!0;
	a.QuickSync(e.m_position, e.m_R);
	c.QuickSync(f.m_position, f.m_R);
	return ! 1
};
var b2NullContact = Class.create();
Object.extend(b2NullContact.prototype, b2Contact.prototype);
Object.extend(b2NullContact.prototype, {
	initialize: function(a, c) {
		this.m_node1 = new b2ContactNode;
		this.m_node2 = new b2ContactNode;
		this.m_flags = 0;
		a && c ? (this.m_shape1 = a, this.m_shape2 = c, this.m_manifoldCount = 0, this.m_friction = Math.sqrt(this.m_shape1.m_friction * this.m_shape2.m_friction), this.m_restitution = b2Math.b2Max(this.m_shape1.m_restitution, this.m_shape2.m_restitution), this.m_next = this.m_prev = null, this.m_node1.contact = null, this.m_node1.prev = null, this.m_node1.next = null, this.m_node1.other = null, this.m_node2.contact = null, this.m_node2.prev = null, this.m_node2.next = null, this.m_node2.other = null) : this.m_shape2 = this.m_shape1 = null
	},
	Evaluate: function() {},
	GetManifolds: function() {
		return null
	}
});
var b2PolyAndCircleContact = Class.create();
Object.extend(b2PolyAndCircleContact.prototype, b2Contact.prototype);
Object.extend(b2PolyAndCircleContact.prototype, {
	initialize: function(a, c) {
		this.m_node1 = new b2ContactNode;
		this.m_node2 = new b2ContactNode;
		this.m_flags = 0;
		a && c ? (this.m_shape1 = a, this.m_shape2 = c, this.m_manifoldCount = 0, this.m_friction = Math.sqrt(this.m_shape1.m_friction * this.m_shape2.m_friction), this.m_restitution = b2Math.b2Max(this.m_shape1.m_restitution, this.m_shape2.m_restitution), this.m_next = this.m_prev = null, this.m_node1.contact = null, this.m_node1.prev = null, this.m_node1.next = null, this.m_node1.other = null, this.m_node2.contact = null, this.m_node2.prev = null, this.m_node2.next = null, this.m_node2.other = null, this.m_manifold = [new b2Manifold], b2Settings.b2Assert(this.m_shape1.m_type == b2Shape.e_polyShape), b2Settings.b2Assert(this.m_shape2.m_type == b2Shape.e_circleShape), this.m_manifold[0].pointCount = 0, this.m_manifold[0].points[0].normalImpulse = 0, this.m_manifold[0].points[0].tangentImpulse = 0) : this.m_shape2 = this.m_shape1 = null
	},
	Evaluate: function() {
		b2Collision.b2CollidePolyAndCircle(this.m_manifold[0], this.m_shape1, this.m_shape2, !1);
		this.m_manifoldCount = 0 < this.m_manifold[0].pointCount ? 1 : 0
	},
	GetManifolds: function() {
		return this.m_manifold
	},
	m_manifold: [new b2Manifold]
});
b2PolyAndCircleContact.Create = function(a, c, e) {
	return new b2PolyAndCircleContact(a, c)
};
b2PolyAndCircleContact.Destroy = function(a, c) {};
var b2PolyContact = Class.create();
Object.extend(b2PolyContact.prototype, b2Contact.prototype);
Object.extend(b2PolyContact.prototype, {
	initialize: function(a, c) {
		this.m_node1 = new b2ContactNode;
		this.m_node2 = new b2ContactNode;
		this.m_flags = 0;
		a && c ? (this.m_shape1 = a, this.m_shape2 = c, this.m_manifoldCount = 0, this.m_friction = Math.sqrt(this.m_shape1.m_friction * this.m_shape2.m_friction), this.m_restitution = b2Math.b2Max(this.m_shape1.m_restitution, this.m_shape2.m_restitution), this.m_next = this.m_prev = null, this.m_node1.contact = null, this.m_node1.prev = null, this.m_node1.next = null, this.m_node1.other = null, this.m_node2.contact = null, this.m_node2.prev = null, this.m_node2.next = null, this.m_node2.other = null, this.m0 = new b2Manifold, this.m_manifold = [new b2Manifold], this.m_manifold[0].pointCount = 0) : this.m_shape2 = this.m_shape1 = null
	},
	m0: new b2Manifold,
	Evaluate: function() {
		for (var a = this.m_manifold[0], c = this.m0.points, e = 0; e < a.pointCount; e++) {
			var f = c[e],
			g = a.points[e];
			f.normalImpulse = g.normalImpulse;
			f.tangentImpulse = g.tangentImpulse;
			f.id = g.id.Copy()
		}
		this.m0.pointCount = a.pointCount;
		b2Collision.b2CollidePoly(a, this.m_shape1, this.m_shape2, !1);
		if (0 < a.pointCount) {
			c = [!1, !1];
			for (e = 0; e < a.pointCount; ++e) {
				f = a.points[e];
				f.normalImpulse = 0;
				f.tangentImpulse = 0;
				for (var g = f.id.key,
				h = 0; h < this.m0.pointCount; ++h) if (!0 != c[h]) {
					var k = this.m0.points[h];
					if (k.id.key == g) {
						c[h] = !0;
						f.normalImpulse = k.normalImpulse;
						f.tangentImpulse = k.tangentImpulse;
						break
					}
				}
			}
			this.m_manifoldCount = 1
		} else this.m_manifoldCount = 0
	},
	GetManifolds: function() {
		return this.m_manifold
	},
	m_manifold: [new b2Manifold]
});
b2PolyContact.Create = function(a, c, e) {
	return new b2PolyContact(a, c)
};
b2PolyContact.Destroy = function(a, c) {};
var b2ContactManager = Class.create();
Object.extend(b2ContactManager.prototype, b2PairCallback.prototype);
Object.extend(b2ContactManager.prototype, {
	initialize: function() {
		this.m_nullContact = new b2NullContact;
		this.m_world = null;
		this.m_destroyImmediate = !1
	},
	PairAdded: function(a, c) {
		var e = a,
		f = c,
		g = e.m_body,
		h = f.m_body;
		if (g.IsStatic() && h.IsStatic() || e.m_body == f.m_body || h.IsConnected(g) || null != this.m_world.m_filter && !1 == this.m_world.m_filter.ShouldCollide(e, f)) return this.m_nullContact;
		0 == h.m_invMass && (g = e, e = f, f = g);
		e = b2Contact.Create(e, f, this.m_world.m_blockAllocator);
		if (null == e) return this.m_nullContact;
		e.m_prev = null;
		e.m_next = this.m_world.m_contactList;
		null != this.m_world.m_contactList && (this.m_world.m_contactList.m_prev = e);
		this.m_world.m_contactList = e;
		this.m_world.m_contactCount++;
		return e
	},
	PairRemoved: function(a, c, e) {
		null != e && e != this.m_nullContact && (!0 == this.m_destroyImmediate ? this.DestroyContact(e) : e.m_flags |= b2Contact.e_destroyFlag)
	},
	DestroyContact: function(a) {
		a.m_prev && (a.m_prev.m_next = a.m_next);
		a.m_next && (a.m_next.m_prev = a.m_prev);
		a == this.m_world.m_contactList && (this.m_world.m_contactList = a.m_next);
		if (0 < a.GetManifoldCount()) {
			var c = a.m_shape1.m_body,
			e = a.m_shape2.m_body,
			f = a.m_node1,
			g = a.m_node2;
			c.WakeUp();
			e.WakeUp();
			f.prev && (f.prev.next = f.next);
			f.next && (f.next.prev = f.prev);
			f == c.m_contactList && (c.m_contactList = f.next);
			f.prev = null;
			f.next = null;
			g.prev && (g.prev.next = g.next);
			g.next && (g.next.prev = g.prev);
			g == e.m_contactList && (e.m_contactList = g.next);
			g.prev = null;
			g.next = null
		}
		b2Contact.Destroy(a, this.m_world.m_blockAllocator); --this.m_world.m_contactCount
	},
	CleanContactList: function() {
		for (var a = this.m_world.m_contactList; null != a;) {
			var c = a,
			a = a.m_next;
			c.m_flags & b2Contact.e_destroyFlag && this.DestroyContact(c)
		}
	},
	Collide: function() {
		for (var a, c, e, f, g = this.m_world.m_contactList; null != g; g = g.m_next) g.m_shape1.m_body.IsSleeping() && g.m_shape2.m_body.IsSleeping() || (a = g.GetManifoldCount(), g.Evaluate(), c = g.GetManifoldCount(), 0 == a && 0 < c ? (a = g.m_shape1.m_body, c = g.m_shape2.m_body, e = g.m_node1, f = g.m_node2, e.contact = g, e.other = c, e.prev = null, e.next = a.m_contactList, null != e.next && (e.next.prev = g.m_node1), a.m_contactList = g.m_node1, f.contact = g, f.other = a, f.prev = null, f.next = c.m_contactList, null != f.next && (f.next.prev = f), c.m_contactList = f) : 0 < a && 0 == c && (a = g.m_shape1.m_body, c = g.m_shape2.m_body, e = g.m_node1, f = g.m_node2, e.prev && (e.prev.next = e.next), e.next && (e.next.prev = e.prev), e == a.m_contactList && (a.m_contactList = e.next), e.prev = null, e.next = null, f.prev && (f.prev.next = f.next), f.next && (f.next.prev = f.prev), f == c.m_contactList && (c.m_contactList = f.next), f.prev = null, f.next = null))
	},
	m_world: null,
	m_nullContact: new b2NullContact,
	m_destroyImmediate: null
});
var b2World = Class.create();
b2World.prototype = {
	initialize: function(a, c, e) {
		this.step = new b2TimeStep;
		this.m_contactManager = new b2ContactManager;
		this.m_listener = null;
		this.m_filter = b2CollisionFilter.b2_defaultFilter;
		this.m_jointList = this.m_contactList = this.m_bodyList = null;
		this.m_jointCount = this.m_contactCount = this.m_bodyCount = 0;
		this.m_bodyDestroyList = null;
		this.m_allowSleep = e;
		this.m_gravity = c;
		this.m_contactManager.m_world = this;
		this.m_broadPhase = new b2BroadPhase(a, this.m_contactManager);
		a = new b2BodyDef;
		this.m_groundBody = this.CreateBody(a)
	},
	SetListener: function(a) {
		this.m_listener = a
	},
	SetFilter: function(a) {
		this.m_filter = a
	},
	CreateBody: function(a) {
		a = new b2Body(a, this);
		a.m_prev = null;
		if (a.m_next = this.m_bodyList) this.m_bodyList.m_prev = a;
		this.m_bodyList = a; ++this.m_bodyCount;
		return a
	},
	DestroyBody: function(a) {
		a.m_flags & b2Body.e_destroyFlag || (a.m_prev && (a.m_prev.m_next = a.m_next), a.m_next && (a.m_next.m_prev = a.m_prev), a == this.m_bodyList && (this.m_bodyList = a.m_next), a.m_flags |= b2Body.e_destroyFlag, --this.m_bodyCount, a.m_prev = null, a.m_next = this.m_bodyDestroyList, this.m_bodyDestroyList = a)
	},
	CleanBodyList: function() {
		this.m_contactManager.m_destroyImmediate = !0;
		for (var a = this.m_bodyDestroyList; a;) {
			for (var c = a,
			a = a.m_next,
			e = c.m_jointList; e;) {
				var f = e,
				e = e.next;
				this.m_listener && this.m_listener.NotifyJointDestroyed(f.joint);
				this.DestroyJoint(f.joint)
			}
			c.Destroy()
		}
		this.m_bodyDestroyList = null;
		this.m_contactManager.m_destroyImmediate = !1
	},
	CreateJoint: function(a) {
		var c = b2Joint.Create(a, this.m_blockAllocator);
		c.m_prev = null;
		if (c.m_next = this.m_jointList) this.m_jointList.m_prev = c;
		this.m_jointList = c; ++this.m_jointCount;
		c.m_node1.joint = c;
		c.m_node1.other = c.m_body2;
		c.m_node1.prev = null;
		if (c.m_node1.next = c.m_body1.m_jointList) c.m_body1.m_jointList.prev = c.m_node1;
		c.m_body1.m_jointList = c.m_node1;
		c.m_node2.joint = c;
		c.m_node2.other = c.m_body1;
		c.m_node2.prev = null;
		if (c.m_node2.next = c.m_body2.m_jointList) c.m_body2.m_jointList.prev = c.m_node2;
		c.m_body2.m_jointList = c.m_node2;
		if (!1 == a.collideConnected) for (a = (a.body1.m_shapeCount < a.body2.m_shapeCount ? a.body1: a.body2).m_shapeList; a; a = a.m_next) a.ResetProxy(this.m_broadPhase);
		return c
	},
	DestroyJoint: function(a) {
		var c = a.m_collideConnected;
		a.m_prev && (a.m_prev.m_next = a.m_next);
		a.m_next && (a.m_next.m_prev = a.m_prev);
		a == this.m_jointList && (this.m_jointList = a.m_next);
		var e = a.m_body1,
		f = a.m_body2;
		e.WakeUp();
		f.WakeUp();
		a.m_node1.prev && (a.m_node1.prev.next = a.m_node1.next);
		a.m_node1.next && (a.m_node1.next.prev = a.m_node1.prev);
		a.m_node1 == e.m_jointList && (e.m_jointList = a.m_node1.next);
		a.m_node1.prev = null;
		a.m_node1.next = null;
		a.m_node2.prev && (a.m_node2.prev.next = a.m_node2.next);
		a.m_node2.next && (a.m_node2.next.prev = a.m_node2.prev);
		a.m_node2 == f.m_jointList && (f.m_jointList = a.m_node2.next);
		a.m_node2.prev = null;
		a.m_node2.next = null;
		b2Joint.Destroy(a, this.m_blockAllocator); --this.m_jointCount;
		if (!1 == c) for (a = (e.m_shapeCount < f.m_shapeCount ? e: f).m_shapeList; a; a = a.m_next) a.ResetProxy(this.m_broadPhase)
	},
	GetGroundBody: function() {
		return this.m_groundBody
	},
	step: new b2TimeStep,
	Step: function(a, c) {
		var e, f;
		this.step.dt = a;
		this.step.iterations = c;
		this.step.inv_dt = 0 < a ? 1 / a: 0;
		this.m_positionIterationCount = 0;
		this.m_contactManager.CleanContactList();
		this.CleanBodyList();
		this.m_contactManager.Collide();
		var g = new b2Island(this.m_bodyCount, this.m_contactCount, this.m_jointCount, this.m_stackAllocator);
		for (e = this.m_bodyList; null != e; e = e.m_next) e.m_flags &= ~b2Body.e_islandFlag;
		for (var h = this.m_contactList; null != h; h = h.m_next) h.m_flags &= ~b2Contact.e_islandFlag;
		for (h = this.m_jointList; null != h; h = h.m_next) h.m_islandFlag = !1;
		for (var h = Array(this.m_bodyCount), k = 0; k < this.m_bodyCount; k++) h[k] = null;
		for (k = this.m_bodyList; null != k; k = k.m_next) if (! (k.m_flags & (b2Body.e_staticFlag | b2Body.e_islandFlag | b2Body.e_sleepFlag | b2Body.e_frozenFlag))) {
			g.Clear();
			var l = 0;
			h[l++] = k;
			for (k.m_flags |= b2Body.e_islandFlag; 0 < l;) if (e = h[--l], g.AddBody(e), e.m_flags &= ~b2Body.e_sleepFlag, !(e.m_flags & b2Body.e_staticFlag)) {
				for (var m = e.m_contactList; null != m; m = m.next) m.contact.m_flags & b2Contact.e_islandFlag || (g.AddContact(m.contact), m.contact.m_flags |= b2Contact.e_islandFlag, f = m.other, f.m_flags & b2Body.e_islandFlag || (h[l++] = f, f.m_flags |= b2Body.e_islandFlag));
				for (e = e.m_jointList; null != e; e = e.next) ! 0 != e.joint.m_islandFlag && (g.AddJoint(e.joint), e.joint.m_islandFlag = !0, f = e.other, f.m_flags & b2Body.e_islandFlag || (h[l++] = f, f.m_flags |= b2Body.e_islandFlag))
			}
			g.Solve(this.step, this.m_gravity);
			this.m_positionIterationCount = b2Math.b2Max(this.m_positionIterationCount, b2Island.m_positionIterationCount);
			this.m_allowSleep && g.UpdateSleep(a);
			for (f = 0; f < g.m_bodyCount; ++f) e = g.m_bodies[f],
			e.m_flags & b2Body.e_staticFlag && (e.m_flags &= ~b2Body.e_islandFlag),
			e.IsFrozen() && this.m_listener && this.m_listener.NotifyBoundaryViolated(e) == b2WorldListener.b2_destroyBody && (this.DestroyBody(e), g.m_bodies[f] = null)
		}
		this.m_broadPhase.Commit()
	},
	Query: function(a, c, e) {
		var f = [];
		a = this.m_broadPhase.QueryAABB(a, f, e);
		for (e = 0; e < a; ++e) c[e] = f[e];
		return a
	},
	GetBodyList: function() {
		return this.m_bodyList
	},
	GetJointList: function() {
		return this.m_jointList
	},
	GetContactList: function() {
		return this.m_contactList
	},
	m_blockAllocator: null,
	m_stackAllocator: null,
	m_broadPhase: null,
	m_contactManager: new b2ContactManager,
	m_bodyList: null,
	m_contactList: null,
	m_jointList: null,
	m_bodyCount: 0,
	m_contactCount: 0,
	m_jointCount: 0,
	m_bodyDestroyList: null,
	m_gravity: null,
	m_allowSleep: null,
	m_groundBody: null,
	m_listener: null,
	m_filter: null,
	m_positionIterationCount: 0
};
b2World.s_enablePositionCorrection = 1;
b2World.s_enableWarmStarting = 1;
var b2WorldListener = Class.create();
b2WorldListener.prototype = {
	NotifyJointDestroyed: function(a) {},
	NotifyBoundaryViolated: function(a) {
		return b2WorldListener.b2_freezeBody
	},
	initialize: function() {}
};
b2WorldListener.b2_freezeBody = 0;
b2WorldListener.b2_destroyBody = 1;
var b2JointNode = Class.create();
b2JointNode.prototype = {
	other: null,
	joint: null,
	prev: null,
	next: null,
	initialize: function() {}
};
var b2Joint = Class.create();
b2Joint.prototype = {
	GetType: function() {
		return this.m_type
	},
	GetAnchor1: function() {
		return null
	},
	GetAnchor2: function() {
		return null
	},
	GetReactionForce: function(a) {
		return null
	},
	GetReactionTorque: function(a) {
		return 0
	},
	GetBody1: function() {
		return this.m_body1
	},
	GetBody2: function() {
		return this.m_body2
	},
	GetNext: function() {
		return this.m_next
	},
	GetUserData: function() {
		return this.m_userData
	},
	initialize: function(a) {
		this.m_node1 = new b2JointNode;
		this.m_node2 = new b2JointNode;
		this.m_type = a.type;
		this.m_next = this.m_prev = null;
		this.m_body1 = a.body1;
		this.m_body2 = a.body2;
		this.m_collideConnected = a.collideConnected;
		this.m_islandFlag = !1;
		this.m_userData = a.userData
	},
	PrepareVelocitySolver: function() {},
	SolveVelocityConstraints: function(a) {},
	PreparePositionSolver: function() {},
	SolvePositionConstraints: function() {
		return ! 1
	},
	m_type: 0,
	m_prev: null,
	m_next: null,
	m_node1: new b2JointNode,
	m_node2: new b2JointNode,
	m_body1: null,
	m_body2: null,
	m_islandFlag: null,
	m_collideConnected: null,
	m_userData: null
};
b2Joint.Create = function(a, c) {
	var e = null;
	switch (a.type) {
	case b2Joint.e_distanceJoint:
		e = new b2DistanceJoint(a);
		break;
	case b2Joint.e_mouseJoint:
		e = new b2MouseJoint(a);
		break;
	case b2Joint.e_prismaticJoint:
		e = new b2PrismaticJoint(a);
		break;
	case b2Joint.e_revoluteJoint:
		e = new b2RevoluteJoint(a);
		break;
	case b2Joint.e_pulleyJoint:
		e = new b2PulleyJoint(a);
		break;
	case b2Joint.e_gearJoint:
		e = new b2GearJoint(a)
	}
	return e
};
b2Joint.Destroy = function(a, c) {};
b2Joint.e_unknownJoint = 0;
b2Joint.e_revoluteJoint = 1;
b2Joint.e_prismaticJoint = 2;
b2Joint.e_distanceJoint = 3;
b2Joint.e_pulleyJoint = 4;
b2Joint.e_mouseJoint = 5;
b2Joint.e_gearJoint = 6;
b2Joint.e_inactiveLimit = 0;
b2Joint.e_atLowerLimit = 1;
b2Joint.e_atUpperLimit = 2;
b2Joint.e_equalLimits = 3;
var b2JointDef = Class.create();
b2JointDef.prototype = {
	initialize: function() {
		this.type = b2Joint.e_unknownJoint;
		this.body2 = this.body1 = this.userData = null;
		this.collideConnected = !1
	},
	type: 0,
	userData: null,
	body1: null,
	body2: null,
	collideConnected: null
};
var b2DistanceJoint = Class.create();
Object.extend(b2DistanceJoint.prototype, b2Joint.prototype);
Object.extend(b2DistanceJoint.prototype, {
	initialize: function(a) {
		this.m_node1 = new b2JointNode;
		this.m_node2 = new b2JointNode;
		this.m_type = a.type;
		this.m_next = this.m_prev = null;
		this.m_body1 = a.body1;
		this.m_body2 = a.body2;
		this.m_collideConnected = a.collideConnected;
		this.m_islandFlag = !1;
		this.m_userData = a.userData;
		this.m_localAnchor1 = new b2Vec2;
		this.m_localAnchor2 = new b2Vec2;
		this.m_u = new b2Vec2;
		var c, e, f;
		c = this.m_body1.m_R;
		e = a.anchorPoint1.x - this.m_body1.m_position.x;
		f = a.anchorPoint1.y - this.m_body1.m_position.y;
		this.m_localAnchor1.x = e * c.col1.x + f * c.col1.y;
		this.m_localAnchor1.y = e * c.col2.x + f * c.col2.y;
		c = this.m_body2.m_R;
		e = a.anchorPoint2.x - this.m_body2.m_position.x;
		f = a.anchorPoint2.y - this.m_body2.m_position.y;
		this.m_localAnchor2.x = e * c.col1.x + f * c.col1.y;
		this.m_localAnchor2.y = e * c.col2.x + f * c.col2.y;
		e = a.anchorPoint2.x - a.anchorPoint1.x;
		f = a.anchorPoint2.y - a.anchorPoint1.y;
		this.m_length = Math.sqrt(e * e + f * f);
		this.m_impulse = 0
	},
	PrepareVelocitySolver: function() {
		var a;
		a = this.m_body1.m_R;
		var c = a.col1.x * this.m_localAnchor1.x + a.col2.x * this.m_localAnchor1.y,
		e = a.col1.y * this.m_localAnchor1.x + a.col2.y * this.m_localAnchor1.y;
		a = this.m_body2.m_R;
		var f = a.col1.x * this.m_localAnchor2.x + a.col2.x * this.m_localAnchor2.y;
		a = a.col1.y * this.m_localAnchor2.x + a.col2.y * this.m_localAnchor2.y;
		this.m_u.x = this.m_body2.m_position.x + f - this.m_body1.m_position.x - c;
		this.m_u.y = this.m_body2.m_position.y + a - this.m_body1.m_position.y - e;
		var g = Math.sqrt(this.m_u.x * this.m_u.x + this.m_u.y * this.m_u.y);
		g > b2Settings.b2_linearSlop ? this.m_u.Multiply(1 / g) : this.m_u.SetZero();
		var g = c * this.m_u.y - e * this.m_u.x,
		h = f * this.m_u.y - a * this.m_u.x;
		this.m_mass = this.m_body1.m_invMass + this.m_body1.m_invI * g * g + this.m_body2.m_invMass + this.m_body2.m_invI * h * h;
		this.m_mass = 1 / this.m_mass;
		b2World.s_enableWarmStarting ? (g = this.m_impulse * this.m_u.x, h = this.m_impulse * this.m_u.y, this.m_body1.m_linearVelocity.x -= this.m_body1.m_invMass * g, this.m_body1.m_linearVelocity.y -= this.m_body1.m_invMass * h, this.m_body1.m_angularVelocity -= this.m_body1.m_invI * (c * h - e * g), this.m_body2.m_linearVelocity.x += this.m_body2.m_invMass * g, this.m_body2.m_linearVelocity.y += this.m_body2.m_invMass * h, this.m_body2.m_angularVelocity += this.m_body2.m_invI * (f * h - a * g)) : this.m_impulse = 0
	},
	SolveVelocityConstraints: function(a) {
		var c;
		c = this.m_body1.m_R;
		a = c.col1.x * this.m_localAnchor1.x + c.col2.x * this.m_localAnchor1.y;
		var e = c.col1.y * this.m_localAnchor1.x + c.col2.y * this.m_localAnchor1.y;
		c = this.m_body2.m_R;
		var f = c.col1.x * this.m_localAnchor2.x + c.col2.x * this.m_localAnchor2.y;
		c = c.col1.y * this.m_localAnchor2.x + c.col2.y * this.m_localAnchor2.y;
		var g = -this.m_mass * (this.m_u.x * (this.m_body2.m_linearVelocity.x + -this.m_body2.m_angularVelocity * c - (this.m_body1.m_linearVelocity.x + -this.m_body1.m_angularVelocity * e)) + this.m_u.y * (this.m_body2.m_linearVelocity.y + this.m_body2.m_angularVelocity * f - (this.m_body1.m_linearVelocity.y + this.m_body1.m_angularVelocity * a)));
		this.m_impulse += g;
		var h = g * this.m_u.x,
		g = g * this.m_u.y;
		this.m_body1.m_linearVelocity.x -= this.m_body1.m_invMass * h;
		this.m_body1.m_linearVelocity.y -= this.m_body1.m_invMass * g;
		this.m_body1.m_angularVelocity -= this.m_body1.m_invI * (a * g - e * h);
		this.m_body2.m_linearVelocity.x += this.m_body2.m_invMass * h;
		this.m_body2.m_linearVelocity.y += this.m_body2.m_invMass * g;
		this.m_body2.m_angularVelocity += this.m_body2.m_invI * (f * g - c * h)
	},
	SolvePositionConstraints: function() {
		var a;
		a = this.m_body1.m_R;
		var c = a.col1.x * this.m_localAnchor1.x + a.col2.x * this.m_localAnchor1.y,
		e = a.col1.y * this.m_localAnchor1.x + a.col2.y * this.m_localAnchor1.y;
		a = this.m_body2.m_R;
		var f = a.col1.x * this.m_localAnchor2.x + a.col2.x * this.m_localAnchor2.y;
		a = a.col1.y * this.m_localAnchor2.x + a.col2.y * this.m_localAnchor2.y;
		var g = this.m_body2.m_position.x + f - this.m_body1.m_position.x - c,
		h = this.m_body2.m_position.y + a - this.m_body1.m_position.y - e,
		k = Math.sqrt(g * g + h * h),
		g = g / k,
		h = h / k,
		k = k - this.m_length,
		k = b2Math.b2Clamp(k, -b2Settings.b2_maxLinearCorrection, b2Settings.b2_maxLinearCorrection),
		l = -this.m_mass * k;
		this.m_u.Set(g, h);
		g = l * this.m_u.x;
		h = l * this.m_u.y;
		this.m_body1.m_position.x -= this.m_body1.m_invMass * g;
		this.m_body1.m_position.y -= this.m_body1.m_invMass * h;
		this.m_body1.m_rotation -= this.m_body1.m_invI * (c * h - e * g);
		this.m_body2.m_position.x += this.m_body2.m_invMass * g;
		this.m_body2.m_position.y += this.m_body2.m_invMass * h;
		this.m_body2.m_rotation += this.m_body2.m_invI * (f * h - a * g);
		this.m_body1.m_R.Set(this.m_body1.m_rotation);
		this.m_body2.m_R.Set(this.m_body2.m_rotation);
		return b2Math.b2Abs(k) < b2Settings.b2_linearSlop
	},
	GetAnchor1: function() {
		return b2Math.AddVV(this.m_body1.m_position, b2Math.b2MulMV(this.m_body1.m_R, this.m_localAnchor1))
	},
	GetAnchor2: function() {
		return b2Math.AddVV(this.m_body2.m_position, b2Math.b2MulMV(this.m_body2.m_R, this.m_localAnchor2))
	},
	GetReactionForce: function(a) {
		var c = new b2Vec2;
		c.SetV(this.m_u);
		c.Multiply(this.m_impulse * a);
		return c
	},
	GetReactionTorque: function(a) {
		return 0
	},
	m_localAnchor1: new b2Vec2,
	m_localAnchor2: new b2Vec2,
	m_u: new b2Vec2,
	m_impulse: null,
	m_mass: null,
	m_length: null
});
var b2DistanceJointDef = Class.create();
Object.extend(b2DistanceJointDef.prototype, b2JointDef.prototype);
Object.extend(b2DistanceJointDef.prototype, {
	initialize: function() {
		this.type = b2Joint.e_unknownJoint;
		this.body2 = this.body1 = this.userData = null;
		this.collideConnected = !1;
		this.anchorPoint1 = new b2Vec2;
		this.anchorPoint2 = new b2Vec2;
		this.type = b2Joint.e_distanceJoint
	},
	anchorPoint1: new b2Vec2,
	anchorPoint2: new b2Vec2
});
var b2Jacobian = Class.create();
b2Jacobian.prototype = {
	linear1: new b2Vec2,
	angular1: null,
	linear2: new b2Vec2,
	angular2: null,
	SetZero: function() {
		this.linear1.SetZero();
		this.angular1 = 0;
		this.linear2.SetZero();
		this.angular2 = 0
	},
	Set: function(a, c, e, f) {
		this.linear1.SetV(a);
		this.angular1 = c;
		this.linear2.SetV(e);
		this.angular2 = f
	},
	Compute: function(a, c, e, f) {
		return this.linear1.x * a.x + this.linear1.y * a.y + this.angular1 * c + (this.linear2.x * e.x + this.linear2.y * e.y) + this.angular2 * f
	},
	initialize: function() {
		this.linear1 = new b2Vec2;
		this.linear2 = new b2Vec2
	}
};
var b2GearJoint = Class.create();
Object.extend(b2GearJoint.prototype, b2Joint.prototype);
Object.extend(b2GearJoint.prototype, {
	GetAnchor1: function() {
		var a = this.m_body1.m_R;
		return new b2Vec2(this.m_body1.m_position.x + (a.col1.x * this.m_localAnchor1.x + a.col2.x * this.m_localAnchor1.y), this.m_body1.m_position.y + (a.col1.y * this.m_localAnchor1.x + a.col2.y * this.m_localAnchor1.y))
	},
	GetAnchor2: function() {
		var a = this.m_body2.m_R;
		return new b2Vec2(this.m_body2.m_position.x + (a.col1.x * this.m_localAnchor2.x + a.col2.x * this.m_localAnchor2.y), this.m_body2.m_position.y + (a.col1.y * this.m_localAnchor2.x + a.col2.y * this.m_localAnchor2.y))
	},
	GetReactionForce: function(a) {
		return new b2Vec2
	},
	GetReactionTorque: function(a) {
		return 0
	},
	GetRatio: function() {
		return this.m_ratio
	},
	initialize: function(a) {
		this.m_node1 = new b2JointNode;
		this.m_node2 = new b2JointNode;
		this.m_type = a.type;
		this.m_next = this.m_prev = null;
		this.m_body1 = a.body1;
		this.m_body2 = a.body2;
		this.m_collideConnected = a.collideConnected;
		this.m_islandFlag = !1;
		this.m_userData = a.userData;
		this.m_groundAnchor1 = new b2Vec2;
		this.m_groundAnchor2 = new b2Vec2;
		this.m_localAnchor1 = new b2Vec2;
		this.m_localAnchor2 = new b2Vec2;
		this.m_J = new b2Jacobian;
		this.m_prismatic2 = this.m_revolute2 = this.m_prismatic1 = this.m_revolute1 = null;
		var c, e;
		this.m_ground1 = a.joint1.m_body1;
		this.m_body1 = a.joint1.m_body2;
		a.joint1.m_type == b2Joint.e_revoluteJoint ? (this.m_revolute1 = a.joint1, this.m_groundAnchor1.SetV(this.m_revolute1.m_localAnchor1), this.m_localAnchor1.SetV(this.m_revolute1.m_localAnchor2), c = this.m_revolute1.GetJointAngle()) : (this.m_prismatic1 = a.joint1, this.m_groundAnchor1.SetV(this.m_prismatic1.m_localAnchor1), this.m_localAnchor1.SetV(this.m_prismatic1.m_localAnchor2), c = this.m_prismatic1.GetJointTranslation());
		this.m_ground2 = a.joint2.m_body1;
		this.m_body2 = a.joint2.m_body2;
		a.joint2.m_type == b2Joint.e_revoluteJoint ? (this.m_revolute2 = a.joint2, this.m_groundAnchor2.SetV(this.m_revolute2.m_localAnchor1), this.m_localAnchor2.SetV(this.m_revolute2.m_localAnchor2), e = this.m_revolute2.GetJointAngle()) : (this.m_prismatic2 = a.joint2, this.m_groundAnchor2.SetV(this.m_prismatic2.m_localAnchor1), this.m_localAnchor2.SetV(this.m_prismatic2.m_localAnchor2), e = this.m_prismatic2.GetJointTranslation());
		this.m_ratio = a.ratio;
		this.m_constant = c + this.m_ratio * e;
		this.m_impulse = 0
	},
	PrepareVelocitySolver: function() {
		var a = this.m_ground1,
		c = this.m_ground2,
		e = this.m_body1,
		f = this.m_body2,
		g, h, k, l = 0;
		this.m_J.SetZero();
		this.m_revolute1 ? (this.m_J.angular1 = -1, l += e.m_invI) : (k = a.m_R, g = this.m_prismatic1.m_localXAxis1, a = k.col1.x * g.x + k.col2.x * g.y, g = k.col1.y * g.x + k.col2.y * g.y, k = e.m_R, h = k.col1.x * this.m_localAnchor1.x + k.col2.x * this.m_localAnchor1.y, k = k.col1.y * this.m_localAnchor1.x + k.col2.y * this.m_localAnchor1.y, h = h * g - k * a, this.m_J.linear1.Set( - a, -g), this.m_J.angular1 = -h, l += e.m_invMass + e.m_invI * h * h);
		this.m_revolute2 ? (this.m_J.angular2 = -this.m_ratio, l += this.m_ratio * this.m_ratio * f.m_invI) : (k = c.m_R, g = this.m_prismatic2.m_localXAxis1, a = k.col1.x * g.x + k.col2.x * g.y, g = k.col1.y * g.x + k.col2.y * g.y, k = f.m_R, h = k.col1.x * this.m_localAnchor2.x + k.col2.x * this.m_localAnchor2.y, k = k.col1.y * this.m_localAnchor2.x + k.col2.y * this.m_localAnchor2.y, h = h * g - k * a, this.m_J.linear2.Set( - this.m_ratio * a, -this.m_ratio * g), this.m_J.angular2 = -this.m_ratio * h, l += this.m_ratio * this.m_ratio * (f.m_invMass + f.m_invI * h * h));
		this.m_mass = 1 / l;
		e.m_linearVelocity.x += e.m_invMass * this.m_impulse * this.m_J.linear1.x;
		e.m_linearVelocity.y += e.m_invMass * this.m_impulse * this.m_J.linear1.y;
		e.m_angularVelocity += e.m_invI * this.m_impulse * this.m_J.angular1;
		f.m_linearVelocity.x += f.m_invMass * this.m_impulse * this.m_J.linear2.x;
		f.m_linearVelocity.y += f.m_invMass * this.m_impulse * this.m_J.linear2.y;
		f.m_angularVelocity += f.m_invI * this.m_impulse * this.m_J.angular2
	},
	SolveVelocityConstraints: function(a) {
		a = this.m_body1;
		var c = this.m_body2,
		e = this.m_J.Compute(a.m_linearVelocity, a.m_angularVelocity, c.m_linearVelocity, c.m_angularVelocity),
		e = -this.m_mass * e;
		this.m_impulse += e;
		a.m_linearVelocity.x += a.m_invMass * e * this.m_J.linear1.x;
		a.m_linearVelocity.y += a.m_invMass * e * this.m_J.linear1.y;
		a.m_angularVelocity += a.m_invI * e * this.m_J.angular1;
		c.m_linearVelocity.x += c.m_invMass * e * this.m_J.linear2.x;
		c.m_linearVelocity.y += c.m_invMass * e * this.m_J.linear2.y;
		c.m_angularVelocity += c.m_invI * e * this.m_J.angular2
	},
	SolvePositionConstraints: function() {
		var a = this.m_body1,
		c = this.m_body2,
		e, f;
		e = this.m_revolute1 ? this.m_revolute1.GetJointAngle() : this.m_prismatic1.GetJointTranslation();
		f = this.m_revolute2 ? this.m_revolute2.GetJointAngle() : this.m_prismatic2.GetJointTranslation();
		e = -this.m_mass * (this.m_constant - (e + this.m_ratio * f));
		a.m_position.x += a.m_invMass * e * this.m_J.linear1.x;
		a.m_position.y += a.m_invMass * e * this.m_J.linear1.y;
		a.m_rotation += a.m_invI * e * this.m_J.angular1;
		c.m_position.x += c.m_invMass * e * this.m_J.linear2.x;
		c.m_position.y += c.m_invMass * e * this.m_J.linear2.y;
		c.m_rotation += c.m_invI * e * this.m_J.angular2;
		a.m_R.Set(a.m_rotation);
		c.m_R.Set(c.m_rotation);
		return 0 < b2Settings.b2_linearSlop
	},
	m_ground1: null,
	m_ground2: null,
	m_revolute1: null,
	m_prismatic1: null,
	m_revolute2: null,
	m_prismatic2: null,
	m_groundAnchor1: new b2Vec2,
	m_groundAnchor2: new b2Vec2,
	m_localAnchor1: new b2Vec2,
	m_localAnchor2: new b2Vec2,
	m_J: new b2Jacobian,
	m_constant: null,
	m_ratio: null,
	m_mass: null,
	m_impulse: null
});
var b2GearJointDef = Class.create();
Object.extend(b2GearJointDef.prototype, b2JointDef.prototype);
Object.extend(b2GearJointDef.prototype, {
	initialize: function() {
		this.type = b2Joint.e_gearJoint;
		this.joint2 = this.joint1 = null;
		this.ratio = 1
	},
	joint1: null,
	joint2: null,
	ratio: null
});
var b2MouseJoint = Class.create();
Object.extend(b2MouseJoint.prototype, b2Joint.prototype);
Object.extend(b2MouseJoint.prototype, {
	GetAnchor1: function() {
		return this.m_target
	},
	GetAnchor2: function() {
		var a = b2Math.b2MulMV(this.m_body2.m_R, this.m_localAnchor);
		a.Add(this.m_body2.m_position);
		return a
	},
	GetReactionForce: function(a) {
		var c = new b2Vec2;
		c.SetV(this.m_impulse);
		c.Multiply(a);
		return c
	},
	GetReactionTorque: function(a) {
		return 0
	},
	SetTarget: function(a) {
		this.m_body2.WakeUp();
		this.m_target = a
	},
	initialize: function(a) {
		this.m_node1 = new b2JointNode;
		this.m_node2 = new b2JointNode;
		this.m_type = a.type;
		this.m_next = this.m_prev = null;
		this.m_body1 = a.body1;
		this.m_body2 = a.body2;
		this.m_collideConnected = a.collideConnected;
		this.m_islandFlag = !1;
		this.m_userData = a.userData;
		this.K = new b2Mat22;
		this.K1 = new b2Mat22;
		this.K2 = new b2Mat22;
		this.m_localAnchor = new b2Vec2;
		this.m_target = new b2Vec2;
		this.m_impulse = new b2Vec2;
		this.m_ptpMass = new b2Mat22;
		this.m_C = new b2Vec2;
		this.m_target.SetV(a.target);
		var c = this.m_target.x - this.m_body2.m_position.x,
		e = this.m_target.y - this.m_body2.m_position.y;
		this.m_localAnchor.x = c * this.m_body2.m_R.col1.x + e * this.m_body2.m_R.col1.y;
		this.m_localAnchor.y = c * this.m_body2.m_R.col2.x + e * this.m_body2.m_R.col2.y;
		this.m_maxForce = a.maxForce;
		this.m_impulse.SetZero();
		var e = this.m_body2.m_mass,
		f = 2 * b2Settings.b2_pi * a.frequencyHz,
		c = 2 * e * a.dampingRatio * f,
		e = e * f * f;
		this.m_gamma = 1 / (c + a.timeStep * e);
		this.m_beta = a.timeStep * e / (c + a.timeStep * e)
	},
	K: new b2Mat22,
	K1: new b2Mat22,
	K2: new b2Mat22,
	PrepareVelocitySolver: function() {
		var a = this.m_body2,
		c;
		c = a.m_R;
		var e = c.col1.x * this.m_localAnchor.x + c.col2.x * this.m_localAnchor.y;
		c = c.col1.y * this.m_localAnchor.x + c.col2.y * this.m_localAnchor.y;
		var f = a.m_invMass,
		g = a.m_invI;
		this.K1.col1.x = f;
		this.K1.col2.x = 0;
		this.K1.col1.y = 0;
		this.K1.col2.y = f;
		this.K2.col1.x = g * c * c;
		this.K2.col2.x = -g * e * c;
		this.K2.col1.y = -g * e * c;
		this.K2.col2.y = g * e * e;
		this.K.SetM(this.K1);
		this.K.AddM(this.K2);
		this.K.col1.x += this.m_gamma;
		this.K.col2.y += this.m_gamma;
		this.K.Invert(this.m_ptpMass);
		this.m_C.x = a.m_position.x + e - this.m_target.x;
		this.m_C.y = a.m_position.y + c - this.m_target.y;
		a.m_angularVelocity *= 0.98;
		var h = this.m_impulse.x,
		k = this.m_impulse.y;
		a.m_linearVelocity.x += f * h;
		a.m_linearVelocity.y += f * k;
		a.m_angularVelocity += g * (e * k - c * h)
	},
	SolveVelocityConstraints: function(a) {
		var c = this.m_body2,
		e;
		e = c.m_R;
		var f = e.col1.x * this.m_localAnchor.x + e.col2.x * this.m_localAnchor.y,
		g = e.col1.y * this.m_localAnchor.x + e.col2.y * this.m_localAnchor.y,
		h = c.m_linearVelocity.x + -c.m_angularVelocity * g,
		k = c.m_linearVelocity.y + c.m_angularVelocity * f;
		e = this.m_ptpMass;
		var h = h + this.m_beta * a.inv_dt * this.m_C.x + this.m_gamma * this.m_impulse.x,
		l = k + this.m_beta * a.inv_dt * this.m_C.y + this.m_gamma * this.m_impulse.y,
		k = -(e.col1.x * h + e.col2.x * l),
		l = -(e.col1.y * h + e.col2.y * l);
		e = this.m_impulse.x;
		h = this.m_impulse.y;
		this.m_impulse.x += k;
		this.m_impulse.y += l;
		k = this.m_impulse.Length();
		k > a.dt * this.m_maxForce && this.m_impulse.Multiply(a.dt * this.m_maxForce / k);
		k = this.m_impulse.x - e;
		l = this.m_impulse.y - h;
		c.m_linearVelocity.x += c.m_invMass * k;
		c.m_linearVelocity.y += c.m_invMass * l;
		c.m_angularVelocity += c.m_invI * (f * l - g * k)
	},
	SolvePositionConstraints: function() {
		return ! 0
	},
	m_localAnchor: new b2Vec2,
	m_target: new b2Vec2,
	m_impulse: new b2Vec2,
	m_ptpMass: new b2Mat22,
	m_C: new b2Vec2,
	m_maxForce: null,
	m_beta: null,
	m_gamma: null
});
var b2MouseJointDef = Class.create();
Object.extend(b2MouseJointDef.prototype, b2JointDef.prototype);
Object.extend(b2MouseJointDef.prototype, {
	initialize: function() {
		this.type = b2Joint.e_unknownJoint;
		this.body2 = this.body1 = this.userData = null;
		this.collideConnected = !1;
		this.target = new b2Vec2;
		this.type = b2Joint.e_mouseJoint;
		this.maxForce = 0;
		this.frequencyHz = 5;
		this.dampingRatio = 0.7;
		this.timeStep = 1 / 60
	},
	target: new b2Vec2,
	maxForce: null,
	frequencyHz: null,
	dampingRatio: null,
	timeStep: null
});
var b2PrismaticJoint = Class.create();
Object.extend(b2PrismaticJoint.prototype, b2Joint.prototype);
Object.extend(b2PrismaticJoint.prototype, {
	GetAnchor1: function() {
		var a = this.m_body1,
		c = new b2Vec2;
		c.SetV(this.m_localAnchor1);
		c.MulM(a.m_R);
		c.Add(a.m_position);
		return c
	},
	GetAnchor2: function() {
		var a = this.m_body2,
		c = new b2Vec2;
		c.SetV(this.m_localAnchor2);
		c.MulM(a.m_R);
		c.Add(a.m_position);
		return c
	},
	GetJointTranslation: function() {
		var a = this.m_body1,
		c = this.m_body2,
		e;
		e = a.m_R;
		var f = e.col1.x * this.m_localAnchor1.x + e.col2.x * this.m_localAnchor1.y,
		g = e.col1.y * this.m_localAnchor1.x + e.col2.y * this.m_localAnchor1.y;
		e = c.m_R;
		f = c.m_position.x + (e.col1.x * this.m_localAnchor2.x + e.col2.x * this.m_localAnchor2.y) - (a.m_position.x + f);
		c = c.m_position.y + (e.col1.y * this.m_localAnchor2.x + e.col2.y * this.m_localAnchor2.y) - (a.m_position.y + g);
		e = a.m_R;
		return (e.col1.x * this.m_localXAxis1.x + e.col2.x * this.m_localXAxis1.y) * f + (e.col1.y * this.m_localXAxis1.x + e.col2.y * this.m_localXAxis1.y) * c
	},
	GetJointSpeed: function() {
		var a = this.m_body1,
		c = this.m_body2,
		e;
		e = a.m_R;
		var f = e.col1.x * this.m_localAnchor1.x + e.col2.x * this.m_localAnchor1.y,
		g = e.col1.y * this.m_localAnchor1.x + e.col2.y * this.m_localAnchor1.y;
		e = c.m_R;
		var h = e.col1.x * this.m_localAnchor2.x + e.col2.x * this.m_localAnchor2.y,
		k = e.col1.y * this.m_localAnchor2.x + e.col2.y * this.m_localAnchor2.y,
		l = c.m_position.x + h - (a.m_position.x + f),
		m = c.m_position.y + k - (a.m_position.y + g);
		e = a.m_R;
		var n = e.col1.x * this.m_localXAxis1.x + e.col2.x * this.m_localXAxis1.y;
		e = e.col1.y * this.m_localXAxis1.x + e.col2.y * this.m_localXAxis1.y;
		var p = a.m_linearVelocity,
		r = c.m_linearVelocity,
		a = a.m_angularVelocity,
		c = c.m_angularVelocity;
		return l * -a * e + m * a * n + (n * (r.x + -c * k - p.x - -a * g) + e * (r.y + c * h - p.y - a * f))
	},
	GetMotorForce: function(a) {
		return a * this.m_motorImpulse
	},
	SetMotorSpeed: function(a) {
		this.m_motorSpeed = a
	},
	SetMotorForce: function(a) {
		this.m_maxMotorForce = a
	},
	GetReactionForce: function(a) {
		a *= this.m_limitImpulse;
		var c;
		c = this.m_body1.m_R;
		return new b2Vec2(a * (c.col1.x * this.m_localXAxis1.x + c.col2.x * this.m_localXAxis1.y) + a * (c.col1.x * this.m_localYAxis1.x + c.col2.x * this.m_localYAxis1.y), a * (c.col1.y * this.m_localXAxis1.x + c.col2.y * this.m_localXAxis1.y) + a * (c.col1.y * this.m_localYAxis1.x + c.col2.y * this.m_localYAxis1.y))
	},
	GetReactionTorque: function(a) {
		return a * this.m_angularImpulse
	},
	initialize: function(a) {
		this.m_node1 = new b2JointNode;
		this.m_node2 = new b2JointNode;
		this.m_type = a.type;
		this.m_next = this.m_prev = null;
		this.m_body1 = a.body1;
		this.m_body2 = a.body2;
		this.m_collideConnected = a.collideConnected;
		this.m_islandFlag = !1;
		this.m_userData = a.userData;
		this.m_localAnchor1 = new b2Vec2;
		this.m_localAnchor2 = new b2Vec2;
		this.m_localXAxis1 = new b2Vec2;
		this.m_localYAxis1 = new b2Vec2;
		this.m_linearJacobian = new b2Jacobian;
		this.m_motorJacobian = new b2Jacobian;
		var c, e, f;
		c = this.m_body1.m_R;
		e = a.anchorPoint.x - this.m_body1.m_position.x;
		f = a.anchorPoint.y - this.m_body1.m_position.y;
		this.m_localAnchor1.Set(e * c.col1.x + f * c.col1.y, e * c.col2.x + f * c.col2.y);
		c = this.m_body2.m_R;
		e = a.anchorPoint.x - this.m_body2.m_position.x;
		f = a.anchorPoint.y - this.m_body2.m_position.y;
		this.m_localAnchor2.Set(e * c.col1.x + f * c.col1.y, e * c.col2.x + f * c.col2.y);
		c = this.m_body1.m_R;
		e = a.axis.x;
		f = a.axis.y;
		this.m_localXAxis1.Set(e * c.col1.x + f * c.col1.y, e * c.col2.x + f * c.col2.y);
		this.m_localYAxis1.x = -this.m_localXAxis1.y;
		this.m_localYAxis1.y = this.m_localXAxis1.x;
		this.m_initialAngle = this.m_body2.m_rotation - this.m_body1.m_rotation;
		this.m_linearJacobian.SetZero();
		this.m_angularImpulse = this.m_angularMass = this.m_linearImpulse = this.m_linearMass = 0;
		this.m_motorJacobian.SetZero();
		this.m_limitPositionImpulse = this.m_limitImpulse = this.m_motorImpulse = this.m_motorMass = 0;
		this.m_lowerTranslation = a.lowerTranslation;
		this.m_upperTranslation = a.upperTranslation;
		this.m_maxMotorForce = a.motorForce;
		this.m_motorSpeed = a.motorSpeed;
		this.m_enableLimit = a.enableLimit;
		this.m_enableMotor = a.enableMotor
	},
	PrepareVelocitySolver: function() {
		var a = this.m_body1,
		c = this.m_body2,
		e;
		e = a.m_R;
		var f = e.col1.x * this.m_localAnchor1.x + e.col2.x * this.m_localAnchor1.y,
		g = e.col1.y * this.m_localAnchor1.x + e.col2.y * this.m_localAnchor1.y;
		e = c.m_R;
		var h = e.col1.x * this.m_localAnchor2.x + e.col2.x * this.m_localAnchor2.y,
		k = e.col1.y * this.m_localAnchor2.x + e.col2.y * this.m_localAnchor2.y,
		l = a.m_invMass,
		m = c.m_invMass,
		n = a.m_invI,
		p = c.m_invI;
		e = a.m_R;
		var r = e.col1.x * this.m_localYAxis1.x + e.col2.x * this.m_localYAxis1.y;
		e = e.col1.y * this.m_localYAxis1.x + e.col2.y * this.m_localYAxis1.y;
		var q = c.m_position.x + h - a.m_position.x,
		s = c.m_position.y + k - a.m_position.y;
		this.m_linearJacobian.linear1.x = -r;
		this.m_linearJacobian.linear1.y = -e;
		this.m_linearJacobian.linear2.x = r;
		this.m_linearJacobian.linear2.y = e;
		this.m_linearJacobian.angular1 = -(q * e - s * r);
		this.m_linearJacobian.angular2 = h * e - k * r;
		this.m_linearMass = l + n * this.m_linearJacobian.angular1 * this.m_linearJacobian.angular1 + m + p * this.m_linearJacobian.angular2 * this.m_linearJacobian.angular2;
		this.m_linearMass = 1 / this.m_linearMass;
		this.m_angularMass = 1 / (n + p);
		if (this.m_enableLimit || this.m_enableMotor) e = a.m_R,
		r = e.col1.x * this.m_localXAxis1.x + e.col2.x * this.m_localXAxis1.y,
		e = e.col1.y * this.m_localXAxis1.x + e.col2.y * this.m_localXAxis1.y,
		this.m_motorJacobian.linear1.x = -r,
		this.m_motorJacobian.linear1.y = -e,
		this.m_motorJacobian.linear2.x = r,
		this.m_motorJacobian.linear2.y = e,
		this.m_motorJacobian.angular1 = -(q * e - s * r),
		this.m_motorJacobian.angular2 = h * e - k * r,
		this.m_motorMass = l + n * this.m_motorJacobian.angular1 * this.m_motorJacobian.angular1 + m + p * this.m_motorJacobian.angular2 * this.m_motorJacobian.angular2,
		this.m_motorMass = 1 / this.m_motorMass,
		this.m_enableLimit && (f = r * (q - f) + e * (s - g), b2Math.b2Abs(this.m_upperTranslation - this.m_lowerTranslation) < 2 * b2Settings.b2_linearSlop ? this.m_limitState = b2Joint.e_equalLimits: f <= this.m_lowerTranslation ? (this.m_limitState != b2Joint.e_atLowerLimit && (this.m_limitImpulse = 0), this.m_limitState = b2Joint.e_atLowerLimit) : f >= this.m_upperTranslation ? (this.m_limitState != b2Joint.e_atUpperLimit && (this.m_limitImpulse = 0), this.m_limitState = b2Joint.e_atUpperLimit) : (this.m_limitState = b2Joint.e_inactiveLimit, this.m_limitImpulse = 0)); ! 1 == this.m_enableMotor && (this.m_motorImpulse = 0); ! 1 == this.m_enableLimit && (this.m_limitImpulse = 0);
		b2World.s_enableWarmStarting ? (f = this.m_linearImpulse * this.m_linearJacobian.linear1.y + (this.m_motorImpulse + this.m_limitImpulse) * this.m_motorJacobian.linear1.y, g = this.m_linearImpulse * this.m_linearJacobian.linear2.x + (this.m_motorImpulse + this.m_limitImpulse) * this.m_motorJacobian.linear2.x, h = this.m_linearImpulse * this.m_linearJacobian.linear2.y + (this.m_motorImpulse + this.m_limitImpulse) * this.m_motorJacobian.linear2.y, k = this.m_linearImpulse * this.m_linearJacobian.angular1 - this.m_angularImpulse + (this.m_motorImpulse + this.m_limitImpulse) * this.m_motorJacobian.angular1, q = this.m_linearImpulse * this.m_linearJacobian.angular2 + this.m_angularImpulse + (this.m_motorImpulse + this.m_limitImpulse) * this.m_motorJacobian.angular2, a.m_linearVelocity.x += l * (this.m_linearImpulse * this.m_linearJacobian.linear1.x + (this.m_motorImpulse + this.m_limitImpulse) * this.m_motorJacobian.linear1.x), a.m_linearVelocity.y += l * f, a.m_angularVelocity += n * k, c.m_linearVelocity.x += m * g, c.m_linearVelocity.y += m * h, c.m_angularVelocity += p * q) : this.m_motorImpulse = this.m_limitImpulse = this.m_angularImpulse = this.m_linearImpulse = 0;
		this.m_limitPositionImpulse = 0
	},
	SolveVelocityConstraints: function(a) {
		var c = this.m_body1,
		e = this.m_body2,
		f = c.m_invMass,
		g = e.m_invMass,
		h = c.m_invI,
		k = e.m_invI,
		l = this.m_linearJacobian.Compute(c.m_linearVelocity, c.m_angularVelocity, e.m_linearVelocity, e.m_angularVelocity),
		l = -this.m_linearMass * l;
		this.m_linearImpulse += l;
		c.m_linearVelocity.x += f * l * this.m_linearJacobian.linear1.x;
		c.m_linearVelocity.y += f * l * this.m_linearJacobian.linear1.y;
		c.m_angularVelocity += h * l * this.m_linearJacobian.angular1;
		e.m_linearVelocity.x += g * l * this.m_linearJacobian.linear2.x;
		e.m_linearVelocity.y += g * l * this.m_linearJacobian.linear2.y;
		e.m_angularVelocity += k * l * this.m_linearJacobian.angular2;
		l = -this.m_angularMass * (e.m_angularVelocity - c.m_angularVelocity);
		this.m_angularImpulse += l;
		c.m_angularVelocity -= h * l;
		e.m_angularVelocity += k * l;
		if (this.m_enableMotor && this.m_limitState != b2Joint.e_equalLimits) {
			var l = this.m_motorJacobian.Compute(c.m_linearVelocity, c.m_angularVelocity, e.m_linearVelocity, e.m_angularVelocity) - this.m_motorSpeed,
			l = -this.m_motorMass * l,
			m = this.m_motorImpulse;
			this.m_motorImpulse = b2Math.b2Clamp(this.m_motorImpulse + l, -a.dt * this.m_maxMotorForce, a.dt * this.m_maxMotorForce);
			l = this.m_motorImpulse - m;
			c.m_linearVelocity.x += f * l * this.m_motorJacobian.linear1.x;
			c.m_linearVelocity.y += f * l * this.m_motorJacobian.linear1.y;
			c.m_angularVelocity += h * l * this.m_motorJacobian.angular1;
			e.m_linearVelocity.x += g * l * this.m_motorJacobian.linear2.x;
			e.m_linearVelocity.y += g * l * this.m_motorJacobian.linear2.y;
			e.m_angularVelocity += k * l * this.m_motorJacobian.angular2
		}
		this.m_enableLimit && this.m_limitState != b2Joint.e_inactiveLimit && (a = this.m_motorJacobian.Compute(c.m_linearVelocity, c.m_angularVelocity, e.m_linearVelocity, e.m_angularVelocity), l = -this.m_motorMass * a, this.m_limitState == b2Joint.e_equalLimits ? this.m_limitImpulse += l: this.m_limitState == b2Joint.e_atLowerLimit ? (a = this.m_limitImpulse, this.m_limitImpulse = b2Math.b2Max(this.m_limitImpulse + l, 0), l = this.m_limitImpulse - a) : this.m_limitState == b2Joint.e_atUpperLimit && (a = this.m_limitImpulse, this.m_limitImpulse = b2Math.b2Min(this.m_limitImpulse + l, 0), l = this.m_limitImpulse - a), c.m_linearVelocity.x += f * l * this.m_motorJacobian.linear1.x, c.m_linearVelocity.y += f * l * this.m_motorJacobian.linear1.y, c.m_angularVelocity += h * l * this.m_motorJacobian.angular1, e.m_linearVelocity.x += g * l * this.m_motorJacobian.linear2.x, e.m_linearVelocity.y += g * l * this.m_motorJacobian.linear2.y, e.m_angularVelocity += k * l * this.m_motorJacobian.angular2)
	},
	SolvePositionConstraints: function() {
		var a, c, e = this.m_body1,
		f = this.m_body2,
		g = e.m_invMass,
		h = f.m_invMass,
		k = e.m_invI,
		l = f.m_invI;
		a = e.m_R;
		var m = a.col1.x * this.m_localAnchor1.x + a.col2.x * this.m_localAnchor1.y,
		n = a.col1.y * this.m_localAnchor1.x + a.col2.y * this.m_localAnchor1.y;
		a = f.m_R;
		var p = a.col1.x * this.m_localAnchor2.x + a.col2.x * this.m_localAnchor2.y;
		a = a.col1.y * this.m_localAnchor2.x + a.col2.y * this.m_localAnchor2.y;
		var m = e.m_position.x + m,
		n = e.m_position.y + n,
		p = f.m_position.x + p,
		r = f.m_position.y + a;
		a = e.m_R;
		var q = (a.col1.x * this.m_localYAxis1.x + a.col2.x * this.m_localYAxis1.y) * (p - m) + (a.col1.y * this.m_localYAxis1.x + a.col2.y * this.m_localYAxis1.y) * (r - n),
		q = b2Math.b2Clamp(q, -b2Settings.b2_maxLinearCorrection, b2Settings.b2_maxLinearCorrection);
		c = -this.m_linearMass * q;
		e.m_position.x += g * c * this.m_linearJacobian.linear1.x;
		e.m_position.y += g * c * this.m_linearJacobian.linear1.y;
		e.m_rotation += k * c * this.m_linearJacobian.angular1;
		f.m_position.x += h * c * this.m_linearJacobian.linear2.x;
		f.m_position.y += h * c * this.m_linearJacobian.linear2.y;
		f.m_rotation += l * c * this.m_linearJacobian.angular2;
		q = b2Math.b2Abs(q);
		c = f.m_rotation - e.m_rotation - this.m_initialAngle;
		c = b2Math.b2Clamp(c, -b2Settings.b2_maxAngularCorrection, b2Settings.b2_maxAngularCorrection);
		var s = -this.m_angularMass * c;
		e.m_rotation -= e.m_invI * s;
		e.m_R.Set(e.m_rotation);
		f.m_rotation += f.m_invI * s;
		f.m_R.Set(f.m_rotation);
		s = b2Math.b2Abs(c);
		this.m_enableLimit && this.m_limitState != b2Joint.e_inactiveLimit && (a = e.m_R, m = a.col1.x * this.m_localAnchor1.x + a.col2.x * this.m_localAnchor1.y, n = a.col1.y * this.m_localAnchor1.x + a.col2.y * this.m_localAnchor1.y, a = f.m_R, p = a.col1.x * this.m_localAnchor2.x + a.col2.x * this.m_localAnchor2.y, a = a.col1.y * this.m_localAnchor2.x + a.col2.y * this.m_localAnchor2.y, m = e.m_position.x + m, n = e.m_position.y + n, p = f.m_position.x + p, r = f.m_position.y + a, a = e.m_R, m = (a.col1.x * this.m_localXAxis1.x + a.col2.x * this.m_localXAxis1.y) * (p - m) + (a.col1.y * this.m_localXAxis1.x + a.col2.y * this.m_localXAxis1.y) * (r - n), a = 0, this.m_limitState == b2Joint.e_equalLimits ? (a = b2Math.b2Clamp(m, -b2Settings.b2_maxLinearCorrection, b2Settings.b2_maxLinearCorrection), a *= -this.m_motorMass, q = b2Math.b2Max(q, b2Math.b2Abs(c))) : this.m_limitState == b2Joint.e_atLowerLimit ? (a = m - this.m_lowerTranslation, q = b2Math.b2Max(q, -a), a = b2Math.b2Clamp(a + b2Settings.b2_linearSlop, -b2Settings.b2_maxLinearCorrection, 0), a *= -this.m_motorMass, c = this.m_limitPositionImpulse, this.m_limitPositionImpulse = b2Math.b2Max(this.m_limitPositionImpulse + a, 0), a = this.m_limitPositionImpulse - c) : this.m_limitState == b2Joint.e_atUpperLimit && (a = m - this.m_upperTranslation, q = b2Math.b2Max(q, a), a = b2Math.b2Clamp(a - b2Settings.b2_linearSlop, 0, b2Settings.b2_maxLinearCorrection), a *= -this.m_motorMass, c = this.m_limitPositionImpulse, this.m_limitPositionImpulse = b2Math.b2Min(this.m_limitPositionImpulse + a, 0), a = this.m_limitPositionImpulse - c), e.m_position.x += g * a * this.m_motorJacobian.linear1.x, e.m_position.y += g * a * this.m_motorJacobian.linear1.y, e.m_rotation += k * a * this.m_motorJacobian.angular1, e.m_R.Set(e.m_rotation), f.m_position.x += h * a * this.m_motorJacobian.linear2.x, f.m_position.y += h * a * this.m_motorJacobian.linear2.y, f.m_rotation += l * a * this.m_motorJacobian.angular2, f.m_R.Set(f.m_rotation));
		return q <= b2Settings.b2_linearSlop && s <= b2Settings.b2_angularSlop
	},
	m_localAnchor1: new b2Vec2,
	m_localAnchor2: new b2Vec2,
	m_localXAxis1: new b2Vec2,
	m_localYAxis1: new b2Vec2,
	m_initialAngle: null,
	m_linearJacobian: new b2Jacobian,
	m_linearMass: null,
	m_linearImpulse: null,
	m_angularMass: null,
	m_angularImpulse: null,
	m_motorJacobian: new b2Jacobian,
	m_motorMass: null,
	m_motorImpulse: null,
	m_limitImpulse: null,
	m_limitPositionImpulse: null,
	m_lowerTranslation: null,
	m_upperTranslation: null,
	m_maxMotorForce: null,
	m_motorSpeed: null,
	m_enableLimit: null,
	m_enableMotor: null,
	m_limitState: 0
});
var b2PrismaticJointDef = Class.create();
Object.extend(b2PrismaticJointDef.prototype, b2JointDef.prototype);
Object.extend(b2PrismaticJointDef.prototype, {
	initialize: function() {
		this.type = b2Joint.e_unknownJoint;
		this.body2 = this.body1 = this.userData = null;
		this.collideConnected = !1;
		this.type = b2Joint.e_prismaticJoint;
		this.anchorPoint = new b2Vec2(0, 0);
		this.axis = new b2Vec2(0, 0);
		this.motorSpeed = this.motorForce = this.upperTranslation = this.lowerTranslation = 0;
		this.enableMotor = this.enableLimit = !1
	},
	anchorPoint: null,
	axis: null,
	lowerTranslation: null,
	upperTranslation: null,
	motorForce: null,
	motorSpeed: null,
	enableLimit: null,
	enableMotor: null
});
var b2PulleyJoint = Class.create();
Object.extend(b2PulleyJoint.prototype, b2Joint.prototype);
Object.extend(b2PulleyJoint.prototype, {
	GetAnchor1: function() {
		var a = this.m_body1.m_R;
		return new b2Vec2(this.m_body1.m_position.x + (a.col1.x * this.m_localAnchor1.x + a.col2.x * this.m_localAnchor1.y), this.m_body1.m_position.y + (a.col1.y * this.m_localAnchor1.x + a.col2.y * this.m_localAnchor1.y))
	},
	GetAnchor2: function() {
		var a = this.m_body2.m_R;
		return new b2Vec2(this.m_body2.m_position.x + (a.col1.x * this.m_localAnchor2.x + a.col2.x * this.m_localAnchor2.y), this.m_body2.m_position.y + (a.col1.y * this.m_localAnchor2.x + a.col2.y * this.m_localAnchor2.y))
	},
	GetGroundPoint1: function() {
		return new b2Vec2(this.m_ground.m_position.x + this.m_groundAnchor1.x, this.m_ground.m_position.y + this.m_groundAnchor1.y)
	},
	GetGroundPoint2: function() {
		return new b2Vec2(this.m_ground.m_position.x + this.m_groundAnchor2.x, this.m_ground.m_position.y + this.m_groundAnchor2.y)
	},
	GetReactionForce: function(a) {
		return new b2Vec2
	},
	GetReactionTorque: function(a) {
		return 0
	},
	GetLength1: function() {
		var a;
		a = this.m_body1.m_R;
		var c = this.m_body1.m_position.x + (a.col1.x * this.m_localAnchor1.x + a.col2.x * this.m_localAnchor1.y) - (this.m_ground.m_position.x + this.m_groundAnchor1.x);
		a = this.m_body1.m_position.y + (a.col1.y * this.m_localAnchor1.x + a.col2.y * this.m_localAnchor1.y) - (this.m_ground.m_position.y + this.m_groundAnchor1.y);
		return Math.sqrt(c * c + a * a)
	},
	GetLength2: function() {
		var a;
		a = this.m_body2.m_R;
		var c = this.m_body2.m_position.x + (a.col1.x * this.m_localAnchor2.x + a.col2.x * this.m_localAnchor2.y) - (this.m_ground.m_position.x + this.m_groundAnchor2.x);
		a = this.m_body2.m_position.y + (a.col1.y * this.m_localAnchor2.x + a.col2.y * this.m_localAnchor2.y) - (this.m_ground.m_position.y + this.m_groundAnchor2.y);
		return Math.sqrt(c * c + a * a)
	},
	GetRatio: function() {
		return this.m_ratio
	},
	initialize: function(a) {
		this.m_node1 = new b2JointNode;
		this.m_node2 = new b2JointNode;
		this.m_type = a.type;
		this.m_next = this.m_prev = null;
		this.m_body1 = a.body1;
		this.m_body2 = a.body2;
		this.m_collideConnected = a.collideConnected;
		this.m_islandFlag = !1;
		this.m_userData = a.userData;
		this.m_groundAnchor1 = new b2Vec2;
		this.m_groundAnchor2 = new b2Vec2;
		this.m_localAnchor1 = new b2Vec2;
		this.m_localAnchor2 = new b2Vec2;
		this.m_u1 = new b2Vec2;
		this.m_u2 = new b2Vec2;
		var c, e, f;
		this.m_ground = this.m_body1.m_world.m_groundBody;
		this.m_groundAnchor1.x = a.groundPoint1.x - this.m_ground.m_position.x;
		this.m_groundAnchor1.y = a.groundPoint1.y - this.m_ground.m_position.y;
		this.m_groundAnchor2.x = a.groundPoint2.x - this.m_ground.m_position.x;
		this.m_groundAnchor2.y = a.groundPoint2.y - this.m_ground.m_position.y;
		c = this.m_body1.m_R;
		e = a.anchorPoint1.x - this.m_body1.m_position.x;
		f = a.anchorPoint1.y - this.m_body1.m_position.y;
		this.m_localAnchor1.x = e * c.col1.x + f * c.col1.y;
		this.m_localAnchor1.y = e * c.col2.x + f * c.col2.y;
		c = this.m_body2.m_R;
		e = a.anchorPoint2.x - this.m_body2.m_position.x;
		f = a.anchorPoint2.y - this.m_body2.m_position.y;
		this.m_localAnchor2.x = e * c.col1.x + f * c.col1.y;
		this.m_localAnchor2.y = e * c.col2.x + f * c.col2.y;
		this.m_ratio = a.ratio;
		e = a.groundPoint1.x - a.anchorPoint1.x;
		f = a.groundPoint1.y - a.anchorPoint1.y;
		c = Math.sqrt(e * e + f * f);
		e = a.groundPoint2.x - a.anchorPoint2.x;
		f = a.groundPoint2.y - a.anchorPoint2.y;
		e = Math.sqrt(e * e + f * f);
		f = b2Math.b2Max(0.5 * b2PulleyJoint.b2_minPulleyLength, c);
		e = b2Math.b2Max(0.5 * b2PulleyJoint.b2_minPulleyLength, e);
		this.m_constant = f + this.m_ratio * e;
		this.m_maxLength1 = b2Math.b2Clamp(a.maxLength1, f, this.m_constant - this.m_ratio * b2PulleyJoint.b2_minPulleyLength);
		this.m_maxLength2 = b2Math.b2Clamp(a.maxLength2, e, (this.m_constant - b2PulleyJoint.b2_minPulleyLength) / this.m_ratio);
		this.m_limitImpulse2 = this.m_limitImpulse1 = this.m_pulleyImpulse = 0
	},
	PrepareVelocitySolver: function() {
		var a = this.m_body1,
		c = this.m_body2,
		e;
		e = a.m_R;
		var f = e.col1.x * this.m_localAnchor1.x + e.col2.x * this.m_localAnchor1.y,
		g = e.col1.y * this.m_localAnchor1.x + e.col2.y * this.m_localAnchor1.y;
		e = c.m_R;
		var h = e.col1.x * this.m_localAnchor2.x + e.col2.x * this.m_localAnchor2.y;
		e = e.col1.y * this.m_localAnchor2.x + e.col2.y * this.m_localAnchor2.y;
		var k = c.m_position.x + h,
		l = c.m_position.y + e,
		m = this.m_ground.m_position.x + this.m_groundAnchor2.x,
		n = this.m_ground.m_position.y + this.m_groundAnchor2.y;
		this.m_u1.Set(a.m_position.x + f - (this.m_ground.m_position.x + this.m_groundAnchor1.x), a.m_position.y + g - (this.m_ground.m_position.y + this.m_groundAnchor1.y));
		this.m_u2.Set(k - m, l - n);
		k = this.m_u1.Length();
		l = this.m_u2.Length();
		k > b2Settings.b2_linearSlop ? this.m_u1.Multiply(1 / k) : this.m_u1.SetZero();
		l > b2Settings.b2_linearSlop ? this.m_u2.Multiply(1 / l) : this.m_u2.SetZero();
		k < this.m_maxLength1 ? (this.m_limitState1 = b2Joint.e_inactiveLimit, this.m_limitImpulse1 = 0) : (this.m_limitState1 = b2Joint.e_atUpperLimit, this.m_limitPositionImpulse1 = 0);
		l < this.m_maxLength2 ? (this.m_limitState2 = b2Joint.e_inactiveLimit, this.m_limitImpulse2 = 0) : (this.m_limitState2 = b2Joint.e_atUpperLimit, this.m_limitPositionImpulse2 = 0);
		k = f * this.m_u1.y - g * this.m_u1.x;
		l = h * this.m_u2.y - e * this.m_u2.x;
		this.m_limitMass1 = a.m_invMass + a.m_invI * k * k;
		this.m_limitMass2 = c.m_invMass + c.m_invI * l * l;
		this.m_pulleyMass = this.m_limitMass1 + this.m_ratio * this.m_ratio * this.m_limitMass2;
		this.m_limitMass1 = 1 / this.m_limitMass1;
		this.m_limitMass2 = 1 / this.m_limitMass2;
		this.m_pulleyMass = 1 / this.m_pulleyMass;
		k = ( - this.m_pulleyImpulse - this.m_limitImpulse1) * this.m_u1.x;
		l = ( - this.m_pulleyImpulse - this.m_limitImpulse1) * this.m_u1.y;
		m = ( - this.m_ratio * this.m_pulleyImpulse - this.m_limitImpulse2) * this.m_u2.x;
		n = ( - this.m_ratio * this.m_pulleyImpulse - this.m_limitImpulse2) * this.m_u2.y;
		a.m_linearVelocity.x += a.m_invMass * k;
		a.m_linearVelocity.y += a.m_invMass * l;
		a.m_angularVelocity += a.m_invI * (f * l - g * k);
		c.m_linearVelocity.x += c.m_invMass * m;
		c.m_linearVelocity.y += c.m_invMass * n;
		c.m_angularVelocity += c.m_invI * (h * n - e * m)
	},
	SolveVelocityConstraints: function(a) {
		a = this.m_body1;
		var c = this.m_body2,
		e;
		e = a.m_R;
		var f = e.col1.x * this.m_localAnchor1.x + e.col2.x * this.m_localAnchor1.y,
		g = e.col1.y * this.m_localAnchor1.x + e.col2.y * this.m_localAnchor1.y;
		e = c.m_R;
		var h = e.col1.x * this.m_localAnchor2.x + e.col2.x * this.m_localAnchor2.y;
		e = e.col1.y * this.m_localAnchor2.x + e.col2.y * this.m_localAnchor2.y;
		var k, l, m, n;
		k = a.m_linearVelocity.x + -a.m_angularVelocity * g;
		l = a.m_linearVelocity.y + a.m_angularVelocity * f;
		m = c.m_linearVelocity.x + -c.m_angularVelocity * e;
		n = c.m_linearVelocity.y + c.m_angularVelocity * h;
		k = -(this.m_u1.x * k + this.m_u1.y * l) - this.m_ratio * (this.m_u2.x * m + this.m_u2.y * n);
		n = -this.m_pulleyMass * k;
		this.m_pulleyImpulse += n;
		k = -n * this.m_u1.x;
		l = -n * this.m_u1.y;
		m = -this.m_ratio * n * this.m_u2.x;
		n = -this.m_ratio * n * this.m_u2.y;
		a.m_linearVelocity.x += a.m_invMass * k;
		a.m_linearVelocity.y += a.m_invMass * l;
		a.m_angularVelocity += a.m_invI * (f * l - g * k);
		c.m_linearVelocity.x += c.m_invMass * m;
		c.m_linearVelocity.y += c.m_invMass * n;
		c.m_angularVelocity += c.m_invI * (h * n - e * m);
		this.m_limitState1 == b2Joint.e_atUpperLimit && (k = a.m_linearVelocity.x + -a.m_angularVelocity * g, l = a.m_linearVelocity.y + a.m_angularVelocity * f, k = -(this.m_u1.x * k + this.m_u1.y * l), n = -this.m_limitMass1 * k, k = this.m_limitImpulse1, this.m_limitImpulse1 = b2Math.b2Max(0, this.m_limitImpulse1 + n), n = this.m_limitImpulse1 - k, k = -n * this.m_u1.x, l = -n * this.m_u1.y, a.m_linearVelocity.x += a.m_invMass * k, a.m_linearVelocity.y += a.m_invMass * l, a.m_angularVelocity += a.m_invI * (f * l - g * k));
		this.m_limitState2 == b2Joint.e_atUpperLimit && (m = c.m_linearVelocity.x + -c.m_angularVelocity * e, n = c.m_linearVelocity.y + c.m_angularVelocity * h, k = -(this.m_u2.x * m + this.m_u2.y * n), n = -this.m_limitMass2 * k, k = this.m_limitImpulse2, this.m_limitImpulse2 = b2Math.b2Max(0, this.m_limitImpulse2 + n), n = this.m_limitImpulse2 - k, m = -n * this.m_u2.x, n = -n * this.m_u2.y, c.m_linearVelocity.x += c.m_invMass * m, c.m_linearVelocity.y += c.m_invMass * n, c.m_angularVelocity += c.m_invI * (h * n - e * m))
	},
	SolvePositionConstraints: function() {
		var a = this.m_body1,
		c = this.m_body2,
		e, f = this.m_ground.m_position.x + this.m_groundAnchor1.x,
		g = this.m_ground.m_position.y + this.m_groundAnchor1.y,
		h = this.m_ground.m_position.x + this.m_groundAnchor2.x,
		k = this.m_ground.m_position.y + this.m_groundAnchor2.y,
		l, m, n, p, r, q, s, t = 0;
		e = a.m_R;
		l = e.col1.x * this.m_localAnchor1.x + e.col2.x * this.m_localAnchor1.y;
		m = e.col1.y * this.m_localAnchor1.x + e.col2.y * this.m_localAnchor1.y;
		e = c.m_R;
		n = e.col1.x * this.m_localAnchor2.x + e.col2.x * this.m_localAnchor2.y;
		e = e.col1.y * this.m_localAnchor2.x + e.col2.y * this.m_localAnchor2.y;
		p = a.m_position.x + l;
		r = a.m_position.y + m;
		q = c.m_position.x + n;
		s = c.m_position.y + e;
		this.m_u1.Set(p - f, r - g);
		this.m_u2.Set(q - h, s - k);
		p = this.m_u1.Length();
		r = this.m_u2.Length();
		p > b2Settings.b2_linearSlop ? this.m_u1.Multiply(1 / p) : this.m_u1.SetZero();
		r > b2Settings.b2_linearSlop ? this.m_u2.Multiply(1 / r) : this.m_u2.SetZero();
		p = this.m_constant - p - this.m_ratio * r;
		t = b2Math.b2Max(t, Math.abs(p));
		p = b2Math.b2Clamp(p, -b2Settings.b2_maxLinearCorrection, b2Settings.b2_maxLinearCorrection);
		s = -this.m_pulleyMass * p;
		p = -s * this.m_u1.x;
		r = -s * this.m_u1.y;
		q = -this.m_ratio * s * this.m_u2.x;
		s = -this.m_ratio * s * this.m_u2.y;
		a.m_position.x += a.m_invMass * p;
		a.m_position.y += a.m_invMass * r;
		a.m_rotation += a.m_invI * (l * r - m * p);
		c.m_position.x += c.m_invMass * q;
		c.m_position.y += c.m_invMass * s;
		c.m_rotation += c.m_invI * (n * s - e * q);
		a.m_R.Set(a.m_rotation);
		c.m_R.Set(c.m_rotation);
		this.m_limitState1 == b2Joint.e_atUpperLimit && (e = a.m_R, l = e.col1.x * this.m_localAnchor1.x + e.col2.x * this.m_localAnchor1.y, m = e.col1.y * this.m_localAnchor1.x + e.col2.y * this.m_localAnchor1.y, p = a.m_position.x + l, r = a.m_position.y + m, this.m_u1.Set(p - f, r - g), p = this.m_u1.Length(), p > b2Settings.b2_linearSlop ? (this.m_u1.x *= 1 / p, this.m_u1.y *= 1 / p) : this.m_u1.SetZero(), p = this.m_maxLength1 - p, t = b2Math.b2Max(t, -p), p = b2Math.b2Clamp(p + b2Settings.b2_linearSlop, -b2Settings.b2_maxLinearCorrection, 0), s = -this.m_limitMass1 * p, f = this.m_limitPositionImpulse1, this.m_limitPositionImpulse1 = b2Math.b2Max(0, this.m_limitPositionImpulse1 + s), s = this.m_limitPositionImpulse1 - f, p = -s * this.m_u1.x, r = -s * this.m_u1.y, a.m_position.x += a.m_invMass * p, a.m_position.y += a.m_invMass * r, a.m_rotation += a.m_invI * (l * r - m * p), a.m_R.Set(a.m_rotation));
		this.m_limitState2 == b2Joint.e_atUpperLimit && (e = c.m_R, n = e.col1.x * this.m_localAnchor2.x + e.col2.x * this.m_localAnchor2.y, e = e.col1.y * this.m_localAnchor2.x + e.col2.y * this.m_localAnchor2.y, q = c.m_position.x + n, s = c.m_position.y + e, this.m_u2.Set(q - h, s - k), r = this.m_u2.Length(), r > b2Settings.b2_linearSlop ? (this.m_u2.x *= 1 / r, this.m_u2.y *= 1 / r) : this.m_u2.SetZero(), p = this.m_maxLength2 - r, t = b2Math.b2Max(t, -p), p = b2Math.b2Clamp(p + b2Settings.b2_linearSlop, -b2Settings.b2_maxLinearCorrection, 0), s = -this.m_limitMass2 * p, f = this.m_limitPositionImpulse2, this.m_limitPositionImpulse2 = b2Math.b2Max(0, this.m_limitPositionImpulse2 + s), s = this.m_limitPositionImpulse2 - f, q = -s * this.m_u2.x, s = -s * this.m_u2.y, c.m_position.x += c.m_invMass * q, c.m_position.y += c.m_invMass * s, c.m_rotation += c.m_invI * (n * s - e * q), c.m_R.Set(c.m_rotation));
		return t < b2Settings.b2_linearSlop
	},
	m_ground: null,
	m_groundAnchor1: new b2Vec2,
	m_groundAnchor2: new b2Vec2,
	m_localAnchor1: new b2Vec2,
	m_localAnchor2: new b2Vec2,
	m_u1: new b2Vec2,
	m_u2: new b2Vec2,
	m_constant: null,
	m_ratio: null,
	m_maxLength1: null,
	m_maxLength2: null,
	m_pulleyMass: null,
	m_limitMass1: null,
	m_limitMass2: null,
	m_pulleyImpulse: null,
	m_limitImpulse1: null,
	m_limitImpulse2: null,
	m_limitPositionImpulse1: null,
	m_limitPositionImpulse2: null,
	m_limitState1: 0,
	m_limitState2: 0
});
b2PulleyJoint.b2_minPulleyLength = b2Settings.b2_lengthUnitsPerMeter;
var b2PulleyJointDef = Class.create();
Object.extend(b2PulleyJointDef.prototype, b2JointDef.prototype);
Object.extend(b2PulleyJointDef.prototype, {
	initialize: function() {
		this.type = b2Joint.e_unknownJoint;
		this.body2 = this.body1 = this.userData = null;
		this.collideConnected = !1;
		this.groundPoint1 = new b2Vec2;
		this.groundPoint2 = new b2Vec2;
		this.anchorPoint1 = new b2Vec2;
		this.anchorPoint2 = new b2Vec2;
		this.type = b2Joint.e_pulleyJoint;
		this.groundPoint1.Set( - 1, 1);
		this.groundPoint2.Set(1, 1);
		this.anchorPoint1.Set( - 1, 0);
		this.anchorPoint2.Set(1, 0);
		this.maxLength1 = 0.5 * b2PulleyJoint.b2_minPulleyLength;
		this.maxLength2 = 0.5 * b2PulleyJoint.b2_minPulleyLength;
		this.ratio = 1;
		this.collideConnected = !0
	},
	groundPoint1: new b2Vec2,
	groundPoint2: new b2Vec2,
	anchorPoint1: new b2Vec2,
	anchorPoint2: new b2Vec2,
	maxLength1: null,
	maxLength2: null,
	ratio: null
});
var b2RevoluteJoint = Class.create();
Object.extend(b2RevoluteJoint.prototype, b2Joint.prototype);
Object.extend(b2RevoluteJoint.prototype, {
	GetAnchor1: function() {
		var a = this.m_body1.m_R;
		return new b2Vec2(this.m_body1.m_position.x + (a.col1.x * this.m_localAnchor1.x + a.col2.x * this.m_localAnchor1.y), this.m_body1.m_position.y + (a.col1.y * this.m_localAnchor1.x + a.col2.y * this.m_localAnchor1.y))
	},
	GetAnchor2: function() {
		var a = this.m_body2.m_R;
		return new b2Vec2(this.m_body2.m_position.x + (a.col1.x * this.m_localAnchor2.x + a.col2.x * this.m_localAnchor2.y), this.m_body2.m_position.y + (a.col1.y * this.m_localAnchor2.x + a.col2.y * this.m_localAnchor2.y))
	},
	GetJointAngle: function() {
		return this.m_body2.m_rotation - this.m_body1.m_rotation
	},
	GetJointSpeed: function() {
		return this.m_body2.m_angularVelocity - this.m_body1.m_angularVelocity
	},
	GetMotorTorque: function(a) {
		return a * this.m_motorImpulse
	},
	SetMotorSpeed: function(a) {
		this.m_motorSpeed = a
	},
	SetMotorTorque: function(a) {
		this.m_maxMotorTorque = a
	},
	GetReactionForce: function(a) {
		var c = this.m_ptpImpulse.Copy();
		c.Multiply(a);
		return c
	},
	GetReactionTorque: function(a) {
		return a * this.m_limitImpulse
	},
	initialize: function(a) {
		this.m_node1 = new b2JointNode;
		this.m_node2 = new b2JointNode;
		this.m_type = a.type;
		this.m_next = this.m_prev = null;
		this.m_body1 = a.body1;
		this.m_body2 = a.body2;
		this.m_collideConnected = a.collideConnected;
		this.m_islandFlag = !1;
		this.m_userData = a.userData;
		this.K = new b2Mat22;
		this.K1 = new b2Mat22;
		this.K2 = new b2Mat22;
		this.K3 = new b2Mat22;
		this.m_localAnchor1 = new b2Vec2;
		this.m_localAnchor2 = new b2Vec2;
		this.m_ptpImpulse = new b2Vec2;
		this.m_ptpMass = new b2Mat22;
		var c, e, f;
		c = this.m_body1.m_R;
		e = a.anchorPoint.x - this.m_body1.m_position.x;
		f = a.anchorPoint.y - this.m_body1.m_position.y;
		this.m_localAnchor1.x = e * c.col1.x + f * c.col1.y;
		this.m_localAnchor1.y = e * c.col2.x + f * c.col2.y;
		c = this.m_body2.m_R;
		e = a.anchorPoint.x - this.m_body2.m_position.x;
		f = a.anchorPoint.y - this.m_body2.m_position.y;
		this.m_localAnchor2.x = e * c.col1.x + f * c.col1.y;
		this.m_localAnchor2.y = e * c.col2.x + f * c.col2.y;
		this.m_intialAngle = this.m_body2.m_rotation - this.m_body1.m_rotation;
		this.m_ptpImpulse.Set(0, 0);
		this.m_limitPositionImpulse = this.m_limitImpulse = this.m_motorImpulse = 0;
		this.m_lowerAngle = a.lowerAngle;
		this.m_upperAngle = a.upperAngle;
		this.m_maxMotorTorque = a.motorTorque;
		this.m_motorSpeed = a.motorSpeed;
		this.m_enableLimit = a.enableLimit;
		this.m_enableMotor = a.enableMotor
	},
	K: new b2Mat22,
	K1: new b2Mat22,
	K2: new b2Mat22,
	K3: new b2Mat22,
	PrepareVelocitySolver: function() {
		var a = this.m_body1,
		c = this.m_body2,
		e;
		e = a.m_R;
		var f = e.col1.x * this.m_localAnchor1.x + e.col2.x * this.m_localAnchor1.y,
		g = e.col1.y * this.m_localAnchor1.x + e.col2.y * this.m_localAnchor1.y;
		e = c.m_R;
		var h = e.col1.x * this.m_localAnchor2.x + e.col2.x * this.m_localAnchor2.y;
		e = e.col1.y * this.m_localAnchor2.x + e.col2.y * this.m_localAnchor2.y;
		var k = a.m_invMass,
		l = c.m_invMass,
		m = a.m_invI,
		n = c.m_invI;
		this.K1.col1.x = k + l;
		this.K1.col2.x = 0;
		this.K1.col1.y = 0;
		this.K1.col2.y = k + l;
		this.K2.col1.x = m * g * g;
		this.K2.col2.x = -m * f * g;
		this.K2.col1.y = -m * f * g;
		this.K2.col2.y = m * f * f;
		this.K3.col1.x = n * e * e;
		this.K3.col2.x = -n * h * e;
		this.K3.col1.y = -n * h * e;
		this.K3.col2.y = n * h * h;
		this.K.SetM(this.K1);
		this.K.AddM(this.K2);
		this.K.AddM(this.K3);
		this.K.Invert(this.m_ptpMass);
		this.m_motorMass = 1 / (m + n); ! 1 == this.m_enableMotor && (this.m_motorImpulse = 0);
		if (this.m_enableLimit) {
			var p = c.m_rotation - a.m_rotation - this.m_intialAngle;
			b2Math.b2Abs(this.m_upperAngle - this.m_lowerAngle) < 2 * b2Settings.b2_angularSlop ? this.m_limitState = b2Joint.e_equalLimits: p <= this.m_lowerAngle ? (this.m_limitState != b2Joint.e_atLowerLimit && (this.m_limitImpulse = 0), this.m_limitState = b2Joint.e_atLowerLimit) : p >= this.m_upperAngle ? (this.m_limitState != b2Joint.e_atUpperLimit && (this.m_limitImpulse = 0), this.m_limitState = b2Joint.e_atUpperLimit) : (this.m_limitState = b2Joint.e_inactiveLimit, this.m_limitImpulse = 0)
		} else this.m_limitImpulse = 0;
		b2World.s_enableWarmStarting ? (a.m_linearVelocity.x -= k * this.m_ptpImpulse.x, a.m_linearVelocity.y -= k * this.m_ptpImpulse.y, a.m_angularVelocity -= m * (f * this.m_ptpImpulse.y - g * this.m_ptpImpulse.x + this.m_motorImpulse + this.m_limitImpulse), c.m_linearVelocity.x += l * this.m_ptpImpulse.x, c.m_linearVelocity.y += l * this.m_ptpImpulse.y, c.m_angularVelocity += n * (h * this.m_ptpImpulse.y - e * this.m_ptpImpulse.x + this.m_motorImpulse + this.m_limitImpulse)) : (this.m_ptpImpulse.SetZero(), this.m_limitImpulse = this.m_motorImpulse = 0);
		this.m_limitPositionImpulse = 0
	},
	SolveVelocityConstraints: function(a) {
		var c = this.m_body1,
		e = this.m_body2,
		f;
		f = c.m_R;
		var g = f.col1.x * this.m_localAnchor1.x + f.col2.x * this.m_localAnchor1.y,
		h = f.col1.y * this.m_localAnchor1.x + f.col2.y * this.m_localAnchor1.y;
		f = e.m_R;
		var k = f.col1.x * this.m_localAnchor2.x + f.col2.x * this.m_localAnchor2.y;
		f = f.col1.y * this.m_localAnchor2.x + f.col2.y * this.m_localAnchor2.y;
		var l = e.m_linearVelocity.x + -e.m_angularVelocity * f - c.m_linearVelocity.x - -c.m_angularVelocity * h,
		m = e.m_linearVelocity.y + e.m_angularVelocity * k - c.m_linearVelocity.y - c.m_angularVelocity * g,
		n = -(this.m_ptpMass.col1.x * l + this.m_ptpMass.col2.x * m),
		l = -(this.m_ptpMass.col1.y * l + this.m_ptpMass.col2.y * m);
		this.m_ptpImpulse.x += n;
		this.m_ptpImpulse.y += l;
		c.m_linearVelocity.x -= c.m_invMass * n;
		c.m_linearVelocity.y -= c.m_invMass * l;
		c.m_angularVelocity -= c.m_invI * (g * l - h * n);
		e.m_linearVelocity.x += e.m_invMass * n;
		e.m_linearVelocity.y += e.m_invMass * l;
		e.m_angularVelocity += e.m_invI * (k * l - f * n);
		this.m_enableMotor && this.m_limitState != b2Joint.e_equalLimits && (g = -this.m_motorMass * (e.m_angularVelocity - c.m_angularVelocity - this.m_motorSpeed), h = this.m_motorImpulse, this.m_motorImpulse = b2Math.b2Clamp(this.m_motorImpulse + g, -a.dt * this.m_maxMotorTorque, a.dt * this.m_maxMotorTorque), g = this.m_motorImpulse - h, c.m_angularVelocity -= c.m_invI * g, e.m_angularVelocity += e.m_invI * g);
		this.m_enableLimit && this.m_limitState != b2Joint.e_inactiveLimit && (g = -this.m_motorMass * (e.m_angularVelocity - c.m_angularVelocity), this.m_limitState == b2Joint.e_equalLimits ? this.m_limitImpulse += g: this.m_limitState == b2Joint.e_atLowerLimit ? (a = this.m_limitImpulse, this.m_limitImpulse = b2Math.b2Max(this.m_limitImpulse + g, 0), g = this.m_limitImpulse - a) : this.m_limitState == b2Joint.e_atUpperLimit && (a = this.m_limitImpulse, this.m_limitImpulse = b2Math.b2Min(this.m_limitImpulse + g, 0), g = this.m_limitImpulse - a), c.m_angularVelocity -= c.m_invI * g, e.m_angularVelocity += e.m_invI * g)
	},
	SolvePositionConstraints: function() {
		var a, c = this.m_body1,
		e = this.m_body2,
		f = 0,
		f = c.m_R,
		g = f.col1.x * this.m_localAnchor1.x + f.col2.x * this.m_localAnchor1.y,
		h = f.col1.y * this.m_localAnchor1.x + f.col2.y * this.m_localAnchor1.y,
		f = e.m_R;
		a = f.col1.x * this.m_localAnchor2.x + f.col2.x * this.m_localAnchor2.y;
		var k = f.col1.y * this.m_localAnchor2.x + f.col2.y * this.m_localAnchor2.y,
		l = e.m_position.x + a - (c.m_position.x + g),
		m = e.m_position.y + k - (c.m_position.y + h),
		f = Math.sqrt(l * l + m * m),
		n = c.m_invMass,
		p = e.m_invMass,
		r = c.m_invI,
		q = e.m_invI;
		this.K1.col1.x = n + p;
		this.K1.col2.x = 0;
		this.K1.col1.y = 0;
		this.K1.col2.y = n + p;
		this.K2.col1.x = r * h * h;
		this.K2.col2.x = -r * g * h;
		this.K2.col1.y = -r * g * h;
		this.K2.col2.y = r * g * g;
		this.K3.col1.x = q * k * k;
		this.K3.col2.x = -q * a * k;
		this.K3.col1.y = -q * a * k;
		this.K3.col2.y = q * a * a;
		this.K.SetM(this.K1);
		this.K.AddM(this.K2);
		this.K.AddM(this.K3);
		this.K.Solve(b2RevoluteJoint.tImpulse, -l, -m);
		l = b2RevoluteJoint.tImpulse.x;
		m = b2RevoluteJoint.tImpulse.y;
		c.m_position.x -= c.m_invMass * l;
		c.m_position.y -= c.m_invMass * m;
		c.m_rotation -= c.m_invI * (g * m - h * l);
		c.m_R.Set(c.m_rotation);
		e.m_position.x += e.m_invMass * l;
		e.m_position.y += e.m_invMass * m;
		e.m_rotation += e.m_invI * (a * m - k * l);
		e.m_R.Set(e.m_rotation);
		g = 0;
		this.m_enableLimit && this.m_limitState != b2Joint.e_inactiveLimit && (a = e.m_rotation - c.m_rotation - this.m_intialAngle, h = 0, this.m_limitState == b2Joint.e_equalLimits ? (a = b2Math.b2Clamp(a, -b2Settings.b2_maxAngularCorrection, b2Settings.b2_maxAngularCorrection), h = -this.m_motorMass * a, g = b2Math.b2Abs(a)) : this.m_limitState == b2Joint.e_atLowerLimit ? (a -= this.m_lowerAngle, g = b2Math.b2Max(0, -a), a = b2Math.b2Clamp(a + b2Settings.b2_angularSlop, -b2Settings.b2_maxAngularCorrection, 0), h = -this.m_motorMass * a, a = this.m_limitPositionImpulse, this.m_limitPositionImpulse = b2Math.b2Max(this.m_limitPositionImpulse + h, 0), h = this.m_limitPositionImpulse - a) : this.m_limitState == b2Joint.e_atUpperLimit && (a -= this.m_upperAngle, g = b2Math.b2Max(0, a), a = b2Math.b2Clamp(a - b2Settings.b2_angularSlop, 0, b2Settings.b2_maxAngularCorrection), h = -this.m_motorMass * a, a = this.m_limitPositionImpulse, this.m_limitPositionImpulse = b2Math.b2Min(this.m_limitPositionImpulse + h, 0), h = this.m_limitPositionImpulse - a), c.m_rotation -= c.m_invI * h, c.m_R.Set(c.m_rotation), e.m_rotation += e.m_invI * h, e.m_R.Set(e.m_rotation));
		return f <= b2Settings.b2_linearSlop && g <= b2Settings.b2_angularSlop
	},
	m_localAnchor1: new b2Vec2,
	m_localAnchor2: new b2Vec2,
	m_ptpImpulse: new b2Vec2,
	m_motorImpulse: null,
	m_limitImpulse: null,
	m_limitPositionImpulse: null,
	m_ptpMass: new b2Mat22,
	m_motorMass: null,
	m_intialAngle: null,
	m_lowerAngle: null,
	m_upperAngle: null,
	m_maxMotorTorque: null,
	m_motorSpeed: null,
	m_enableLimit: null,
	m_enableMotor: null,
	m_limitState: 0
});
b2RevoluteJoint.tImpulse = new b2Vec2;
var b2RevoluteJointDef = Class.create();
Object.extend(b2RevoluteJointDef.prototype, b2JointDef.prototype);
Object.extend(b2RevoluteJointDef.prototype, {
	initialize: function() {
		this.type = b2Joint.e_unknownJoint;
		this.body2 = this.body1 = this.userData = null;
		this.collideConnected = !1;
		this.type = b2Joint.e_revoluteJoint;
		this.anchorPoint = new b2Vec2(0, 0);
		this.motorSpeed = this.motorTorque = this.upperAngle = this.lowerAngle = 0;
		this.enableMotor = this.enableLimit = !1
	},
	anchorPoint: null,
	lowerAngle: null,
	upperAngle: null,
	motorTorque: null,
	motorSpeed: null,
	enableLimit: null,
	enableMotor: null
});
function drawWorld(a, c) {
	for (var e = a.m_jointList; e; e = e.m_next) drawJoint(e, c);
	for (e = a.m_bodyList; e; e = e.m_next) for (var f = e.GetShapeList(); null != f; f = f.GetNext()) drawShape(f, c)
}
function drawJoint(a, c, e) {
	var f = a.m_body1,
	g = a.m_body2,
	h = f.m_position,
	k = g.m_position,
	l = a.GetAnchor1(),
	m = a.GetAnchor2();
	e || (e = "#00f");
	switch (a.m_type) {
	case b2Joint.e_distanceJoint:
		c.drawLine(l.x, l.y, m.x, m.y, 1, e);
		break;
	case b2Joint.e_pulleyJoint:
		break;
	default:
		f == world.m_groundBody ? c.drawLine(l.x, l.y, k.x, k.y, 1, e) : g == world.m_groundBody ? c.drawLine(l.x, l.y, h.x, h.y, 1, e) : (c.drawLine(h.x, h.y, l.x, l.y, 1, e), c.drawLine(l.x, l.y, k.x, k.y, 1, e), c.drawLine(k.x, k.y, m.x, m.y, 1, e))
	}
}
function drawShape(a, c) {
	switch (a.m_type) {
	case b2Shape.e_circleShape:
		for (var e = a.m_position,
		f = a.m_radius,
		g = 0,
		h = 2 * Math.PI / 16,
		k = e.x + f,
		l = e.y,
		m = 0; 16 > m; m++) {
			var n = new b2Vec2(f * Math.cos(g), f * Math.sin(g)),
			n = b2Math.AddVV(e, n);
			c.drawLine(k, l, n.x, n.y, 1, "#33f");
			k = n.x;
			l = n.y;
			g += h
		}
		c.drawLine(k, l, e.x + f, e.y, 1, "#33f");
		k = a.m_R.col1;
		f = new b2Vec2(e.x + f * k.x, e.y + f * k.y);
		c.drawLine(e.x, e.y, f.x, f.y, 1, "#33f");
		break;
	case b2Shape.e_polyShape:
		e = b2Math.AddVV(a.m_position, b2Math.b2MulMV(a.m_R, a.m_vertices[0]));
		k = e.x;
		l = e.y;
		for (m = 0; m < a.m_vertexCount; m++) n = b2Math.AddVV(a.m_position, b2Math.b2MulMV(a.m_R, a.m_vertices[m])),
		c.drawLine(k, l, n.x, n.y, 1, "#fff"),
		k = n.x,
		l = n.y;
		c.drawLine(k, l, e.x, e.y, 1, "#fff")
	}
}
var stage, world, mc, fps = 24,
bitmaps, GET, data = [],
STATE_LOAD = 0,
STATE_LOGO = 1,
STATE_COMIX = 10,
STATE_MENU = 2,
STATE_PRE_GAME = 3,
STATE_GAME = 4,
STATE_CHECK = 5,
STATE_PRE_LOOSE = 6,
STATE_LOOSE = 7,
STATE_VICTORY = 8,
STATE_LEVEL_SELECT = 9,
gameState = STATE_LOAD,
gameScore,
curLevel = 0,
levelsScores = [],
showDebugDraw = !1,
timers = {};
function Button(a, c, e) {
	Button.superclass.constructor.call(this, a, c, e, 2);
	this.stop();
	this.onmousedown = function(a) {
		a.target.gotoAndStop(1)
	};
	this.onmouseup = function(a) {
		a.target.gotoAndStop(0)
	};
	this.onmouseout = function(a) {
		a.target.gotoAndStop(0)
	}
}
Utils.extend(Button, Sprite);
window.onload = function() {
	GET = Utils.parseGet();
	Utils.addMobileListeners();
	Utils.mobileCorrectPixelRatio();
	Utils.addFitLayoutListeners();
	setTimeout(startLoad, 600)
};
var startPerses = 0,
currentCanvas = "";
function startLoad() {
	var a = Utils.getMobileScreenResolution(!1);
	1 == GET.debug && (a = Utils.getScaleScreenResolution(1));
	Utils.globalScale = a.scale;
	Utils.createLayout(document.getElementById("main_container"), a, !1);
	var c = document.getElementById("screen");
	c.style.position = "absolute";
	c.style.left = "0px";
	c.style.top = "0px";
	c = document.getElementById("screen_background");
	c.style.position = "absolute";
	c.style.left = "0px";
	c.style.top = "0px";
	c = document.createElement("canvas");
	c.setAttribute("id", "screen2");
	c.style.position = "absolute";
	c.style.left = "0px";
	c.style.top = "0px";
	document.getElementById("screen_wrapper").appendChild(c);
	c = document.createElement("canvas");
	c.setAttribute("id", "screen_background2");
	c.style.position = "absolute";
	c.style.left = "0px";
	c.style.top = "0px";
	document.getElementById("screen_background_wrapper").appendChild(c);
	document.getElementById("p2l_container").style.background = "#666";
	document.getElementById("p2l").src = "images/p2l.png";
	document.getElementById("p2l").style.paddingTop = (a.width - 280) / 2 + "px";
	Utils.addEventListener("fitlayout", manageLayout);
	Utils.addEventListener("lockscreen",
	function() {
		stage && stage.started && stage.stop()
	});
	Utils.addEventListener("unlockscreen",
	function() {
		stage && !stage.started && stage.start()
	});
	manageLayout();
	Utils.mobileHideAddressBar();
	1 != GET.debug && Utils.checkOrientation(!1);
	for (var a = "images/" + Utils.globalScale + "/",
	c = new ImagesPreloader,
	e = 0; e < objects.length; e++) if (data.push({
		name: objects[e].name,
		src: a + objects[e].image
	}), objects[e].type == ACTIVE) {
		var f = objects[e].image.split(".");
		data.push({
			name: objects[e].name + "_icon",
			src: a + f[0] + "_icon." + f[1]
		})
	}
	data.push({
		name: "teleport_stat",
		src: a + "teleport_stat.png"
	});
	data.push({
		name: "teleport",
		src: a + "teleport.png"
	});
	data.push({
		name: "logo",
		src: a + "logo.png"
	});
	data.push({
		name: "hourglass",
		src: a + "hourglass.png"
	});
	data.push({
		name: "back1",
		src: a + "back1.png"
	});
	data.push({
		name: "back2",
		src: a + "back2.png"
	});
	data.push({
		name: "back3",
		src: a + "back3.png"
	});
	data.push({
		name: "joint",
		src: a + "joint.png"
	});
	data.push({
		name: "lock",
		src: a + "lock.png"
	});
	data.push({
		name: "bad_robot_stick",
		src: a + "bad_robot_stick.png"
	});
	data.push({
		name: "bad_robot_stick",
		src: a + "bad_robot_stick.png"
	});
	data.push({
		name: "ball",
		src: a + "ball.png"
	});
	data.push({
		name: "ball_anim",
		src: a + "ball_anim.png"
	});
	data.push({
		name: "ball_anim2",
		src: a + "ball_anim2.png"
	});
	data.push({
		name: "boss",
		src: a + "boss.png"
	});
	data.push({
		name: "button_cancel",
		src: a + "button_cancel.png"
	});
	data.push({
		name: "button_highscores",
		src: a + "button_highscores.png"
	});
	data.push({
		name: "button_menu",
		src: a + "button_menu.png"
	});
	data.push({
		name: "button_new_game",
		src: a + "button_new_game.png"
	});
	data.push({
		name: "button_next",
		src: a + "button_next.png"
	});
	data.push({
		name: "button_ok",
		src: a + "button_ok.png"
	});
	data.push({
		name: "button_play",
		src: a + "button_play.png"
	});
	data.push({
		name: "button_more_games",
		src: a + "button_more_games.png"
	});
	data.push({
		name: "button_restart",
		src: a + "button_restart.png"
	});
	data.push({
		name: "hint1",
		src: a + "hint1.png"
	});
	data.push({
		name: "hint2",
		src: a + "hint2.png"
	});
	data.push({
		name: "level_front",
		src: a + "level_front.png"
	});
	data.push({
		name: "level_back1",
		src: a + "level_back1.png"
	});
	data.push({
		name: "level_back2",
		src: a + "level_back2.png"
	});
	data.push({
		name: "objects_box",
		src: a + "objects_box.png"
	});
	data.push({
		name: "popup1",
		src: a + "popup1.png"
	});
	data.push({
		name: "popup2",
		src: a + "popup2.png"
	});
	data.push({
		name: "unit",
		src: a + "unit.png"
	});
	data.push({
		name: "unit_dead",
		src: a + "unit_dead.png"
	});
	data.push({
		name: "unit_jump",
		src: a + "unit_jump.png"
	});
	data.push({
		name: "unit_transform",
		src: a + "unit_transform.png"
	});
	data.push({
		name: "icon_unit_dead",
		src: a + "icon_unit_dead.png"
	});
	data.push({
		name: "icon_unit_jump",
		src: a + "icon_unit_jump.png"
	});
	data.push({
		name: "font1",
		src: a + "font1.png"
	});
	data.push({
		name: "font2",
		src: a + "font2.png"
	});
	data.push({
		name: "text1",
		src: a + "text1.png"
	});
	data.push({
		name: "text2",
		src: a + "text2.png"
	});
	data.push({
		name: "text3",
		src: a + "text3.png"
	});
	data.push({
		name: "text4",
		src: a + "text4.png"
	});
	data.push({
		name: "laser_ray",
		src: a + "laser_ray.png"
	});
	data.push({
		name: "girder_mech_l",
		src: a + "girder_mech_l.png"
	});
	data.push({
		name: "girder_mech_r",
		src: a + "girder_mech_r.png"
	});
	data.push({
		name: "text11",
		src: a + "text11.png"
	});
	data.push({
		name: "text13",
		src: a + "text13.png"
	});
	data.push({
		name: "text14",
		src: a + "text14.png"
	});
	data.push({
		name: "text15",
		src: a + "text15.png"
	});
	data.push({
		name: "text18",
		src: a + "text18.png"
	});
	data.push({
		name: "comix_01",
		src: a + "comix-01.png"
	});
	data.push({
		name: "comix_01_1",
		src: a + "comix-01-1.png"
	});
	data.push({
		name: "comix_01_2",
		src: a + "comix-01-2.png"
	});
	data.push({
		name: "comix_01_3",
		src: a + "comix-01-3.png"
	});
	data.push({
		name: "comix_01_4",
		src: a + "comix-01-4.png"
	});
	data.push({
		name: "comix_01_bg",
		src: a + "comix-01-bg.png"
	});
	data.push({
		name: "comix_02",
		src: a + "comix-02.png"
	});
	data.push({
		name: "comix_02_1",
		src: a + "comix-02-1.png"
	});
	data.push({
		name: "comix_02_2",
		src: a + "comix-02-2.png"
	});
	data.push({
		name: "comix_02_3",
		src: a + "comix-02-3.png"
	});
	data.push({
		name: "comix_02_4",
		src: a + "comix-02-4.png"
	});
	data.push({
		name: "comix_02_5",
		src: a + "comix-02-5.png"
	});
	data.push({
		name: "comix_02_bg",
		src: a + "comix-02-bg.png"
	});
	data.push({
		name: "comix_03",
		src: a + "comix-03.png"
	});
	data.push({
		name: "comix_03_1",
		src: a + "comix-03-1.png"
	});
	data.push({
		name: "comix_03_2",
		src: a + "comix-03-2.png"
	});
	data.push({
		name: "comix_03_3",
		src: a + "comix-03-3.png"
	});
	data.push({
		name: "comix_03_4",
		src: a + "comix-03-4.png"
	});
	data.push({
		name: "comix_03_5",
		src: a + "comix-03-5.png"
	});
	data.push({
		name: "comix_03_bg",
		src: a + "comix-03-bg.png"
	});
	data.push({
		name: "comix_04",
		src: a + "comix-04.jpg"
	});
	data.push({
		name: "comix_bg",
		src: a + "comix-bg.png"
	});
	TTLoader.create(loadImagesEnd, !1, 1 == GET.debug);
	c.load(data, TTLoader.loadComplete, TTLoader.showLoadProgress)
}
function manageLayout() {
	var a, c, e = document.getElementById("screen");
	"" == currentCanvas ? (a = 0, c = e.width) : (a = e.width, c = 0);
	e.style.left = a + "px";
	document.getElementById("screen_background").style.left = a + "px";
	a = document.getElementById("screen2");
	a.style.left = c + "px";
	a.setAttribute("width", ~~e.width + "px");
	a.setAttribute("height", ~~e.height + "px");
	a = document.getElementById("screen_background2");
	a.style.left = c + "px";
	a.setAttribute("width", ~~e.width + "px");
	a.setAttribute("height", ~~e.height + "px");
	stage && (stage.drawScene(document.getElementById("screen")), buildBackground())
}
function loadImagesEnd(a) {
	document.getElementById("progress_container").style.display = "none";
	document.getElementById("screen_container").style.display = "block";
	document.getElementById("screen_background_container").style.display = "block";
	bitmaps = a;
	getLevelsScores();
	1 != GET.debug && showComix()
}
var swipeScreen = {},
firstStageCreate = !0;
function createStage() {
	firstStageCreate || (currentCanvas = "" == currentCanvas ? "2": "");
	stage && stage.stop();
	stage = new Stage("screen" + currentCanvas, 320, 480, !1);
	stage.delay = 1E3 / fps;
	stage.onpretick = preTick;
	stage.onposttick = postTick;
	stage.ceilSizes = !0;
	stage.showFPS = !1;
	if (!firstStageCreate) {
		swipeScreen = {
			x: 320
		};
		var a = stage.createTween(swipeScreen, "x", 320, 0, fps / 2);
		a.onchange = function() {
			var a = document.getElementById("screen" + currentCanvas),
			e = document.getElementById("screen" + ("" == currentCanvas ? "2": "")),
			f = document.getElementById("screen_background" + currentCanvas),
			g = document.getElementById("screen_background" + ("" == currentCanvas ? "2": ""));
			a.style.left = ~~ (swipeScreen.x * Utils.globalScale * Utils.globalPixelScale) + "px";
			f.style.left = ~~ (swipeScreen.x * Utils.globalScale * Utils.globalPixelScale) + "px";
			e.style.left = ~~ ((swipeScreen.x - 320) * Utils.globalScale * Utils.globalPixelScale) + "px";
			g.style.left = ~~ ((swipeScreen.x - 320) * Utils.globalScale * Utils.globalPixelScale) + "px"
		};
		a.play()
	}
	firstStageCreate = !1
}
function createScene() {
	createStage();
	gameState == STATE_MENU && (mc = new Sprite(bitmaps.back1, 320, 480, 1), mc.x = 160, mc.y = 240, mc.static = !0, stage.addChild(mc), mc = new Sprite(bitmaps.logo, 259, 159), mc.x = 160, mc.y = 90, mc.static = !0, stage.addChild(mc), mc = new Button(bitmaps.button_play, 178, 96), mc.x = 160, mc.y = 240, mc.onmouseup = showLevelSelect, stage.addChild(mc), mc = new Button(bitmaps.button_more_games, 178, 96), mc.x = 160, mc.y = 340, mc.onmouseup = showHighscores, stage.addChild(mc));
	if (gameState == STATE_LEVEL_SELECT) {
		mc = new Sprite(bitmaps.back1, 320, 480);
		mc.x = 160;
		mc.y = 240;
		mc.static = !0;
		stage.addChild(mc);
		mc = new Sprite(bitmaps.text1, 260, 34);
		mc.x = 160;
		mc.y = 40;
		mc.static = !0;
		stage.addChild(mc);
		for (var a = -1,
		c = 0; 25 > c; c++) 0 <= levelsScores[c] && (a = c);
		a++;
		mc = new Button(bitmaps.button_menu, 92, 36);
		mc.x = 160;
		mc.y = 396;
		mc.onmouseup = showMenu;
		stage.addChild(mc);
		for (var e, f, c = 0; 25 > c; c++) e = null,
		c < a && (e = bitmaps.level_back1),
		c == a && (e = bitmaps.level_back2),
		f = Math.floor(c / 5),
		e = new Sprite(e, 35, 37),
		e.x = 56 * (c - 5 * f) + 50,
		e.y = 63 * f + 90,
		e.static = !0,
		stage.addChild(e),
		mc = new Sprite(bitmaps.level_front, 42, 67, 10),
		mc.x = e.x,
		mc.y = e.y + 4,
		mc.gotoAndStop(0),
		stage.addChild(mc),
		c <= a && (mc.levelId = c, mc.onclick = selectLevel, mc.animDelay = 2, mc.startDelay = c + fps / 2 + 1, mc.onenterframe = function(a) {
			0 < a.target.startDelay && (a.target.startDelay--, 0 == a.target.startDelay && a.target.play())
		},
		mc.onrender = function(a) {
			9 == a.target.currentFrame && a.target.stop()
		},
		c < a && (f = new Text(bitmaps.font1, 9, 10), f.align = f.ALIGN_CENTER, f.static = !0, f.x = e.x - 1, f.y = e.y, f.write(levelsScores[c])))
	}
	gameState == STATE_COMIX && showComix1();
	buildBackground();
	stage.start()
}
function showComix1() {
	var a, c, e, f, g, h = !0,
	k = new Sprite(bitmaps.comix_01_bg, 320, 480, 1);
	k.x = 160;
	k.y = 240;
	k.onmouseup = function() {
		h ? (c && clearTimeout(c), e && clearTimeout(e), f && clearTimeout(f), g && clearTimeout(g), a && clearTimeout(a), r && r.stop(), q && q.stop(), s && s.stop(), t && t.stop(), l.opacity = 1, m.opacity = 1, n.opacity = 1, p.opacity = 1, h = !1) : showComix2()
	};
	stage.addChild(k);
	var l = new Sprite(bitmaps.comix_01_1, 311, 152, 1);
	l.x = 160;
	l.y = 82;
	l.opacity = 0;
	stage.addChild(l);
	var m = new Sprite(bitmaps.comix_01_2, 148, 301, 1);
	m.x = 78;
	m.y = 319;
	m.opacity = 0;
	stage.addChild(m);
	var n = new Sprite(bitmaps.comix_01_3, 155, 141, 1);
	n.x = 238;
	n.y = 239;
	n.opacity = 0;
	stage.addChild(n);
	var p = new Sprite(bitmaps.comix_01_4, 155, 141, 1);
	p.x = 238;
	p.y = 398;
	p.opacity = 0;
	stage.addChild(p);
	var r = l.addTween("opacity", 1, 50, Easing.linear.out, null, null),
	q = m.addTween("opacity", 1, 50, Easing.linear.out, null, null),
	s = n.addTween("opacity", 1, 50, Easing.linear.out, null, null),
	t = p.addTween("opacity", 1, 50, Easing.linear.out,
	function() {
		h = !1
	},
	null);
	c = setTimeout(r.play, 1E3);
	e = setTimeout(q.play, 3E3);
	f = setTimeout(s.play, 5E3);
	g = setTimeout(t.play, 7E3);
	a = setTimeout(showComix2, 11E3)
}
function clearStage() {
	if (0 < stage.objects.length) for (var a = 0; a < stage.objects.length; a++) stage.objects[a].destroy = !0
}
function showComix2() {
	clearStage();
	var a, c, e, f, g, h, k = !0,
	l = new Sprite(bitmaps.comix_02_bg, 320, 480, 1);
	l.x = 160;
	l.y = 240;
	l.onmouseup = function() {
		k ? (c && clearTimeout(c), e && clearTimeout(e), f && clearTimeout(f), g && clearTimeout(g), h && clearTimeout(h), a && clearTimeout(a), s && s.stop(), t && t.stop(), u && u.stop(), v && v.stop(), x && x.stop(), m.opacity = 1, n.opacity = 1, p.opacity = 1, r.opacity = 1, q.opacity = 1, k = !1) : showMenu()
	};
	stage.addChild(l);
	var m = new Sprite(bitmaps.comix_02_1, 130, 153, 1);
	m.x = 70;
	m.y = 83;
	m.opacity = 0;
	stage.addChild(m);
	var n = new Sprite(bitmaps.comix_02_2, 174, 153, 1);
	n.x = 228;
	n.y = 83;
	n.opacity = 0;
	stage.addChild(n);
	var p = new Sprite(bitmaps.comix_02_3, 311, 87, 1);
	p.x = 160;
	p.y = 212;
	p.opacity = 0;
	stage.addChild(p);
	var r = new Sprite(bitmaps.comix_02_4, 148, 206, 1);
	r.x = 79;
	r.y = 370;
	r.opacity = 0;
	stage.addChild(r);
	var q = new Sprite(bitmaps.comix_02_5, 153, 206, 1);
	q.x = 240;
	q.y = 370;
	q.opacity = 0;
	stage.addChild(q);
	var s = m.addTween("opacity", 1, 50, Easing.linear.out, null, null),
	t = n.addTween("opacity", 1, 50, Easing.linear.out, null, null),
	u = p.addTween("opacity", 1, 50, Easing.linear.out, null, null),
	v = r.addTween("opacity", 1, 50, Easing.linear.out, null, null),
	x = q.addTween("opacity", 1, 50, Easing.linear.out,
	function() {
		k = !1;
		a = setTimeout(showMenu, 3E3)
	},
	null);
	c = setTimeout(s.play, 1E3);
	e = setTimeout(t.play, 3E3);
	f = setTimeout(u.play, 5E3);
	g = setTimeout(v.play, 7E3);
	h = setTimeout(x.play, 9E3);
	a = setTimeout(showMenu, 13E3)
}
function showComix3(a) {
	clearStage();
	var c, e, f, g, h, k, l = !0,
	m = new Sprite(bitmaps.comix_03_bg, 320, 480, 1);
	m.x = 160;
	m.y = 240;
	m.onmouseup = function() {
		l ? (e && clearTimeout(e), f && clearTimeout(f), g && clearTimeout(g), h && clearTimeout(h), k && clearTimeout(k), c && clearTimeout(c), t && t.stop(), u && u.stop(), v && v.stop(), x && x.stop(), y && y.stop(), n.opacity = 1, p.opacity = 1, r.opacity = 1, q.opacity = 1, s.opacity = 1, l = !1) : a ? showComix4() : showMenu()
	};
	stage.addChild(m);
	var n = new Sprite(bitmaps.comix_03_1, 311, 153, 1);
	n.x = 160;
	n.y = 83;
	n.opacity = 0;
	stage.addChild(n);
	var p = new Sprite(bitmaps.comix_03_2, 311, 87, 1);
	p.x = 160;
	p.y = 213;
	p.opacity = 0;
	stage.addChild(p);
	var r = new Sprite(bitmaps.comix_03_3, 152, 206, 1);
	r.x = 81;
	r.y = 370;
	r.opacity = 0;
	stage.addChild(r);
	var q = new Sprite(bitmaps.comix_03_4, 148, 99, 1);
	q.x = 242;
	q.y = 315;
	q.opacity = 0;
	stage.addChild(q);
	var s = new Sprite(bitmaps.comix_03_5, 148, 98, 1);
	s.x = 242;
	s.y = 424;
	s.opacity = 0;
	stage.addChild(s);
	var t = n.addTween("opacity", 1, 50, Easing.linear.out, null, null),
	u = p.addTween("opacity", 1, 50, Easing.linear.out, null, null),
	v = r.addTween("opacity", 1, 50, Easing.linear.out, null, null),
	x = q.addTween("opacity", 1, 50, Easing.linear.out, null, null),
	y = s.addTween("opacity", 1, 50, Easing.linear.out,
	function() {
		l = !1
	},
	null);
	e = setTimeout(t.play, 1E3);
	f = setTimeout(u.play, 3E3);
	g = setTimeout(v.play, 5E3);
	h = setTimeout(x.play, 7E3);
	k = setTimeout(y.play, 9E3);
	c = setTimeout(showComix4, 13E3)
}
function showComix4() {
	var a = new SpritesGroup(stage);
	a.x = 160;
	a.y = -130;
	mc = new Sprite(bitmaps.comix_04, 320, 480);
	mc.gx = 0;
	mc.gy = 0;
	mc.onclick = function() {
		showMenu()
	};
	a.addChild(mc, !0);
	mc = new Sprite(bitmaps.icon_unit_jump, 76, 96, 13);
	mc.gx = 40;
	mc.gy = -30;
	mc.gscaleX = mc.gscaleY = 0.8;
	a.addChild(mc, !0);
	var c = new Text(bitmaps.font2, 12, 14);
	c.x = -17;
	c.y = -20;
	c.write(getTotalLevelsScores());
	addTextInGroup(c, a);
	stage.createTween(a, "y", -130, 240, fps, Easing.bounce.easeOut).play()
}
function selectLevel(a) {
	curLevel = a.target.levelId;
	curLevel > levels.length - 1 && (curLevel = levels.length - 1);
	prepareLevel(curLevel)
}
function findObject(a) {
	for (var c = 0; c < objects.length; c++) if (objects[c].name == a) return objects[c];
	return ! 1
}
function prepareLevel(a) {
	setTimeout("startLevel(" + a + ")", 1E3 / fps * 2)
}
var block = !1,
queue, text13, text14, text15;
function startLevel(a, c) {
	lock = block = !1;
	stopTimers();
	world = box2DCreateWorld();
	b2Settings.b2_timeToSleep = 0.05;
	b2Settings.b2_linearSleepTolerance = 1;
	b2Settings.b2_angularSleepTolerance = 0.1;
	createStage();
	stage.onposttick = function() {};
	var e;
	c && (a = 0, levels = [c]);
	e = levels[a].objects;
	levelJoints = levels[a].joints;
	if (levels[a]) {
		curLevel = a;
		var f = new Sprite(bitmaps["back" + levels[a].background], 320, 480, 1);
		f.x = 160;
		f.y = 240;
		f.static = !0;
		f.onmouseup = useQueue;
		stage.addChild(f);
		l = new Button(bitmaps.button_restart, 92, 36);
		l.x = 180;
		l.y = 28;
		l.onmouseup = function() {
			restartLevel();
			return ! 1
		};
		l.zIndex = 2E3;
		stage.addChild(l);
		l = new Button(bitmaps.button_menu, 92, 36);
		l.x = 272;
		l.y = 28;
		l.onmouseup = function() {
			showMenu();
			return ! 1
		};
		l.zIndex = 3E3;
		stage.addChild(l);
		l = new Sprite(bitmaps.objects_box, 121, 43);
		l.x = 60;
		l.y = 22;
		l.static = !0;
		l.zIndex = 3E3;
		stage.addChild(l);
		f = new JointsDrawer(world);
		f.distanceColor = "#d9d4c5";
		f.prismaticColor = "#a59e7c";
		stage.addChild(f);
		queue = [];
		for (var g = 0; g < levels[a].queue.length; g++) queue.push(levels[a].queue[g]);
		startPerses = 0;
		for (var h, k, l, f = [], g = 0; g < e.length; g++) {
			h = e[g];
			k = findObject(h.type);
			l = createObject(k, h);
			stage.setZIndex(l, 10);
			l.obType == PERS && (startPerses++, f.push(l));
			l.obType == TELEPORT && (l.active = h.custom ? !1 : !0, l.static = !1, changeTeleportState({
				target: l
			}), l.onclick = changeTeleportState, l.onmouseup = function() {
				return ! 1
			});
			l.obType == TRAP && (l.static = !1, stage.setZIndex(l, 2E3));
			l.obType == PUNCH && (l.onenterframe = stopPunch, l.force = h.custom ? h.custom: !1, l.static = !1, l.stop());
			l.obType == PUNCH_BUTTON && (l.stop(), l.onclick = function() {
				return ! 1
			},
			l.onmousedown = doPunchButton, l.onmouseup = function(a) {
				a.target.gotoAndStop(0);
				return ! 1
			});
			l.obType == LASER && (l.active = h.custom ? !1 : !0);
			l.obType == LASER_BUTTON && (l.stop(), l.onclick = function() {
				return ! 1
			},
			l.onmousedown = switchLasers, l.onmouseup = function(a) {
				a.target.gotoAndStop(0);
				return ! 1
			});
			if (l.obType == GIRDER) {
				l.position = h.custom ? 1 : -1;
				l.moved = !1;
				l.static = !1;
				l.onenterframe = moveGirder;
				l.stop();
				k = findObject("girder");
				var m = new Vector(32 * l.position, 8);
				m.rotate( - l.rotation);
				h = {};
				h.x = l.x + m.x;
				h.y = l.y + m.y;
				h.rotation = l.rotation;
				l.girder = createObject(k, h);
				l.girder.static = !1
			}
			l.obType == GIRDER_BUTTON && (l.stop(), l.onclick = function() {
				return ! 1
			},
			l.onmousedown = switchGirders, l.onmouseup = function(a) {
				a.target.gotoAndStop(0);
				return ! 1
			});
			if (l.obType == TEXT1) {
				l.visible = !1;
				if ("text11" == k.name) {
					var n = new Sprite(bitmaps.text11, 162, 72);
					n.x = h.x;
					n.y = h.y;
					n.opacity = 0;
					stage.addChild(n)
				}
				"text13" == k.name && (text13 = new Sprite(bitmaps.text13, 115, 97), text13.x = h.x, text13.y = h.y, text13.opacity = 0, stage.addChild(text13));
				"text14" == k.name && (text14 = new Sprite(bitmaps.text14, 88, 116), text14.x = h.x, text14.y = h.y, text14.opacity = 0, stage.addChild(text14));
				"text15" == k.name && (text15 = new Sprite(bitmaps.text15, 88, 92), text15.x = h.x, text15.y = h.y, text15.opacity = 0, stage.addChild(text15));
				"text18" == k.name && (l = new Sprite(bitmaps.text18, 173, 89), l.x = h.x, l.y = h.y, l.visible = !0, stage.addChild(l))
			}
		}
		0 == curLevel && (block = !0, g = n.addTween("opacity", 1, 20, Easing.linear.out,
		function() {
			n.opacity = 1;
			var a = n.addTween("opacity", 0, 20, Easing.linear.out,
			function() {
				text13.opacity = 0;
				tween31.play()
			},
			null);
			setTimeout(a.play, 900)
		},
		null), text13.opacity = 1, text14.opacity = 1, text15.opacity = 1, tween32 = text13.addTween("opacity", 0, 20, Easing.linear.out,
		function() {
			text13.opacity = 0;
			tween51.play()
		},
		null), tween42 = text14.addTween("opacity", 0, 20, Easing.linear.out, null, null), tween52 = text15.addTween("opacity", 0, 20, Easing.linear.out,
		function() {
			text15.opacity = 0;
			tween41.play()
		},
		null), text13.opacity = 0, text14.opacity = 0, text15.opacity = 0, tween31 = text13.addTween("opacity", 1, 20, Easing.linear.out,
		function() {
			text13.opacity = 1;
			block = !1
		},
		null), tween41 = text14.addTween("opacity", 1, 20, Easing.linear.out,
		function() {
			text14.opacity = 1;
			block = !1
		},
		null), tween51 = text15.addTween("opacity", 1, 20, Easing.linear.out,
		function() {
			text15.opacity = 1;
			block = !1
		},
		null), setTimeout(g.play, 500));
		if (levelJoints) for (g = 0; g < levelJoints.length; g++) e = levelJoints[g],
		h = getBodyByPoint(e.point1),
		k = getBodyByPoint(e.point2 ? e.point2: e.point1, h),
		0 == e.type && (box2DCreateRevoluteJoint(world, h, k, e.point1, e.custom), l = new Sprite(bitmaps.joint, 10, 10), l.x = e.point1.x, l.y = e.point1.y, stage.addChild(l)),
		1 == e.type && box2DCreateDistanceJoint(world, h, k, e.point1, e.point2),
		2 == e.type && box2DCreatePrismaticJoint(world, h, k, e.point2, e.custom);
		showQueue();
		switchLasers();
		gameState = STATE_PRE_GAME;
		gameScore = 1E3;
		reduceScore();
		for (g = 0; g < f.length; g++) f[g].bitmap = bitmaps.unit_transform,
		f[g].width = 46,
		f[g].height = 69,
		f[g].syncX = 0,
		f[g].syncY = 21,
		f[g].onbox2dsync = spritesSync,
		f[g].totalFrames = 21,
		f[g].gotoAndStop(0),
		f[g].onenterframe = setUnitZerroRotation,
		f[g].onrender = restoreUnitSprite,
		setTimeout("startSpriteAnimByUID(" + f[g].uid + ")", Math.floor(1E3 * Math.random()));
		buildBackground();
		stage.start()
	}
}
var tween31, tween32, tween41, tween42, tween51, tween52;
function changeTeleportState(a) {
	a.target.active = !a.target.active;
	a.target.active ? (a.target.bitmap = bitmaps.teleport, a.target.totalFrames = 21, a.target.gotoAndPlay(0)) : (a.target.bitmap = bitmaps.teleport_stat, a.target.totalFrames = 1, a.target.gotoAndStop(0));
	return ! 1
}
function startSpriteAnimByUID(a) {
	for (var c = 0; c < stage.objects.length; c++) stage.objects[c].uid == a && stage.objects[c].play()
}
function setUnitZerroRotation(a) {
	a.target.rotation = 0
}
function restoreUnitSprite(a) {
	a = a.target;
	20 == a.currentFrame && (a.bitmap = bitmaps.unit, a.width = 28, a.height = 28, a.onbox2dsync = null, a.totalFrames = 1, a.gotoAndStop(0), a.onenterframe = null, gameState = STATE_GAME)
}
function getBodyByPoint(a, c) {
	var e = world.GetGroundBody();
	if (a && (stack = stage.getObjectsStackByCoord(a.x, a.y, !1), 0 < stack.length)) for (var f = stack.length - 1; 0 <= f; f--) stack[f].box2dBody && stack[f].box2dBody != c && (e = stack[f].box2dBody);
	return e
}
function createObject(a, c) {
	var e, f, g, h, k, l, m, n, p;
	mc = new Sprite(bitmaps[a.name], a.width, a.height, a.frames);
	mc.x = ~~c.x;
	mc.y = ~~c.y;
	mc.rotation = c.rotation;
	stage.addChild(mc);
	if (a.bodyType != NONE) {
		k = "undefined" != typeof c.fixed ? c.fixed: a.fixed;
		f = "undefined" != typeof c.density ? c.density: a.density;
		g = "undefined" != typeof c.restitution ? c.restitution: a.restitution;
		h = "undefined" != typeof c.friction ? c.friction: a.friction;
		0 >= f && (k = !0);
		n = a.bodyWidth ? a.bodyWidth: a.width;
		p = a.bodyHeight ? a.bodyHeight: a.height;
		l = c.x;
		m = c.y;
		a.bodyPosCorrect && (l += a.bodyPosCorrect.x, m += a.bodyPosCorrect.y, mc.syncX = a.bodyPosCorrect.x, mc.syncY = a.bodyPosCorrect.y, mc.onbox2dsync = spritesSync);
		a.bodyType == BOX && (e = box2DCreateBox(world, l, m, n / 2, p / 2, c.rotation, k, f, g, h));
		a.bodyType == CIRCLE && (e = box2DCreateCircle(world, l, m, n / 2, c.rotation, k, f, g, h));
		a.bodyType == POLY && (e = box2DCreatePoly(world, l, m, a.points, c.rotation, k, f, g, h));
		if (a.joints) for (f = 0; f < a.joints.length; f++)"pivot" == a.joints[f].type && (g = new Vector(a.joints[f].x, a.joints[f].y), 0 != c.rotation && g.rotate( - c.rotation), g.x += c.x, g.y += c.y, g = box2DCreateCircle(world, g.x, g.y, 1, 0, !0, 0.01, 0, 0), box2DCreateRevoluteJoint(world, g, e, g.GetCenterPosition()));
		e.sprite = mc;
		mc.box2dBody = e
	}
	1 == GET.debug || !k && a.bodyType != NONE || a.water || (mc.static = !0, mc.zIndex = 10);
	mc.obType = a.type;
	return mc
}
function stopTimers() {
	for (var a in timers) clearTimeout(timers[a])
}
function reduceScore() {
	gameScore--;
	timers.score = setTimeout(reduceScore, 1E3)
}
function getLevelsScores() {
	levelsScores = [];
	var a = Utils.getCookie("robot_levels_scores") + "";
	"null" != a && (levelsScores = a.split(","));
	for (a = 0; 25 > a; a++) {
		if (!levelsScores[a] || isNaN(levelsScores[a])) levelsScores[a] = -1;
		levelsScores[a] *= 1
	}
}
function saveLevelsScores() {
	for (var a = "",
	c = 0; 25 > c; c++) a += levelsScores[c],
	25 > c && (a += ",");
	Utils.setCookie("robot_levels_scores", a)
}
function getTotalLevelsScores() {
	for (var a = 0,
	c = 0; 25 > c; c++) 0 <= levelsScores[c] && (a += levelsScores[c]);
	return a
}
queueMC = [];
function showQueue() {
	for (var a = 5,
	c = 0; c < queue.length; c++) if (ob = findObject(queue[c].type)) {
		mc = new Sprite(bitmaps[ob.name + "_icon"], ob.iconWidth, ob.iconHeight, 1);
		var e = new Rectangle(0, 0, ob.iconWidth, ob.iconHeight, queue[c].rotation),
		e = e.AABB[1].x - e.AABB[0].x;
		mc.x = a + e / 2 + 3;
		mc.y = 26.5;
		mc.rotation = queue[c].rotation;
		mc.static = !0;
		stage.addChild(mc);
		queueMC.push(mc);
		a += e + 3
	}
}
var lockMC;
function hideLock() {
	lockMC && stage.removeChild(lockMC);
	lock = !1
}
var lock = !1;
function useQueue(a) {
	if (gameState == STATE_GAME && !block) if ( - 100 < a.y && gameState == STATE_GAME) lock || (lockMC = new Sprite(bitmaps.lock, 320, 480, 1), lockMC.x = 160, lockMC.y = 240, stage.addChild(lockMC), lock = !0, timers.lock = setTimeout(hideLock, 300));
	else if (! (0 >= queue.length)) {
		0 == curLevel && (1 == text13.opacity ? tween32.play() : 1 == text15.opacity ? tween52.play() : tween42.play(), block = !0);
		var c = findObject(queue[0].type),
		e = {};
		e.x = a.x + a.target.x;
		e.y = a.y + a.target.y;
		e.rotation = queue[0].rotation;
		console.log(e);
		mc = createObject(c, e);
		stage.setZIndex(mc, 1E3);
		console.log(mc);
		queue.splice(0, 1);
		for (a = 0; a < queueMC.length; a++) stage.removeChild(queueMC[a]);
		showQueue();
		buildBackground();
		0 == queue.length && (timers.hands = setTimeout(startBoss, 1E3))
	}
}
function startBoss() {
	gameState == STATE_GAME && (mc = new Sprite(bitmaps.bad_robot_stick, 320, 7), mc.x = -160, mc.y = 50, stage.addChild(mc), mc.moveTo(160, 50, fps / 2, null,
	function() {
		var a = new Sprite(bitmaps.boss, 150, 90, 16);
		a.x = -75;
		a.y = 76;
		a.onenterframe = moveBoss;
		stage.addChild(a);
		gameState = STATE_CHECK
	}))
}
function moveBoss(a) {
	if (gameState != STATE_GAME && gameState != STATE_CHECK && gameState != STATE_PRE_LOOSE) a.target.stop();
	else {
		a.target.x += 2;
		if (1 < a.target.x && 320 > a.target.x && 15 == a.target.currentFrame && 0 == a.target.animStep) {
			var c = findObject("ball"),
			e = {};
			e.x = a.target.x;
			e.y = 108;
			e.rotation = 0;
			mc = createObject(c, e);
			mc.gotoAndStop(0);
			stage.setZIndex(mc, 1E3);
			mc.box2dBody.ApplyImpulse(new b2Vec2(0, 1E4), new b2Vec2(mc.box2dBody.m_position.x, mc.box2dBody.m_position.y))
		}
		450 <= a.target.x && showVictory()
	}
}
function doPunchButton(a) {
	a.target.gotoAndStop(1);
	for (a = 0; a < stage.objects.length; a++) if (stage.objects[a].obType == PUNCH && 0 == stage.objects[a].currentFrame) {
		stage.objects[a].play();
		var c = new Vector(0, -15);
		c.rotate( - stage.objects[a].rotation);
		var e = new b2Vec2(stage.objects[a].x + c.x, stage.objects[a].y + c.y),
		f = new b2AABB,
		c = e.Copy();
		c.Subtract(new b2Vec2(15, 15));
		e = e.Copy();
		e.Add(new b2Vec2(15, 15));
		f.minVertex = c;
		f.maxVertex = e;
		c = [];
		world.Query(f, c, 15);
		for (f = 0; f < c.length; f++) {
			var e = c[f].GetBody(),
			g = e.GetCenterPosition().Copy();
			g.Subtract(new b2Vec2(stage.objects[a].x, stage.objects[a].y));
			var h = g.Length();
			g.x /= h;
			g.y /= h;
			g.Normalize();
			g.Multiply(1E6 * (stage.objects[a].force ? stage.objects[a].force: 5));
			e.WakeUp();
			e.ApplyForce(g, e.GetCenterPosition())
		}
	}
	return ! 1
}
function switchLasers(a) {
	a && a.target.gotoAndStop(1);
	for (a = 0; a < stage.objects.length; a++) if (stage.objects[a].obType == LASER) {
		var c = stage.objects[a];
		c.active = !c.active;
		if (c.active) {
			var e = new Sprite(bitmaps.laser_ray, 14, 2, 8);
			e.obType = LASER_RAY;
			stage.setZIndex(e, 1001);
			stage.addChild(e);
			c.ray = e
		} else c.ray && (stage.removeChild(c.ray), c.ray = null)
	}
}
function setLaserRay(a) {
	if (a.active) {
		var c = 480,
		e = new Sprite(null, 480, 2),
		f = new Vector(264, 1);
		f.rotate( - a.rotation);
		e.x = f.x + a.x;
		e.y = f.y + a.y;
		e.rotation = a.rotation;
		for (var g = [], f = 0; f < stage.objects.length; f++) stage.objects[f] != a && stage.objects[f].box2dBody && stage.objects[f].obType != PERS && stage.objects[f].obType != ENEMY && stage.hitTest(stage.objects[f], e) && g.push(stage.objects[f]);
		if (0 < g.length) {
			for (var c = 480,
			e = 0,
			h, k, f = 0; f < g.length; f++) h = Math.abs(g[f].x - a.x),
			k = Math.abs(g[f].y - a.y),
			h = Math.sqrt(h * h + k * k),
			h < c && (c = h, e = f);
			for (h = !0; h && 0 < c;) c--,
			f = new Vector(c, 1),
			f.rotate( - a.rotation),
			stage.hitTestPointObject(g[e], f.x + a.x, f.y + a.y) || (h = !1);
			c -= 24
		}
		0 > c && (c = 0);
		f = new Vector(c / 2 + 24, 1);
		f.rotate( - a.rotation);
		f.x += a.x;
		f.y += a.y;
		a.ray.x = f.x;
		a.ray.y = f.y;
		a.ray.width = c;
		a.ray.rotation = a.rotation
	}
}
function switchGirders(a) {
	a.target.gotoAndStop(1);
	for (a = 0; a < stage.objects.length; a++) stage.objects[a].obType != GIRDER || stage.objects[a].moved || (stage.objects[a].moved = !0, stage.objects[a].moveStep = 0, stage.objects[a].position *= -1, stage.objects[a].play())
}
function moveGirder(a) {
	if (a.target.moved) {
		a = a.target;
		var c = new Vector(a.position * a.moveStep + -31 * a.position, 8);
		c.rotate( - a.rotation);
		a.girder.box2dBody.SetCenterPosition(new b2Vec2(a.x + c.x, a.y + c.y), a.girder.box2dBody.m_rotation);
		a.bitmap = 0 < a.position ? bitmaps.girder_mech_l: bitmaps.girder_mech_r;
		a.moveStep++;
		64 <= a.moveStep && (a.moved = !1, a.stop())
	}
}
function stopPunch(a) {
	13 == a.target.currentFrame && a.target.gotoAndStop(0)
}
function buildBackground() {
	world && stage.box2dSync(world);
	stage.drawScene(document.getElementById("screen_background" + currentCanvas), !0)
}
function showMenu() {
	gameState = STATE_MENU;
	createScene()
}
function showComix() {
	gameState = STATE_COMIX;
	createScene()
}
function restartLevel() {
	prepareLevel(curLevel)
}
function showLevelSelect() {
	gameState = STATE_LEVEL_SELECT;
	createScene()
}
function nextLevel() {
	curLevel++;
	curLevel >= levels.length ? (curLevel = 0, showMenu()) : prepareLevel(curLevel)
}
function showLogo(a) {
	1 > a.target.opacity && (a.target.opacity += 0.05);
	gameState == STATE_LOGO && 1 <= a.target.opacity && (gameState = STATE_MENU, setTimeout(showMenu, 1E3))
}
function showHighscores() {
	dp_Ranking()
}
function submitScores() {
	//dp_submitScore(curLevel + 1, levelsScores[curLevel])
}
function insertScores() {}
function preventEvent(a) {
	return ! 1
}
function addGlobalLock() {
	var a = new Sprite(null, 320, 480, 1);
	a.x = 160;
	a.y = 240;
	a.onmouseover = preventEvent;
	a.onmouseout = preventEvent;
	a.onmousedown = preventEvent;
	a.onmouseup = preventEvent;
	a.onclick = preventEvent;
	stage.addChild(a)
}
function addTextInGroup(a, c) {
	for (var e = 0; e < a.sprites.length; e++) a.sprites[e].gx = a.sprites[e].x / 2,
	a.sprites[e].gy = a.sprites[e].y,
	c.addChild(a.sprites[e], !1)
}
var popup;
function showVictory() {
	if (gameState == STATE_CHECK) {
		gameState = STATE_VICTORY;
		stopTimers();
		hideLock();
		gameScore > levelsScores[curLevel] && (levelsScores[curLevel] = gameScore);
		saveLevelsScores();
		submitScores();
		addGlobalLock();
		popup = new SpritesGroup(stage);
		popup.x = 160;
		popup.y = -130;
		mc = new Sprite(bitmaps.popup1, 260, 265);
		mc.gx = 0;
		mc.gy = 0;
		mc.onclick = function() {
			24 !== curLevel ? nextLevel() : showComix3(!0)
		};
		popup.addChild(mc, !0);
		if (curLevel >= levels.length - 1) {
			mc = new Sprite(bitmaps.icon_unit_jump, 76, 96, 13);
			mc.gx = 0;
			mc.gy = 28;
			popup.addChild(mc, !0);
			mc = new Sprite(bitmaps.text3, 164, 118);
			mc.gx = 0;
			mc.gy = 26;
			popup.addChild(mc, !0);
			var a = new Text(bitmaps.font2, 12, 14);
			a.x = 40;
			a.y = 52
		} else mc = new Sprite(bitmaps.text4, 206, 85),
		mc.gx = 0,
		mc.gy = 20,
		popup.addChild(mc, !0),
		mc = new Sprite(bitmaps.icon_unit_jump, 76, 96, 13),
		mc.gx = 43,
		mc.gy = 42,
		mc.gscaleX = mc.gscaleY = 0.8,
		popup.addChild(mc, !0),
		a = new Text(bitmaps.font2, 12, 14),
		a.x = 18,
		a.y = 26,
		a.write(gameScore),
		addTextInGroup(a, popup),
		a = new Text(bitmaps.font2, 12, 14),
		a.x = 18,
		a.y = 38;
		a.write(getTotalLevelsScores());
		addTextInGroup(a, popup);
		stage.createTween(popup, "y", -130, 130, fps, Easing.bounce.easeOut).play()
	}
}
function showLoose() {
	gameState == STATE_PRE_LOOSE && (gameState = STATE_LOOSE, stopTimers(), hideLock(), addGlobalLock(), popup = new SpritesGroup(stage), popup.x = 160, popup.y = -130, mc = new Sprite(bitmaps.popup1, 260, 265), mc.gx = 0, mc.gy = 0, mc.onclick = restartLevel, popup.addChild(mc, !0), mc = new Sprite(bitmaps.icon_unit_dead, 110, 90), mc.gx = 0, mc.gy = 26, popup.addChild(mc, !0), mc = new Sprite(bitmaps.text2, 157, 124), mc.gx = 0, mc.gy = 27, popup.addChild(mc, !0), stage.createTween(popup, "y", -130, 130, fps, Easing.bounce.easeOut).play())
}
function killUnit(a) {
	a.bitmap = bitmaps.unit_dead;
	a.width = 66;
	a.height = 54;
	a.syncX = 0;
	a.syncY = 2;
	a.onbox2dsync = spritesSync;
	a.totalFrames = 21;
	a.gotoAndPlay(0);
	a.onrender = function(a) {
		20 == a.target.currentFrame && (a.target.stop(), gameState == STATE_PRE_LOOSE && showLoose())
	}
}
var pause = !1;
function preTick() {
	if (pause) return ! 1;
	if (gameState == STATE_GAME || gameState == STATE_CHECK || gameState == STATE_PRE_LOOSE) {
		world.Step(1 / (2 * fps), 1);
		world.Step(1 / (2 * fps), 1);
		stage.box2dSync(world);
		for (var a = [], c = [], e = [], f = [], g = [], h = 0; h < stage.objects.length; h++) {
			if ( - 200 > stage.objects[h].x || 560 < stage.objects[h].x || 620 < stage.objects[h].y || -100 > stage.objects[h].y) stage.objects[h].destroy = !0,
			stage.objects[h].box2dBody && (stage.objects[h].box2dBody.destroy = !0);
			stage.objects[h].obType == PERS && a.push(stage.objects[h]);
			stage.objects[h].obType == ENEMY && c.push(stage.objects[h]);
			stage.objects[h].obType == TELEPORT && stage.objects[h].active && e.push(stage.objects[h]);
			stage.objects[h].obType == TRAP && f.push(stage.objects[h]);
			stage.objects[h].obType == LASER && setLaserRay(stage.objects[h]);
			stage.objects[h].obType == LASER_RAY && g.push(stage.objects[h])
		}
		if (a.length < startPerses) gameState = STATE_PRE_LOOSE,
		showLoose();
		else {
			for (var k = 0; k < c.length; k++) c[k].box2dBody.GetContactList() ? c[k].gotoAndStop(1) : c[k].gotoAndStop(0);
			for (h = 0; h < a.length; h++) {
				for (var l = a[h].box2dBody.GetContactList(); l; l = l.next) for (k = 0; k < c.length; k++) if (l.other.sprite == c[k] && null != c[k].bitmap && !a[h].inDead) {
					a[h].inDead = !0;
					mc = new Sprite(bitmaps.ball_anim, 70, 26, 7);
					mc.x = c[k].x;
					mc.y = c[k].y + 1;
					mc.deadUnit = a[h];
					mc.onrender = function(a) {
						6 == a.target.currentFrame && (a.target.destroy = !0, killUnit(a.target.deadUnit))
					};
					stage.addChild(mc);
					c[k].bitmap = null;
					world.DestroyBody(c[k].box2dBody);
					gameState = STATE_PRE_LOOSE;
					return
				}
				if (!a[h].inDead) {
					for (k = 0; k < e.length; k++) e[k].isTeleported && (console.log(""), a[h].x >= e[k].x + 25 || a[h].x <= e[k].x - 25 || a[h].y >= e[k].y + 25 || a[h].y <= e[k].y - 25) && (console.log(""), a[h].teleported && (e[k].isTeleported = !1, a[h].teleported = !1));
					for (k = 0; k < e.length; k++) if (!e[k].isTeleported) {
						var l = a[h].y - 20,
						m = a[h].x + 20,
						n = a[h].y + 20,
						p = e[k].y - 5,
						r = e[k].x + 5,
						q = e[k].y + 5;
						if (a[h].x - 20 < e[k].x - 5 && m > r && l < p && n > q) {
							console.log("   " + k);
							console.log(e[k]);
							l = [];
							a[h].teleported = !0;
							for (m = 0; m < e.length; m++) m != k && l.push(e[m]);
							0 < l.length && (m = Math.floor(Math.random() * l.length), l[m].isTeleported = !0, a[h].box2dBody.m_position.x = l[m].x, a[h].box2dBody.m_position.y = l[m].y, console.log("   " + m), console.log(l[m]))
						}
					}
					for (k = 0; k < f.length; k++) if (l = new Sprite(null, 28, 20), l.x = f[k].x, l.y = f[k].y, m = new Vector(0, 8), m.rotate(f[k].rotation), l.x += m.x, l.y += m.y, stage.hitTest(l, a[h])) {
						a[h].inDead = !0;
						killUnit(a[h]);
						gameState = STATE_PRE_LOOSE;
						return
					}
					for (k = 0; k < g.length; k++) {
						if (stage.hitTest(g[k], a[h])) {
							a[h].inDead = !0;
							killUnit(a[h]);
							gameState = STATE_PRE_LOOSE;
							return
						}
						for (m = 0; m < c.length; m++) stage.hitTest(g[k], c[m]) && (mc = new Sprite(bitmaps.ball_anim2, 59, 59, 7), mc.x = c[m].x, mc.y = c[m].y, mc.onrender = function(a) {
							6 == a.target.currentFrame && (a.target.destroy = !0)
						},
						stage.addChild(mc), world.DestroyBody(c[m].box2dBody), stage.removeChild(c[m]))
					}
				}
			}
			for (l = world.m_bodyList; l; l = l.m_next) l.destroy && world.DestroyBody(l)
		}
	}
}
function postTick() {
	showDebugDraw && world && drawWorld(world, stage)
}
function Text(a, c, e) {
	this.ALIGN_LEFT = 0;
	this.ALIGN_RIGHT = 1;
	this.ALIGN_CENTER = 2;
	this.font = a;
	this.y = this.x = 0;
	this.width = c;
	this.height = e;
	this.align = this.ALIGN_LEFT;
	this.rotation = 0;
	this.static = !1;
	this.charMap = "0123456789".split("");
	this.sprites = [];
	this.manageSprites = function(a) {
		var c, e = a.length,
		k = this.sprites.length;
		if (k < e) for (a = 0; a < e - k; a++) c = new Sprite(this.font, this.width, this.height, this.charMap.length),
		this.sprites.push(c),
		stage.addChild(c);
		if (k > e) {
			for (a = 0; a < k - e; a++) stage.removeChild(this.sprites[a]);
			this.sprites.splice(0, k - e)
		}
	};
	this.write = function(a) {
		var c, e, k, l;
		a += "";
		this.manageSprites(a);
		c = this.x;
		this.align == this.ALIGN_CENTER && (c = this.x - (a.length - 1) / 2 * this.width);
		this.align == this.ALIGN_RIGHT && (c = this.x - (a.length - 1) * this.width);
		k = new Vector(c - this.x, 0);
		k.rotate( - this.rotation);
		c = k.x + this.x;
		e = k.y + this.y;
		k = new Vector(0, 0);
		for (var m = 0; m < a.length; m++) this.sprites[m].visible = !0,
		l = this.charMap.indexOf(a.substr(m, 1)),
		0 > l ? this.sprites[m].visible = !1 : (this.sprites[m].gotoAndStop(l), l = k.clone(), l.rotate( - this.rotation), this.sprites[m].x = l.x + c, this.sprites[m].y = l.y + e, this.sprites[m].rotation = this.rotation, this.sprites[m].static = this.static, k.x += this.width)
	}
}
var NONE = 0,
BOX = 1,
CIRCLE = 2,
POLY = 3,
NORMAL = 0,
PERS = 1,
ENEMY = 2,
ACTIVE = 3,
TELEPORT = 4,
TRAP = 5,
PUNCH = 6,
PUNCH_BUTTON = 7,
LASER = 8,
LASER_BUTTON = 9,
LASER_RAY = 10,
GIRDER = 11,
GIRDER_BUTTON = 12,
NOT_PHYSICS = 13,
TEXT = 14,
TEXT1 = 15,
static_density = 0;
function spritesSync(a, c, e) {
	c = new Vector( - a.target.syncX, -a.target.syncY);
	c.rotate( - a.target.rotation);
	a.target.x += c.x;
	a.target.y += c.y
}
var objects = [{
	name: "unit",
	image: "unit.png",
	type: PERS,
	width: 28,
	height: 28,
	bodyWidth: 28,
	bodyHeight: 28,
	frames: 1,
	bodyType: CIRCLE,
	fixed: !1,
	density: 0.6,
	restitution: 0.2,
	friction: 0.6
},
{
	name: "box1",
	image: "box1.png",
	type: ACTIVE,
	width: 31,
	height: 42,
	bodyWidth: 31,
	bodyHeight: 42,
	iconWidth: 15,
	iconHeight: 20,
	frames: 1,
	bodyType: BOX,
	fixed: !1,
	density: 0.7,
	restitution: 0.1,
	friction: 0.7
},
{
	name: "box2",
	image: "box2.png",
	type: ACTIVE,
	width: 40,
	height: 54,
	bodyWidth: 40,
	bodyHeight: 54,
	iconWidth: 19,
	iconHeight: 25,
	frames: 1,
	bodyType: BOX,
	fixed: !1,
	density: 0.7,
	restitution: 0.1,
	friction: 0.7
},
{
	name: "circle1",
	image: "circle1.png",
	type: ACTIVE,
	width: 53,
	height: 53,
	bodyWidth: 53,
	bodyHeight: 53,
	iconWidth: 25,
	iconHeight: 25,
	frames: 1,
	bodyType: CIRCLE,
	fixed: !1,
	density: 0.7,
	restitution: 0.1,
	friction: 0.7
},
{
	name: "circle2",
	image: "circle2.png",
	type: ACTIVE,
	width: 27,
	height: 27,
	bodyWidth: 27,
	bodyHeight: 27,
	iconWidth: 15,
	iconHeight: 15,
	frames: 1,
	bodyType: CIRCLE,
	fixed: !1,
	density: 0.7,
	restitution: 0.1,
	friction: 0.7
},
{
	name: "circle3",
	image: "circle3.png",
	type: ACTIVE,
	width: 53,
	height: 53,
	bodyWidth: 53,
	bodyHeight: 53,
	iconWidth: 25,
	iconHeight: 25,
	frames: 1,
	bodyType: CIRCLE,
	fixed: !1,
	density: 0.7,
	restitution: 0.1,
	friction: 0.7
},
{
	name: "circle4",
	image: "circle4.png",
	type: ACTIVE,
	width: 28,
	height: 28,
	bodyWidth: 28,
	bodyHeight: 28,
	iconWidth: 15,
	iconHeight: 15,
	frames: 1,
	bodyType: CIRCLE,
	fixed: !1,
	density: 0.7,
	restitution: 0.1,
	friction: 0.7
},
{
	name: "corner1",
	image: "corner1.png",
	type: ACTIVE,
	width: 44,
	height: 58,
	bodyWidth: 44,
	bodyHeight: 58,
	iconWidth: 15,
	iconHeight: 20,
	frames: 1,
	bodyType: POLY,
	fixed: !1,
	density: 0.7,
	restitution: 0.1,
	friction: 0.7,
	points: [[[ - 22, -29], [22, -29], [22, -17], [ - 22, -17]], [[ - 22, -29], [ - 10, -29], [ - 10, 29], [ - 22, 29]]]
},
{
	name: "triangle1",
	image: "triangle1.png",
	type: ACTIVE,
	width: 34,
	height: 27,
	bodyWidth: 34,
	bodyHeight: 27,
	iconWidth: 20,
	iconHeight: 16,
	frames: 1,
	bodyType: POLY,
	fixed: !1,
	density: 0.7,
	restitution: 0.1,
	friction: 0.7,
	points: [[[0, -13.5], [17, 13.5], [ - 17, 13.5]]]
},
{
	name: "ladder",
	image: "ladder.png",
	type: ACTIVE,
	width: 38,
	height: 106,
	bodyWidth: 38,
	bodyHeight: 106,
	iconWidth: 9,
	iconHeight: 25,
	frames: 1,
	bodyType: BOX,
	fixed: !1,
	density: 0.7,
	restitution: 0.1,
	friction: 0.7
},
{
	name: "brick1",
	image: "brick1.png",
	type: NORMAL,
	width: 25,
	height: 13,
	bodyWidth: 25,
	bodyHeight: 13,
	frames: 1,
	bodyType: BOX,
	fixed: !1,
	density: 0.8,
	restitution: 0.2,
	friction: 0.8
},
{
	name: "brick2",
	image: "brick2.png",
	type: NORMAL,
	width: 25,
	height: 13,
	bodyWidth: 25,
	bodyHeight: 13,
	frames: 1,
	bodyType: BOX,
	fixed: !1,
	density: 0.8,
	restitution: 0.2,
	friction: 0.8
},
{
	name: "brick3",
	image: "brick3.png",
	type: NORMAL,
	width: 25,
	height: 13,
	bodyWidth: 25,
	bodyHeight: 13,
	frames: 1,
	bodyType: BOX,
	fixed: !1,
	density: 0.8,
	restitution: 0.2,
	friction: 0.8
},
{
	name: "brick4",
	image: "brick4.png",
	type: NORMAL,
	width: 25,
	height: 13,
	bodyWidth: 25,
	bodyHeight: 13,
	frames: 1,
	bodyType: BOX,
	fixed: !1,
	density: 0.8,
	restitution: 0.2,
	friction: 0.8
},
{
	name: "column1",
	image: "column1.png",
	type: NORMAL,
	width: 50,
	height: 90,
	bodyWidth: 50,
	bodyHeight: 90,
	frames: 1,
	bodyType: BOX,
	fixed: !0,
	density: 1.2,
	restitution: 0.2,
	friction: 0.8
},
{
	name: "corner2",
	image: "corner2.png",
	type: NORMAL,
	width: 42,
	height: 35,
	bodyWidth: 42,
	bodyHeight: 35,
	frames: 1,
	bodyType: POLY,
	fixed: !0,
	density: 1.2,
	restitution: 0.2,
	friction: 0.8,
	points: [[[ - 21, -17.5], [21, 17.5], [ - 21, 17.5]]]
},
{
	name: "cross1",
	image: "cross1.png",
	type: NORMAL,
	width: 140,
	height: 140,
	bodyWidth: 140,
	bodyHeight: 140,
	frames: 1,
	bodyType: POLY,
	fixed: !1,
	density: 0.8,
	restitution: 0.2,
	friction: 0.8,
	points: [[[ - 70, -5], [70, -5], [70, 5], [ - 70, 5]], [[ - 5, -70], [5, -70], [5, 70], [ - 5, 70]]]
},
{
	name: "cross2",
	image: "cross2.png",
	type: NORMAL,
	width: 60,
	height: 80,
	bodyWidth: 60,
	bodyHeight: 80,
	frames: 1,
	bodyType: POLY,
	fixed: !1,
	density: 0.8,
	restitution: 0.2,
	friction: 0.8,
	points: [[[ - 5, -40], [5, -40], [5, 40], [ - 5, 40]], [[ - 30, 30], [30, 30], [30, 40], [ - 30, 40]]]
},
{
	name: "stick1",
	image: "stick1.png",
	type: NORMAL,
	width: 161,
	height: 6,
	bodyWidth: 161,
	bodyHeight: 6,
	frames: 1,
	bodyType: BOX,
	fixed: !1,
	density: 0.8,
	restitution: 0.2,
	friction: 0.8
},
{
	name: "stick2",
	image: "stick2.png",
	type: NORMAL,
	width: 80,
	height: 6,
	bodyWidth: 80,
	bodyHeight: 6,
	frames: 1,
	bodyType: BOX,
	fixed: !1,
	density: 0.8,
	restitution: 0.2,
	friction: 0.8
},
{
	name: "stick3",
	image: "stick3.png",
	type: NORMAL,
	width: 160,
	height: 10,
	bodyWidth: 160,
	bodyHeight: 10,
	frames: 1,
	bodyType: BOX,
	fixed: !0,
	density: 1.2,
	restitution: 0.2,
	friction: 0.8
},
{
	name: "stick5",
	image: "stick5.png",
	type: NORMAL,
	width: 140,
	height: 10,
	bodyWidth: 140,
	bodyHeight: 10,
	frames: 1,
	bodyType: BOX,
	fixed: !0,
	density: 1.2,
	restitution: 0.2,
	friction: 0.8
},
{
	name: "stick6",
	image: "stick6.png",
	type: NORMAL,
	width: 60,
	height: 10,
	bodyWidth: 60,
	bodyHeight: 10,
	frames: 1,
	bodyType: BOX,
	fixed: !0,
	density: 1.2,
	restitution: 0.2,
	friction: 0.8
},
{
	name: "stick7",
	image: "stick7.png",
	type: NORMAL,
	width: 40,
	height: 10,
	bodyWidth: 40,
	bodyHeight: 10,
	frames: 1,
	bodyType: BOX,
	fixed: !0,
	density: 1.2,
	restitution: 0.2,
	friction: 0.8
},
{
	name: "stick8",
	image: "stick8.png",
	type: NORMAL,
	width: 17,
	height: 10,
	bodyWidth: 17,
	bodyHeight: 10,
	frames: 1,
	bodyType: BOX,
	fixed: !0,
	density: 1.2,
	restitution: 0.2,
	friction: 0.8
},
{
	name: "teleport",
	image: "teleport_stat.png",
	type: TELEPORT,
	width: 54,
	height: 54,
	frames: 1,
	bodyType: NONE
},
{
	name: "water",
	image: "water.png",
	type: TRAP,
	width: 27,
	height: 28,
	frames: 20,
	bodyType: NONE
},
{
	name: "punch1",
	image: "punch1.png",
	type: PUNCH,
	width: 44,
	height: 72,
	bodyWidth: 30,
	bodyHeight: 30,
	frames: 14,
	bodyType: BOX,
	fixed: !0,
	density: 1.2,
	restitution: 0.2,
	friction: 0.8,
	bodyPosCorrect: {
		x: 0,
		y: 16
	}
},
{
	name: "punch2",
	image: "punch2.png",
	type: PUNCH,
	width: 44,
	height: 72,
	bodyWidth: 30,
	bodyHeight: 30,
	frames: 14,
	bodyType: BOX,
	fixed: !0,
	density: 1.2,
	restitution: 0.2,
	friction: 0.8,
	bodyPosCorrect: {
		x: 0,
		y: 16
	}
},
{
	name: "punch_button",
	image: "button1.png",
	type: PUNCH_BUTTON,
	width: 30,
	height: 12,
	frames: 2,
	bodyType: NONE,
	water: !0
},
{
	name: "laser",
	image: "laser.png",
	type: LASER,
	width: 51,
	height: 33,
	bodyWidth: 48,
	bodyHeight: 18,
	bodyType: BOX,
	fixed: !0,
	density: 1.2,
	restitution: 0.2,
	friction: 0.8,
	frames: 1
},
{
	name: "laser_button",
	image: "button2.png",
	type: LASER_BUTTON,
	width: 30,
	height: 12,
	frames: 2,
	bodyType: NONE,
	water: !0
},
{
	name: "girder_mech",
	image: "girder_mech_l.png",
	type: GIRDER,
	width: 30,
	height: 18,
	frames: 18,
	bodyType: NONE
},
{
	name: "girder_button",
	image: "button3.png",
	type: GIRDER_BUTTON,
	width: 30,
	height: 12,
	frames: 2,
	bodyType: NONE,
	water: !0
},
{
	name: "girder",
	image: "girder.png",
	type: NORMAL,
	width: 88,
	height: 6,
	bodyWidth: 88,
	bodyHeight: 6,
	bodyType: BOX,
	fixed: !0,
	density: 1.2,
	restitution: 0.2,
	friction: 0.8,
	frames: 1
},
{
	name: "ball",
	image: "ball.png",
	type: ENEMY,
	width: 14,
	height: 20,
	bodyWidth: 13,
	bodyHeight: 23,
	frames: 2,
	bodyType: CIRCLE,
	fixed: !1,
	density: 0.8,
	restitution: 0.2,
	friction: 0.8
},
{
	name: "circle5",
	image: "circle5.png",
	type: ACTIVE,
	width: 53,
	height: 53,
	bodyWidth: 53,
	bodyHeight: 53,
	bodyPosCorrect: {
		x: 0,
		y: 0
	},
	iconWidth: 15,
	iconHeight: 15,
	frames: 1,
	bodyType: CIRCLE,
	fixed: !1,
	density: static_density,
	restitution: 0.1,
	friction: 0.7
},
{
	name: "circle6",
	image: "circle6.png",
	type: ACTIVE,
	width: 53,
	height: 53,
	bodyWidth: 53,
	bodyHeight: 53,
	bodyPosCorrect: {
		x: 0,
		y: 0
	},
	iconWidth: 15,
	iconHeight: 15,
	frames: 1,
	bodyType: CIRCLE,
	fixed: !1,
	density: static_density,
	restitution: 0.1,
	friction: 0.7
},
{
	name: "box3",
	image: "box3.png",
	type: ACTIVE,
	width: 17,
	height: 10,
	bodyWidth: 17,
	bodyHeight: 10,
	iconWidth: 19,
	iconHeight: 25,
	frames: 1,
	bodyType: BOX,
	fixed: !1,
	density: static_density,
	restitution: 0.1,
	friction: 0.7
},
{
	name: "box4",
	image: "box4.png",
	type: ACTIVE,
	width: 34,
	height: 20,
	bodyWidth: 34,
	bodyHeight: 20,
	iconWidth: 19,
	iconHeight: 25,
	frames: 1,
	bodyType: BOX,
	fixed: !1,
	density: static_density,
	restitution: 0.1,
	friction: 0.7
},
{
	name: "box5",
	image: "box5.png",
	type: ACTIVE,
	width: 34,
	height: 10,
	bodyWidth: 34,
	bodyHeight: 10,
	iconWidth: 19,
	iconHeight: 25,
	frames: 1,
	bodyType: BOX,
	fixed: !1,
	density: static_density,
	restitution: 0.1,
	friction: 0.7
},
{
	name: "box6",
	image: "box6.png",
	type: ACTIVE,
	width: 68,
	height: 20,
	bodyWidth: 68,
	bodyHeight: 20,
	iconWidth: 19,
	iconHeight: 25,
	frames: 1,
	bodyType: BOX,
	fixed: !1,
	density: static_density,
	restitution: 0.1,
	friction: 0.7
},
{
	name: "box7",
	image: "box7.png",
	type: ACTIVE,
	width: 28,
	height: 11,
	bodyWidth: 28,
	bodyHeight: 11,
	iconWidth: 19,
	iconHeight: 25,
	frames: 1,
	bodyType: BOX,
	fixed: !1,
	density: static_density,
	restitution: 0.1,
	friction: 0.7
},
{
	name: "box8",
	image: "box8.png",
	type: ACTIVE,
	width: 56,
	height: 22,
	bodyWidth: 56,
	bodyHeight: 22,
	iconWidth: 19,
	iconHeight: 25,
	frames: 1,
	bodyType: BOX,
	fixed: !1,
	density: static_density,
	restitution: 0.1,
	friction: 0.7
},
{
	name: "box9",
	image: "box9.png",
	type: ACTIVE,
	width: 50,
	height: 49,
	bodyWidth: 50,
	bodyHeight: 49,
	iconWidth: 19,
	iconHeight: 25,
	frames: 1,
	bodyType: BOX,
	fixed: !1,
	density: static_density,
	restitution: 0.1,
	friction: 0.7
},
{
	name: "box10",
	image: "box10.png",
	type: ACTIVE,
	width: 25,
	height: 12,
	bodyWidth: 25,
	bodyHeight: 12,
	iconWidth: 19,
	iconHeight: 25,
	frames: 1,
	bodyType: BOX,
	fixed: !1,
	density: static_density,
	restitution: 0.1,
	friction: 0.7
},
{
	name: "box11",
	image: "box11.png",
	type: ACTIVE,
	width: 50,
	height: 12,
	bodyWidth: 50,
	bodyHeight: 12,
	iconWidth: 19,
	iconHeight: 25,
	frames: 1,
	bodyType: BOX,
	fixed: !1,
	density: static_density,
	restitution: 0.1,
	friction: 0.7
},
{
	name: "box12",
	image: "box12.png",
	type: ACTIVE,
	width: 14,
	height: 12,
	bodyWidth: 14,
	bodyHeight: 12,
	iconWidth: 19,
	iconHeight: 25,
	frames: 1,
	bodyType: BOX,
	fixed: !1,
	density: static_density,
	restitution: 0.1,
	friction: 0.7
},
{
	name: "box13",
	image: "box13.png",
	type: ACTIVE,
	width: 14,
	height: 12,
	bodyWidth: 14,
	bodyHeight: 12,
	iconWidth: 19,
	iconHeight: 25,
	frames: 1,
	bodyType: BOX,
	fixed: !1,
	density: static_density,
	restitution: 0.1,
	friction: 0.7
},
{
	name: "box14",
	image: "box14.png",
	type: ACTIVE,
	width: 75,
	height: 40,
	bodyWidth: 75,
	bodyHeight: 40,
	iconWidth: 19,
	iconHeight: 25,
	frames: 1,
	bodyType: BOX,
	fixed: !1,
	density: static_density,
	restitution: 0.1,
	friction: 0.7
},
{
	name: "poly1",
	image: "poly1.png",
	type: NORMAL,
	width: 30,
	height: 30,
	bodyWidth: 30,
	bodyHeight: 30,
	frames: 1,
	bodyType: POLY,
	fixed: !1,
	density: static_density,
	restitution: 0.2,
	friction: 0.8,
	points: [[[ - 15, -2], [15, -2], [15, 2], [ - 15, 2]], [[ - 2, -15], [2, -15], [2, 15], [ - 2, 15]]]
},
{
	name: "poly2",
	image: "poly2.png",
	type: NORMAL,
	width: 30,
	height: 30,
	bodyWidth: 30,
	bodyHeight: 30,
	frames: 1,
	bodyType: POLY,
	fixed: !1,
	density: static_density,
	restitution: 0.2,
	friction: 0.8,
	points: [[[ - 15, -2], [15, -2], [15, 2], [ - 15, 2]], [[ - 2, -15], [2, -15], [2, 15], [ - 2, 15]]]
},
{
	name: "poly3",
	image: "poly3.png",
	type: NORMAL,
	width: 63,
	height: 30,
	bodyWidth: 63,
	bodyHeight: 30,
	frames: 1,
	bodyType: POLY,
	fixed: !1,
	density: static_density,
	restitution: 0.2,
	friction: 0.8,
	points: [[[ - 29, 15], [ - 21, -3], [ - 6, -14], [7, -14], [17, -7], [26, 4], [29, 15]]]
},
{
	name: "poly4",
	image: "poly4.png",
	type: NORMAL,
	width: 17,
	height: 17,
	bodyWidth: 17,
	bodyHeight: 17,
	frames: 1,
	bodyType: POLY,
	fixed: !1,
	density: static_density,
	restitution: 0.2,
	friction: 0.8,
	points: [[[ - 8, 8], [ - 8, 0], [0, 0], [0, -8], [8, -8], [8, 0], [8, 8]]]
},
{
	name: "poly5",
	image: "poly5.png",
	type: NORMAL,
	width: 34,
	height: 33,
	bodyWidth: 34,
	bodyHeight: 33,
	frames: 1,
	bodyType: POLY,
	fixed: !1,
	density: static_density,
	restitution: 0.2,
	friction: 0.8,
	points: [[[ - 16, 16], [ - 16, -1], [0, -1], [0, -16], [16, -16], [16, 0], [16, 16]]]
},
{
	name: "poly6",
	image: "poly6.png",
	type: NORMAL,
	width: 34,
	height: 24,
	bodyWidth: 34,
	bodyHeight: 24,
	frames: 1,
	bodyType: POLY,
	fixed: !1,
	density: static_density,
	restitution: 0.2,
	friction: 0.8,
	points: [[[ - 17, 8], [ - 17, -2], [17, -2], [17, 8]], [[ - 9, 12], [ - 9, -11], [9, -11], [9, 12]]]
},
{
	name: "poly7",
	image: "poly7.png",
	type: NORMAL,
	width: 68,
	height: 47,
	bodyWidth: 68,
	bodyHeight: 47,
	frames: 1,
	bodyType: POLY,
	fixed: !1,
	density: static_density,
	restitution: 0.2,
	friction: 0.8,
	points: [[[ - 34, 16], [ - 34, -4], [34, -4], [34, 16]], [[ - 18, 24], [ - 18, -22], [18, -22], [18, 24]]]
},
{
	name: "poly8",
	image: "poly8.png",
	type: NORMAL,
	width: 34,
	height: 23,
	bodyWidth: 34,
	bodyHeight: 23,
	frames: 1,
	bodyType: POLY,
	fixed: !1,
	density: static_density,
	restitution: 0.2,
	friction: 0.8,
	points: [[[ - 17, 5], [ - 17, -5], [17, -5], [17, 5]], [[ - 9, 11], [ - 9, -11], [9, -11], [9, 11]]]
},
{
	name: "poly9",
	image: "poly9.png",
	type: NORMAL,
	width: 68,
	height: 45,
	bodyWidth: 68,
	bodyHeight: 45,
	frames: 1,
	bodyType: POLY,
	fixed: !1,
	density: static_density,
	restitution: 0.2,
	friction: 0.8,
	points: [[[ - 34, 10], [ - 34, -10], [34, -10], [34, 10]], [[ - 18, 20], [ - 18, -20], [18, -20], [18, 20]]]
},
{
	name: "poly10",
	image: "poly10.png",
	type: NORMAL,
	width: 50,
	height: 40,
	bodyWidth: 50,
	bodyHeight: 40,
	frames: 1,
	bodyType: POLY,
	fixed: !1,
	density: static_density,
	restitution: 0.2,
	friction: 0.8,
	points: [[[ - 25, 20], [ - 25, 3], [ - 18, -13], [ - 4, -18], [13, -11], [23, -11], [25, 20]]]
},
{
	name: "poly11",
	image: "poly11.png",
	type: NORMAL,
	width: 50,
	height: 44,
	bodyWidth: 50,
	bodyHeight: 44,
	frames: 1,
	bodyType: POLY,
	fixed: !1,
	density: static_density,
	restitution: 0.2,
	friction: 0.8,
	points: [[[ - 25, 22], [ - 22, 6], [ - 19, -5], [ - 1, -10], [ - 1, -20], [10, -20], [22, -3], [24, 22]]]
},
{
	name: "poly12",
	image: "poly12.png",
	type: NORMAL,
	width: 27,
	height: 35,
	bodyWidth: 27,
	bodyHeight: 35,
	frames: 1,
	bodyType: POLY,
	fixed: !1,
	density: static_density,
	restitution: 0.2,
	friction: 0.8,
	points: [[[ - 8, 17], [ - 8, -17], [8, -17], [8, 17]], [[ - 13, 17], [ - 13, 9], [13, 9], [13, 17]]]
},
{
	name: "poly13",
	image: "poly13.png",
	type: NORMAL,
	width: 37,
	height: 31,
	bodyWidth: 37,
	bodyHeight: 31,
	frames: 1,
	bodyType: POLY,
	fixed: !1,
	density: static_density,
	restitution: 0.2,
	friction: 0.8,
	points: [[[ - 18, 15], [ - 15, -13], [14, -13], [18, 0], [15, 15]]]
},
{
	name: "poly14",
	image: "poly14.png",
	type: NORMAL,
	width: 43,
	height: 28,
	bodyWidth: 43,
	bodyHeight: 28,
	frames: 1,
	bodyType: POLY,
	fixed: !1,
	density: static_density,
	restitution: 0.2,
	friction: 0.8,
	points: [[[ - 18, 14], [ - 21, 5], [ - 1, -14], [20, 7], [20, 14]]]
},
{
	name: "poly15",
	image: "poly15.png",
	type: NORMAL,
	width: 103,
	height: 70,
	bodyWidth: 103,
	bodyHeight: 70,
	frames: 1,
	bodyType: POLY,
	fixed: !1,
	density: static_density,
	restitution: 0.2,
	friction: 0.8,
	points: [[[ - 51, 35], [ - 8, -28], [20, -28], [38, -10], [45, 35]]]
},
{
	name: "poly17",
	image: "poly17.png",
	type: NORMAL,
	width: 53,
	height: 53,
	bodyWidth: 53,
	bodyHeight: 53,
	frames: 1,
	bodyType: POLY,
	fixed: !1,
	density: static_density,
	restitution: 0.2,
	friction: 0.8,
	points: [[[ - 26, 3], [ - 26, -3], [26, -3], [26, 3]], [[ - 3, -26], [3, -26], [3, 26], [ - 3, 26]]]
},
{
	name: "poly18",
	image: "poly18.png",
	type: NORMAL,
	width: 100,
	height: 66,
	bodyWidth: 100,
	bodyHeight: 66,
	frames: 8,
	bodyType: POLY,
	fixed: !1,
	density: static_density,
	restitution: 0.2,
	friction: 0.8,
	water: !0,
	points: [[[ - 51, 35], [ - 8, -28], [20, -28], [38, -10], [45, 35]]]
},
{
	name: "elem1",
	image: "elem1.png",
	type: NONE,
	width: 63,
	height: 30,
	bodyWidth: 63,
	bodyHeight: 30,
	iconWidth: 19,
	iconHeight: 25,
	frames: 1,
	bodyType: NONE,
	fixed: !1,
	density: 0.7,
	restitution: 0.1,
	friction: 0.7
},
{
	name: "elem2",
	image: "elem2.png",
	type: NONE,
	width: 63,
	height: 30,
	bodyWidth: 63,
	bodyHeight: 30,
	iconWidth: 19,
	iconHeight: 25,
	frames: 1,
	bodyType: NONE,
	fixed: !1,
	density: 0.7,
	restitution: 0.1,
	friction: 0.7
},
{
	name: "elem3",
	image: "elem3.png",
	type: NONE,
	width: 17,
	height: 10,
	bodyWidth: 17,
	bodyHeight: 10,
	iconWidth: 19,
	iconHeight: 25,
	frames: 1,
	bodyType: NONE,
	fixed: !1,
	density: 0.7,
	restitution: 0.1,
	friction: 0.7
},
{
	name: "elem4",
	image: "elem4.png",
	type: NONE,
	width: 34,
	height: 10,
	bodyWidth: 34,
	bodyHeight: 10,
	iconWidth: 19,
	iconHeight: 25,
	frames: 1,
	bodyType: NONE,
	fixed: !1,
	density: 0.7,
	restitution: 0.1,
	friction: 0.7
},
{
	name: "elem5",
	image: "elem5.png",
	type: NONE,
	width: 17,
	height: 17,
	bodyWidth: 17,
	bodyHeight: 17,
	iconWidth: 19,
	iconHeight: 25,
	frames: 1,
	bodyType: NONE,
	fixed: !1,
	density: 0.7,
	restitution: 0.1,
	friction: 0.7
},
{
	name: "elem6",
	image: "elem6.png",
	type: NONE,
	width: 34,
	height: 24,
	bodyWidth: 34,
	bodyHeight: 24,
	iconWidth: 19,
	iconHeight: 25,
	frames: 1,
	bodyType: NONE,
	fixed: !1,
	density: 0.7,
	restitution: 0.1,
	friction: 0.7
},
{
	name: "elem7",
	image: "elem7.png",
	type: NONE,
	width: 34,
	height: 23,
	bodyWidth: 34,
	bodyHeight: 23,
	iconWidth: 19,
	iconHeight: 25,
	frames: 1,
	bodyType: NONE,
	fixed: !1,
	density: 0.7,
	restitution: 0.1,
	friction: 0.7
},
{
	name: "elem8",
	image: "elem8.png",
	type: NONE,
	width: 28,
	height: 11,
	bodyWidth: 28,
	bodyHeight: 11,
	iconWidth: 19,
	iconHeight: 25,
	frames: 1,
	bodyType: NONE,
	fixed: !1,
	density: 0.7,
	restitution: 0.1,
	friction: 0.7
},
{
	name: "elem9",
	image: "elem9.png",
	type: NONE,
	width: 10,
	height: 29,
	bodyWidth: 10,
	bodyHeight: 29,
	iconWidth: 19,
	iconHeight: 25,
	frames: 1,
	bodyType: NONE,
	fixed: !1,
	density: 0.7,
	restitution: 0.1,
	friction: 0.7
},
{
	name: "elem10",
	image: "elem10.png",
	type: NONE,
	width: 10,
	height: 29,
	bodyWidth: 10,
	bodyHeight: 29,
	iconWidth: 19,
	iconHeight: 25,
	frames: 1,
	bodyType: NONE,
	fixed: !1,
	density: 0.7,
	restitution: 0.1,
	friction: 0.7
},
{
	name: "elem11",
	image: "elem11.png",
	type: NONE,
	width: 20,
	height: 58,
	bodyWidth: 20,
	bodyHeight: 58,
	iconWidth: 19,
	iconHeight: 25,
	frames: 1,
	bodyType: NONE,
	fixed: !1,
	density: 0.7,
	restitution: 0.1,
	friction: 0.7
},
{
	name: "elem12",
	image: "elem12.png",
	type: NONE,
	width: 203,
	height: 86,
	bodyWidth: 203,
	bodyHeight: 86,
	iconWidth: 19,
	iconHeight: 25,
	frames: 1,
	bodyType: NONE,
	fixed: !1,
	density: 0.7,
	restitution: 0.1,
	friction: 0.7
},
{
	name: "elem13",
	image: "elem13.png",
	type: NONE,
	width: 15,
	height: 17,
	bodyWidth: 15,
	bodyHeight: 17,
	iconWidth: 19,
	iconHeight: 25,
	frames: 1,
	bodyType: NONE,
	fixed: !1,
	density: 0.7,
	restitution: 0.1,
	friction: 0.7
},
{
	name: "elem14",
	image: "elem14.png",
	type: NONE,
	width: 17,
	height: 19,
	bodyWidth: 17,
	bodyHeight: 19,
	iconWidth: 19,
	iconHeight: 25,
	frames: 1,
	bodyType: NONE,
	fixed: !1,
	density: 0.7,
	restitution: 0.1,
	friction: 0.7
},
{
	name: "elem15",
	image: "elem15.png",
	type: NONE,
	width: 29,
	height: 33,
	bodyWidth: 29,
	bodyHeight: 33,
	iconWidth: 19,
	iconHeight: 25,
	frames: 1,
	bodyType: NONE,
	fixed: !1,
	density: 0.7,
	restitution: 0.1,
	friction: 0.7
},
{
	name: "elem16",
	image: "elem16.png",
	type: NONE,
	width: 25,
	height: 13,
	bodyWidth: 25,
	bodyHeight: 13,
	iconWidth: 19,
	iconHeight: 25,
	frames: 1,
	bodyType: NONE,
	fixed: !1,
	density: 0.7,
	restitution: 0.1,
	friction: 0.7
},
{
	name: "elem17",
	image: "elem17.png",
	type: NONE,
	width: 16,
	height: 13,
	bodyWidth: 16,
	bodyHeight: 13,
	iconWidth: 19,
	iconHeight: 25,
	frames: 1,
	bodyType: NONE,
	fixed: !1,
	density: 0.7,
	restitution: 0.1,
	friction: 0.7
},
{
	name: "elem18",
	image: "elem18.png",
	type: NONE,
	width: 46,
	height: 13,
	bodyWidth: 46,
	bodyHeight: 13,
	iconWidth: 19,
	iconHeight: 25,
	frames: 1,
	bodyType: NONE,
	fixed: !1,
	density: 0.7,
	restitution: 0.1,
	friction: 0.7
},
{
	name: "elem19",
	image: "elem19.png",
	type: NONE,
	width: 50,
	height: 49,
	bodyWidth: 50,
	bodyHeight: 49,
	iconWidth: 19,
	iconHeight: 25,
	frames: 1,
	bodyType: NONE,
	fixed: !1,
	density: 0.7,
	restitution: 0.1,
	friction: 0.7
},
{
	name: "elem20",
	image: "elem20.png",
	type: NONE,
	width: 50,
	height: 40,
	bodyWidth: 50,
	bodyHeight: 40,
	iconWidth: 19,
	iconHeight: 25,
	frames: 1,
	bodyType: NONE,
	fixed: !1,
	density: 0.7,
	restitution: 0.1,
	friction: 0.7
},
{
	name: "elem21",
	image: "elem21.png",
	type: NONE,
	width: 50,
	height: 44,
	bodyWidth: 50,
	bodyHeight: 44,
	iconWidth: 19,
	iconHeight: 25,
	frames: 1,
	bodyType: NONE,
	fixed: !1,
	density: 0.7,
	restitution: 0.1,
	friction: 0.7
},
{
	name: "elem22",
	image: "elem22.png",
	type: NONE,
	width: 10,
	height: 9,
	bodyWidth: 10,
	bodyHeight: 9,
	iconWidth: 19,
	iconHeight: 25,
	frames: 1,
	bodyType: NONE,
	fixed: !1,
	density: 0.7,
	restitution: 0.1,
	friction: 0.7
},
{
	name: "elem23",
	image: "elem23.png",
	type: NONE,
	width: 20,
	height: 18,
	bodyWidth: 20,
	bodyHeight: 18,
	iconWidth: 19,
	iconHeight: 25,
	frames: 1,
	bodyType: NONE,
	fixed: !1,
	density: 0.7,
	restitution: 0.1,
	friction: 0.7
},
{
	name: "elem24",
	image: "elem24.png",
	type: NONE,
	width: 10,
	height: 23,
	bodyWidth: 10,
	bodyHeight: 23,
	iconWidth: 19,
	iconHeight: 25,
	frames: 1,
	bodyType: NONE,
	fixed: !1,
	density: 0.7,
	restitution: 0.1,
	friction: 0.7
},
{
	name: "elem25",
	image: "elem25.png",
	type: NONE,
	width: 20,
	height: 46,
	bodyWidth: 20,
	bodyHeight: 46,
	iconWidth: 19,
	iconHeight: 25,
	frames: 1,
	bodyType: NONE,
	fixed: !1,
	density: 0.7,
	restitution: 0.1,
	friction: 0.7
},
{
	name: "elem26",
	image: "elem26.png",
	type: NONE,
	width: 37,
	height: 31,
	bodyWidth: 37,
	bodyHeight: 31,
	iconWidth: 19,
	iconHeight: 25,
	frames: 1,
	bodyType: NONE,
	fixed: !1,
	density: 0.7,
	restitution: 0.1,
	friction: 0.7
},
{
	name: "elem27",
	image: "elem27.png",
	type: NONE,
	width: 43,
	height: 28,
	bodyWidth: 43,
	bodyHeight: 28,
	iconWidth: 19,
	iconHeight: 25,
	frames: 1,
	bodyType: NONE,
	fixed: !1,
	density: 0.7,
	restitution: 0.1,
	friction: 0.7
},
{
	name: "elem28",
	image: "elem28.png",
	type: NONE,
	width: 75,
	height: 40,
	bodyWidth: 75,
	bodyHeight: 40,
	iconWidth: 19,
	iconHeight: 25,
	frames: 1,
	bodyType: NONE,
	fixed: !1,
	density: 0.7,
	restitution: 0.1,
	friction: 0.7
},
{
	name: "text11",
	image: "text11.png",
	type: TEXT1,
	width: 162,
	height: 72,
	bodyWidth: 162,
	bodyHeight: 72,
	iconWidth: 19,
	iconHeight: 25,
	frames: 1,
	bodyType: NONE,
	fixed: !1,
	density: 0.7,
	restitution: 0.1,
	friction: 0.7,
	water: !0
},
{
	name: "text12",
	image: "text12.png",
	type: TEXT,
	width: 281,
	height: 20,
	bodyWidth: 281,
	bodyHeight: 20,
	iconWidth: 19,
	iconHeight: 25,
	frames: 1,
	bodyType: NONE,
	fixed: !1,
	density: 0.7,
	restitution: 0.1,
	friction: 0.7
},
{
	name: "text13",
	image: "text13.png",
	type: TEXT1,
	width: 115,
	height: 97,
	bodyWidth: 115,
	bodyHeight: 97,
	iconWidth: 19,
	iconHeight: 25,
	frames: 1,
	bodyType: NONE,
	fixed: !1,
	density: 0.7,
	restitution: 0.1,
	friction: 0.7,
	water: !0
},
{
	name: "text14",
	image: "text14.png",
	type: TEXT1,
	width: 87,
	height: 114,
	bodyWidth: 87,
	bodyHeight: 114,
	iconWidth: 19,
	iconHeight: 25,
	frames: 1,
	bodyType: NONE,
	fixed: !1,
	density: 0.7,
	restitution: 0.1,
	friction: 0.7,
	water: !0
},
{
	name: "text15",
	image: "text15.png",
	type: TEXT1,
	width: 88,
	height: 92,
	bodyWidth: 88,
	bodyHeight: 92,
	iconWidth: 19,
	iconHeight: 25,
	frames: 1,
	bodyType: NONE,
	fixed: !1,
	density: 0.7,
	restitution: 0.1,
	friction: 0.7,
	water: !0
},
{
	name: "text16",
	image: "text16.png",
	type: TEXT,
	width: 52,
	height: 52,
	bodyWidth: 52,
	bodyHeight: 52,
	iconWidth: 19,
	iconHeight: 25,
	frames: 1,
	bodyType: NONE,
	fixed: !1,
	density: 0.7,
	restitution: 0.1,
	friction: 0.7
},
{
	name: "text17",
	image: "text17.png",
	type: TEXT,
	width: 251,
	height: 152,
	bodyWidth: 251,
	bodyHeight: 152,
	iconWidth: 19,
	iconHeight: 25,
	frames: 1,
	bodyType: NONE,
	fixed: !1,
	density: 0.7,
	restitution: 0.1,
	friction: 0.7
},
{
	name: "text18",
	image: "text18.png",
	type: TEXT1,
	width: 173,
	height: 89,
	bodyWidth: 173,
	bodyHeight: 89,
	iconWidth: 19,
	iconHeight: 25,
	frames: 1,
	bodyType: NONE,
	fixed: !1,
	density: 0.7,
	restitution: 0.1,
	friction: 0.7,
	water: !0
},
{
	name: "text19",
	image: "text19.png",
	type: TEXT,
	width: 212,
	height: 74,
	bodyWidth: 212,
	bodyHeight: 74,
	iconWidth: 19,
	iconHeight: 25,
	frames: 1,
	bodyType: NONE,
	fixed: !1,
	density: 0.7,
	restitution: 0.1,
	friction: 0.7
},
{
	name: "text20",
	image: "text20.png",
	type: TEXT,
	width: 150,
	height: 95,
	bodyWidth: 150,
	bodyHeight: 95,
	iconWidth: 19,
	iconHeight: 25,
	frames: 1,
	bodyType: NONE,
	fixed: !1,
	density: 0.7,
	restitution: 0.1,
	friction: 0.7
},
{
	name: "elem29",
	image: "elem29.png",
	type: NONE,
	width: 16,
	height: 16,
	bodyWidth: 16,
	bodyHeight: 16,
	iconWidth: 19,
	iconHeight: 25,
	frames: 1,
	bodyType: NONE,
	fixed: !1,
	density: 0.7,
	restitution: 0.1,
	friction: 0.7
},
{
	name: "elem30",
	image: "elem30.png",
	type: NONE,
	width: 16,
	height: 11,
	bodyWidth: 16,
	bodyHeight: 11,
	iconWidth: 19,
	iconHeight: 25,
	frames: 1,
	bodyType: NONE,
	fixed: !1,
	density: 0.7,
	restitution: 0.1,
	friction: 0.7
},
{
	name: "elem31",
	image: "elem31.png",
	type: NONE,
	width: 11,
	height: 16,
	bodyWidth: 11,
	bodyHeight: 16,
	iconWidth: 19,
	iconHeight: 25,
	frames: 1,
	bodyType: NONE,
	fixed: !1,
	density: 0.7,
	restitution: 0.1,
	friction: 0.7
},
{
	name: "waterelement",
	image: "waterelement.png",
	type: NONE,
	width: 58,
	height: 48,
	bodyWidth: 58,
	bodyHeight: 48,
	iconWidth: 19,
	iconHeight: 25,
	frames: 6,
	bodyType: NONE,
	fixed: !1,
	density: 0.7,
	restitution: 0.1,
	friction: 0.7,
	water: !0
},
{
	name: "water_copy",
	image: "water_copy.png",
	type: NONE,
	width: 378,
	height: 28,
	bodyWidth: 378,
	bodyHeight: 28,
	iconWidth: 19,
	iconHeight: 25,
	frames: 20,
	bodyType: NONE,
	fixed: !1,
	density: 0.7,
	restitution: 0.1,
	friction: 0.7,
	water: !0
}],
levels = [{
	background: 2,
	queue: [{
		type: "box1",
		rotation: 0
	},
	{
		type: "box1",
		rotation: 0
	},
	{
		type: "ladder",
		rotation: 1.5707963267948966
	}],
	objects: [{
		type: "unit",
		x: 157,
		y: 263,
		rotation: 0
	},
	{
		type: "column1",
		x: 56,
		y: 437,
		rotation: 0
	},
	{
		type: "column1",
		x: 6,
		y: 347,
		rotation: 0
	},
	{
		type: "column1",
		x: 56,
		y: 347,
		rotation: 0
	},
	{
		type: "brick4",
		x: 67,
		y: 282,
		rotation: 0,
		density: 0
	},
	{
		type: "brick4",
		x: 43,
		y: 282,
		rotation: 0,
		density: 0
	},
	{
		type: "brick4",
		x: 18,
		y: 282,
		rotation: 0,
		density: 0
	},
	{
		type: "brick4",
		x: -7,
		y: 282,
		rotation: 0,
		density: 0
	},
	{
		type: "brick4",
		x: 68,
		y: 295,
		rotation: 0,
		density: 0
	},
	{
		type: "brick4",
		x: 43,
		y: 295,
		rotation: 0,
		density: 0
	},
	{
		type: "brick4",
		x: 18,
		y: 295,
		rotation: 0,
		density: 0
	},
	{
		type: "brick4",
		x: -7,
		y: 295,
		rotation: 0,
		density: 0
	},
	{
		type: "stick3",
		x: 160,
		y: 282,
		rotation: 0
	},
	{
		type: "column1",
		x: 5,
		y: 437,
		rotation: 0
	},
	{
		type: "brick4",
		x: 252,
		y: 282,
		rotation: 0,
		density: 0
	},
	{
		type: "brick4",
		x: 277,
		y: 282,
		rotation: 0,
		density: 0
	},
	{
		type: "brick4",
		x: 302,
		y: 282,
		rotation: 0,
		density: 0
	},
	{
		type: "brick4",
		x: 252,
		y: 295,
		rotation: 0,
		density: 0
	},
	{
		type: "brick4",
		x: 277,
		y: 295,
		rotation: 0,
		density: 0
	},
	{
		type: "brick4",
		x: 302,
		y: 295,
		rotation: 0,
		density: 0
	},
	{
		type: "column1",
		x: 265,
		y: 346,
		rotation: 0
	},
	{
		type: "column1",
		x: 315,
		y: 346,
		rotation: 0
	},
	{
		type: "column1",
		x: 265,
		y: 435,
		rotation: 0
	},
	{
		type: "column1",
		x: 315,
		y: 435,
		rotation: 0
	},
	{
		type: "brick4",
		x: 327,
		y: 295,
		rotation: 0,
		density: 0
	},
	{
		type: "brick4",
		x: 327,
		y: 282,
		rotation: 0,
		density: 0
	},
	{
		type: "elem26",
		x: 300,
		y: 260,
		rotation: 0
	},
	{
		type: "elem13",
		x: 19,
		y: 252,
		rotation: 0
	},
	{
		type: "elem13",
		x: 27,
		y: 268,
		rotation: 0
	},
	{
		type: "elem13",
		x: 11,
		y: 268,
		rotation: 0
	},
	{
		type: "elem11",
		x: 304,
		y: 52,
		rotation: 0
	},
	{
		type: "elem15",
		x: 303,
		y: 95,
		rotation: 0
	},
	{
		type: "elem18",
		x: 47,
		y: 270,
		rotation: 0
	},
	{
		type: "elem17",
		x: 77,
		y: 270,
		rotation: 0
	},
	{
		type: "elem16",
		x: 252,
		y: 270,
		rotation: 0
	},
	{
		type: "elem17",
		x: 273,
		y: 270,
		rotation: 0
	},
	{
		type: "text12",
		x: 159,
		y: 139,
		rotation: 0
	},
	{
		type: "text11",
		x: 110,
		y: 84,
		rotation: 0
	},
	{
		type: "text13",
		x: 62,
		y: 161,
		rotation: 0
	},
	{
		type: "text15",
		x: 251,
		y: 159,
		rotation: 0
	},
	{
		type: "text14",
		x: 155,
		y: 166,
		rotation: 0
	},
	{
		type: "elem11",
		x: 304,
		y: -6,
		rotation: 0
	},
	{
		type: "water_copy",
		x: 159,
		y: 467,
		rotation: 0
	},
	{
		type: "text18",
		x: 158,
		y: 348,
		rotation: 0
	}],
	joints: []
},
{
	background: 3,
	queue: [{
		type: "circle1",
		rotation: 1.5707963267948966
	},
	{
		type: "box2",
		rotation: 1.5707963267948966
	}],
	objects: [{
		type: "cross2",
		x: 116,
		y: 162,
		rotation: -1.7207963267948967
	},
	{
		type: "column1",
		x: 167,
		y: 274,
		rotation: 1.5707963267948966
	},
	{
		type: "stick6",
		x: 43,
		y: 184,
		rotation: 0.15000000000000002
	},
	{
		type: "unit",
		x: 162,
		y: 239,
		rotation: 0
	},
	{
		type: "column1",
		x: 278,
		y: 293,
		rotation: 0
	},
	{
		type: "corner2",
		x: 232,
		y: 316,
		rotation: 0
	},
	{
		type: "brick4",
		x: 311,
		y: 332,
		rotation: 0,
		density: 0
	},
	{
		type: "brick3",
		x: 311,
		y: 319,
		rotation: 0,
		density: 0
	},
	{
		type: "brick4",
		x: 311,
		y: 293,
		rotation: 0,
		density: 0
	},
	{
		type: "brick2",
		x: 311,
		y: 280,
		rotation: 0,
		density: 0
	},
	{
		type: "brick3",
		x: 311,
		y: 267,
		rotation: 0,
		density: 0
	},
	{
		type: "brick4",
		x: 311,
		y: 254,
		rotation: 0,
		density: 0
	},
	{
		type: "brick2",
		x: 311,
		y: 306,
		rotation: 0,
		density: 0
	},
	{
		type: "column1",
		x: 278,
		y: 473,
		rotation: 0
	},
	{
		type: "column1",
		x: 278,
		y: 383,
		rotation: 0
	},
	{
		type: "brick4",
		x: 311,
		y: 423,
		rotation: 0,
		density: 0
	},
	{
		type: "brick3",
		x: 311,
		y: 410,
		rotation: 0,
		density: 0
	},
	{
		type: "brick2",
		x: 311,
		y: 397,
		rotation: 0,
		density: 0
	},
	{
		type: "brick3",
		x: 311,
		y: 384,
		rotation: 0,
		density: 0
	},
	{
		type: "brick4",
		x: 311,
		y: 358,
		rotation: 0,
		density: 0
	},
	{
		type: "brick3",
		x: 311,
		y: 345,
		rotation: 0,
		density: 0
	},
	{
		type: "brick2",
		x: 311,
		y: 371,
		rotation: 0,
		density: 0
	},
	{
		type: "brick2",
		x: 311,
		y: 436,
		rotation: 0,
		density: 0
	},
	{
		type: "brick3",
		x: 311,
		y: 449,
		rotation: 0,
		density: 0
	},
	{
		type: "brick2",
		x: 311,
		y: 462,
		rotation: 0,
		density: 0
	},
	{
		type: "brick2",
		x: 311,
		y: 475,
		rotation: 0,
		density: 0
	},
	{
		type: "column1",
		x: 167,
		y: 309,
		rotation: 1.5707963267948966
	},
	{
		type: "stick5",
		x: 184,
		y: 336,
		rotation: 0
	},
	{
		type: "stick3",
		x: 175,
		y: 394,
		rotation: 0.7853981633974483
	},
	{
		type: "stick6",
		x: 252,
		y: 471,
		rotation: 0.7853981633974483
	},
	{
		type: "stick6",
		x: 216,
		y: 407,
		rotation: 0
	},
	{
		type: "stick6",
		x: 231,
		y: 362,
		rotation: -0.7853981633974483
	},
	{
		type: "stick7",
		x: 200,
		y: 392,
		rotation: -0.7853981633974483
	},
	{
		type: "stick6",
		x: 187,
		y: 370,
		rotation: 1.5707963267948966
	},
	{
		type: "stick8",
		x: 249,
		y: 407,
		rotation: 0
	},
	{
		type: "stick7",
		x: -5,
		y: 180,
		rotation: 0
	},
	{
		type: "stick7",
		x: 68,
		y: 205,
		rotation: 1.5707963267948966
	},
	{
		type: "stick5",
		x: 2,
		y: 221,
		rotation: 0
	},
	{
		type: "elem2",
		x: 28,
		y: 200,
		rotation: 0
	},
	{
		type: "elem12",
		x: 84,
		y: 384,
		rotation: 0
	},
	{
		type: "elem1",
		x: 289,
		y: 233,
		rotation: 0
	},
	{
		type: "water_copy",
		x: 110,
		y: 469,
		rotation: 0
	},
	{
		type: "poly1",
		x: 74,
		y: 178,
		rotation: 0,
		density: 0.1
	}],
	joints: [{
		type: 0,
		point1: {
			x: 151,
			y: 158
		}
	}]
},
{
	background: 1,
	queue: [{
		type: "circle2",
		rotation: 1.5707963267948966
	},
	{
		type: "circle2",
		rotation: 0
	},
	{
		type: "box2",
		rotation: 1.5707963267948966
	}],
	objects: [{
		type: "column1",
		x: 130,
		y: 305,
		rotation: 0
	},
	{
		type: "column1",
		x: 213,
		y: 305,
		rotation: 0
	},
	{
		type: "unit",
		x: 171,
		y: 336,
		rotation: 0
	},
	{
		type: "stick5",
		x: 172,
		y: 355,
		rotation: 0
	},
	{
		type: "stick5",
		x: 172,
		y: 385,
		rotation: 0
	},
	{
		type: "stick7",
		x: 106,
		y: 370,
		rotation: 1.5707963267948966
	},
	{
		type: "stick7",
		x: 237,
		y: 370,
		rotation: 1.5707963267948966
	},
	{
		type: "stick7",
		x: 127,
		y: 369,
		rotation: -0.7853981633974483
	},
	{
		type: "stick7",
		x: 156,
		y: 370,
		rotation: 0.7853981633974483
	},
	{
		type: "stick7",
		x: 190,
		y: 370,
		rotation: -0.7853981633974483
	},
	{
		type: "stick7",
		x: 218,
		y: 369,
		rotation: 0.7853981633974483
	},
	{
		type: "stick5",
		x: 197,
		y: 494,
		rotation: 1.5707963267948966
	},
	{
		type: "stick5",
		x: 145,
		y: 494,
		rotation: 1.5707963267948966
	},
	{
		type: "elem18",
		x: 214,
		y: 253,
		rotation: 0
	},
	{
		type: "unit",
		x: 210,
		y: 246,
		rotation: 0
	},
	{
		type: "unit",
		x: 132,
		y: 246,
		rotation: 0
	},
	{
		type: "stick6",
		x: 171,
		y: 450,
		rotation: 0
	},
	{
		type: "stick6",
		x: 126,
		y: 406,
		rotation: 0.7853981633974483
	},
	{
		type: "stick6",
		x: 217,
		y: 406,
		rotation: -0.7853981633974483
	},
	{
		type: "stick6",
		x: 170,
		y: 429,
		rotation: 0
	},
	{
		type: "stick5",
		x: 171,
		y: 494,
		rotation: 1.5707963267948966
	},
	{
		type: "stick6",
		x: 171,
		y: 474,
		rotation: 0
	},
	{
		type: "stick6",
		x: 158,
		y: 407,
		rotation: 0
	},
	{
		type: "stick7",
		x: 199,
		y: 407,
		rotation: 0
	},
	{
		type: "stick8",
		x: 173,
		y: 395,
		rotation: 1.5707963267948966
	},
	{
		type: "stick8",
		x: 140,
		y: 396,
		rotation: 1.5707963267948966
	},
	{
		type: "stick8",
		x: 182,
		y: 419,
		rotation: 1.5707963267948966
	},
	{
		type: "stick8",
		x: 160,
		y: 419,
		rotation: 1.5707963267948966
	},
	{
		type: "stick8",
		x: 202,
		y: 397,
		rotation: 1.5707963267948966
	},
	{
		type: "poly5",
		x: 82,
		y: 429,
		rotation: -1.5707963267948966,
		density: 0
	},
	{
		type: "box4",
		x: 89,
		y: 463,
		rotation: 1.5707963267948966,
		density: 0
	},
	{
		type: "poly11",
		x: 297,
		y: 359,
		rotation: 0,
		density: 0
	},
	{
		type: "box11",
		x: 298,
		y: 387,
		rotation: 0,
		density: 0
	},
	{
		type: "box11",
		x: 298,
		y: 411,
		rotation: 0,
		density: 0
	},
	{
		type: "box10",
		x: 279,
		y: 398,
		rotation: 1.5707963267948966,
		density: 0
	},
	{
		type: "box10",
		x: 304,
		y: 398,
		rotation: 1.5707963267948966,
		density: 0
	},
	{
		type: "column1",
		x: 331,
		y: 462,
		rotation: 0
	},
	{
		type: "poly7",
		x: 32,
		y: 414,
		rotation: 0
	},
	{
		type: "elem12",
		x: 243,
		y: 43,
		rotation: 0
	},
	{
		type: "water_copy",
		x: 159,
		y: 468,
		rotation: 0
	}],
	joints: []
},
{
	background: 2,
	queue: [{
		type: "box1",
		rotation: 1.5707963267948966
	},
	{
		type: "circle4",
		rotation: 0
	},
	{
		type: "box1",
		rotation: 1.5707963267948966
	}],
	objects: [{
		type: "unit",
		x: 68,
		y: 184,
		rotation: 0
	},
	{
		type: "stick7",
		x: 134,
		y: 241,
		rotation: 0
	},
	{
		type: "stick7",
		x: 151,
		y: 259,
		rotation: 1.5707963267948966
	},
	{
		type: "stick6",
		x: 316,
		y: 215,
		rotation: 1.5707963267948966
	},
	{
		type: "stick6",
		x: 96,
		y: 222,
		rotation: 0.7853981633974483
	},
	{
		type: "stick7",
		x: 214,
		y: 257,
		rotation: 1.5707963267948966
	},
	{
		type: "stick5",
		x: 280,
		y: 241,
		rotation: 0
	},
	{
		type: "stick6",
		x: 291,
		y: 188,
		rotation: -0.2617993877991494
	},
	{
		type: "water",
		x: 196,
		y: 256,
		rotation: 0
	},
	{
		type: "water",
		x: 169,
		y: 256,
		rotation: 0
	},
	{
		type: "stick6",
		x: 182,
		y: 274,
		rotation: 0
	},
	{
		type: "stick3",
		x: -2,
		y: 202,
		rotation: 0
	},
	{
		type: "elem28",
		x: 256,
		y: 266,
		rotation: 0
	},
	{
		type: "elem28",
		x: 330,
		y: 266,
		rotation: 0
	},
	{
		type: "elem28",
		x: 256,
		y: 305,
		rotation: 0
	},
	{
		type: "elem28",
		x: 330,
		y: 305,
		rotation: 0
	},
	{
		type: "elem28",
		x: 256,
		y: 461,
		rotation: 0
	},
	{
		type: "elem28",
		x: 256,
		y: 422,
		rotation: 0
	},
	{
		type: "elem28",
		x: 256,
		y: 383,
		rotation: 0
	},
	{
		type: "elem28",
		x: 256,
		y: 344,
		rotation: 0
	},
	{
		type: "elem28",
		x: 330,
		y: 461,
		rotation: 0
	},
	{
		type: "elem28",
		x: 330,
		y: 422,
		rotation: 0
	},
	{
		type: "elem28",
		x: 330,
		y: 383,
		rotation: 0
	},
	{
		type: "elem28",
		x: 330,
		y: 344,
		rotation: 0
	},
	{
		type: "box11",
		x: 203,
		y: 389,
		rotation: 1.5707963267948966
	},
	{
		type: "stick5",
		x: 214,
		y: 434,
		rotation: 1.5707963267948966
	},
	{
		type: "box9",
		x: 295,
		y: 455,
		rotation: 0
	},
	{
		type: "elem15",
		x: 244,
		y: 463,
		rotation: 0
	},
	{
		type: "elem15",
		x: 233,
		y: 431,
		rotation: 0
	},
	{
		type: "elem14",
		x: 257,
		y: 437,
		rotation: 0
	},
	{
		type: "elem14",
		x: 239,
		y: 406,
		rotation: 0
	},
	{
		type: "elem25",
		x: 263,
		y: 347,
		rotation: 0
	},
	{
		type: "elem11",
		x: 263,
		y: 296,
		rotation: 0
	},
	{
		type: "box11",
		x: 295,
		y: 263,
		rotation: 0
	},
	{
		type: "box12",
		x: 264,
		y: 263,
		rotation: 0
	},
	{
		type: "box11",
		x: 203,
		y: 439,
		rotation: 1.5707963267948966
	},
	{
		type: "box11",
		x: 203,
		y: 489,
		rotation: 1.5707963267948966
	},
	{
		type: "poly14",
		x: 295,
		y: 417,
		rotation: 0
	},
	{
		type: "stick7",
		x: 214,
		y: 296,
		rotation: 1.5707963267948966
	},
	{
		type: "stick5",
		x: 11,
		y: 359,
		rotation: 0
	},
	{
		type: "stick5",
		x: 149,
		y: 359,
		rotation: 0
	},
	{
		type: "stick5",
		x: 0,
		y: 411,
		rotation: -0.7853981633974483
	},
	{
		type: "stick6",
		x: 266,
		y: 167,
		rotation: 1.5707963267948966
	},
	{
		type: "stick6",
		x: 293,
		y: 139,
		rotation: 0
	},
	{
		type: "elem13",
		x: 279,
		y: 161,
		rotation: -0.3
	},
	{
		type: "elem13",
		x: 295,
		y: 173,
		rotation: -0.3
	},
	{
		type: "elem13",
		x: 280,
		y: 177,
		rotation: -0.3
	},
	{
		type: "elem16",
		x: 12,
		y: 191,
		rotation: 0
	},
	{
		type: "elem17",
		x: 33,
		y: 191,
		rotation: 0
	},
	{
		type: "water_copy",
		x: 30,
		y: 467,
		rotation: 0
	},
	{
		type: "poly18",
		x: 54,
		y: 321,
		rotation: 0
	}],
	joints: []
},
{
	background: 2,
	queue: [{
		type: "box2",
		rotation: 1.5707963267948966
	}],
	objects: [{
		type: "stick3",
		x: 240,
		y: 322,
		rotation: 0,
		restitution: 0
	},
	{
		type: "unit",
		x: 212,
		y: 302,
		rotation: 0
	},
	{
		type: "punch_button",
		x: 274,
		y: 264,
		rotation: 0
	},
	{
		type: "punch2",
		x: 13,
		y: 288,
		rotation: 1.5707963267948966
	},
	{
		type: "column1",
		x: 274,
		y: 292,
		rotation: 1.5707963267948966,
		restitution: 0
	},
	{
		type: "stick3",
		x: 80,
		y: 322,
		rotation: 0
	},
	{
		type: "box2",
		x: 57,
		y: 289,
		rotation: 0,
		density: 0.3
	},
	{
		type: "elem12",
		x: 267,
		y: 370,
		rotation: 0
	},
	{
		type: "stick6",
		x: 262,
		y: 471,
		rotation: 1.5707963267948966
	},
	{
		type: "stick3",
		x: 186,
		y: 436,
		rotation: 0
	},
	{
		type: "stick5",
		x: 36,
		y: 436,
		rotation: 0
	},
	{
		type: "box14",
		x: 71,
		y: 461,
		rotation: 0
	},
	{
		type: "box14",
		x: 145,
		y: 461,
		rotation: 0
	},
	{
		type: "box14",
		x: 219,
		y: 461,
		rotation: 0
	},
	{
		type: "box14",
		x: -3,
		y: 461,
		rotation: 0
	},
	{
		type: "circle6",
		x: 47,
		y: 381,
		rotation: -0.44999999999999996
	},
	{
		type: "elem10",
		x: 48,
		y: 368,
		rotation: 0
	},
	{
		type: "elem10",
		x: 48,
		y: 341,
		rotation: 0
	},
	{
		type: "text17",
		x: 192,
		y: 192,
		rotation: 0
	},
	{
		type: "water_copy",
		x: 456,
		y: 469,
		rotation: 0
	}],
	joints: []
},
{
	background: 2,
	queue: [{
		type: "circle3",
		rotation: 0
	},
	{
		type: "circle3",
		rotation: 0
	},
	{
		type: "triangle1",
		rotation: 0
	}],
	objects: [{
		type: "stick2",
		x: 227,
		y: 217,
		rotation: 0
	},
	{
		type: "stick2",
		x: 94,
		y: 217,
		rotation: 0
	},
	{
		type: "stick7",
		x: 235,
		y: 208,
		rotation: 0
	},
	{
		type: "stick7",
		x: 235,
		y: 225,
		rotation: 0
	},
	{
		type: "stick7",
		x: 90,
		y: 208,
		rotation: 0
	},
	{
		type: "stick7",
		x: 90,
		y: 225,
		rotation: 0
	},
	{
		type: "stick3",
		x: 5,
		y: 272,
		rotation: 1.5707963267948966
	},
	{
		type: "stick5",
		x: 75,
		y: 348,
		rotation: 0
	},
	{
		type: "box11",
		x: 167,
		y: 393,
		rotation: 0
	},
	{
		type: "elem13",
		x: 237,
		y: 195,
		rotation: 0
	},
	{
		type: "elem13",
		x: 239,
		y: 180,
		rotation: 0
	},
	{
		type: "elem14",
		x: 82,
		y: 193,
		rotation: 0
	},
	{
		type: "box11",
		x: 117,
		y: 393,
		rotation: 0
	},
	{
		type: "box11",
		x: 217,
		y: 393,
		rotation: 0
	},
	{
		type: "elem7",
		x: 284,
		y: 318,
		rotation: 1.5707963267948966
	},
	{
		type: "elem4",
		x: 86,
		y: 449,
		rotation: 0
	},
	{
		type: "elem4",
		x: 120,
		y: 449,
		rotation: 0
	},
	{
		type: "elem4",
		x: 154,
		y: 449,
		rotation: 0
	},
	{
		type: "elem4",
		x: 187,
		y: 449,
		rotation: 0
	},
	{
		type: "elem4",
		x: 221,
		y: 449,
		rotation: 0
	},
	{
		type: "elem4",
		x: 255,
		y: 449,
		rotation: 0
	},
	{
		type: "elem4",
		x: 284,
		y: 420,
		rotation: 1.5707963267948966
	},
	{
		type: "elem4",
		x: 284,
		y: 386,
		rotation: 1.5707963267948966
	},
	{
		type: "elem4",
		x: 284,
		y: 352,
		rotation: 1.5707963267948966
	},
	{
		type: "elem4",
		x: 312,
		y: 290,
		rotation: 0
	},
	{
		type: "elem5",
		x: 288,
		y: 294,
		rotation: -3.141592653589793
	},
	{
		type: "elem5",
		x: 280,
		y: 445,
		rotation: 0
	},
	{
		type: "elem4",
		x: 18,
		y: 449,
		rotation: 0
	},
	{
		type: "elem4",
		x: 52,
		y: 449,
		rotation: 0
	},
	{
		type: "column1",
		x: 167,
		y: 444,
		rotation: 0
	},
	{
		type: "stick6",
		x: 26,
		y: 369,
		rotation: 0.7853981633974483
	},
	{
		type: "stick6",
		x: 295,
		y: 369,
		rotation: -0.7853981633974483
	},
	{
		type: "box11",
		x: 68,
		y: 393,
		rotation: 0
	},
	{
		type: "box11",
		x: 253,
		y: 393,
		rotation: 0
	},
	{
		type: "stick3",
		x: 259,
		y: 348,
		rotation: 0
	},
	{
		type: "column1",
		x: 167,
		y: 342,
		rotation: 0
	},
	{
		type: "stick5",
		x: 315,
		y: 272,
		rotation: 1.5707963267948966
	},
	{
		type: "unit",
		x: 167,
		y: 282,
		rotation: 0
	},
	{
		type: "poly3",
		x: 94,
		y: 373,
		rotation: 0
	},
	{
		type: "poly3",
		x: 233,
		y: 373,
		rotation: 0
	},
	{
		type: "water_copy",
		x: 173,
		y: 468,
		rotation: 0
	}],
	joints: []
},
{
	background: 2,
	queue: [{
		type: "box2",
		rotation: 1.5707963267948966
	},
	{
		type: "box2",
		rotation: 1.5707963267948966
	}],
	objects: [{
		type: "stick3",
		x: 308,
		y: 370,
		rotation: 0
	},
	{
		type: "unit",
		x: 267,
		y: 317,
		rotation: 0
	},
	{
		type: "punch_button",
		x: 242,
		y: 361,
		rotation: 0
	},
	{
		type: "stick6",
		x: 95,
		y: 314,
		rotation: 1.5707963267948966
	},
	{
		type: "stick6",
		x: 119,
		y: 348,
		rotation: 0
	},
	{
		type: "punch2",
		x: 275,
		y: 333,
		rotation: 0
	},
	{
		type: "stick6",
		x: 68,
		y: 289,
		rotation: 0
	},
	{
		type: "stick8",
		x: 30,
		y: 289,
		rotation: 0
	},
	{
		type: "box14",
		x: 112,
		y: 460,
		rotation: 0
	},
	{
		type: "box14",
		x: 37,
		y: 460,
		rotation: 0
	},
	{
		type: "box14",
		x: 37,
		y: 422,
		rotation: 0
	},
	{
		type: "stick5",
		x: 145,
		y: 354,
		rotation: 1.5707963267948966
	},
	{
		type: "box14",
		x: 112,
		y: 422,
		rotation: 0
	},
	{
		type: "box11",
		x: 303,
		y: 381,
		rotation: 0
	},
	{
		type: "box11",
		x: 253,
		y: 381,
		rotation: 0
	},
	{
		type: "poly12",
		x: 109,
		y: 391,
		rotation: 1.8000000000000007
	},
	{
		type: "poly12",
		x: 71,
		y: 388,
		rotation: 4.09867228626928
	},
	{
		type: "stick6",
		x: 26,
		y: 317,
		rotation: 1.5707963267948966
	},
	{
		type: "stick6",
		x: 1,
		y: 348,
		rotation: 0
	},
	{
		type: "poly2",
		x: 60,
		y: 321,
		rotation: 0.7853981633974483
	},
	{
		type: "elem9",
		x: 60,
		y: 308,
		rotation: 0
	},
	{
		type: "water_copy",
		x: 338,
		y: 467,
		rotation: 0
	}],
	joints: []
},
{
	background: 1,
	queue: [{
		type: "circle4",
		rotation: 0
	}],
	objects: [{
		type: "corner2",
		x: 88,
		y: 288,
		rotation: 0
	},
	{
		type: "unit",
		x: 58,
		y: 250,
		rotation: 0
	},
	{
		type: "stick5",
		x: 118,
		y: 311,
		rotation: 0
	},
	{
		type: "girder_button",
		x: 287,
		y: 265,
		rotation: 0
	},
	{
		type: "girder_mech",
		x: 266,
		y: 294,
		rotation: 0
	},
	{
		type: "stick7",
		x: 183,
		y: 328,
		rotation: 1.5707963267948966
	},
	{
		type: "stick7",
		x: 228,
		y: 328,
		rotation: 1.5707963267948966
	},
	{
		type: "stick7",
		x: 205,
		y: 353,
		rotation: 0
	},
	{
		type: "stick5",
		x: 294,
		y: 311,
		rotation: 0
	},
	{
		type: "column1",
		x: 22,
		y: 290,
		rotation: 1.5707963267948966
	},
	{
		type: "stick6",
		x: 164,
		y: 370,
		rotation: -0.7853981633974483
	},
	{
		type: "stick6",
		x: 246,
		y: 370,
		rotation: 0.7853981633974483
	},
	{
		type: "stick5",
		x: 205,
		y: 394,
		rotation: 0
	},
	{
		type: "stick8",
		x: 266,
		y: 280,
		rotation: 1.5707963267948966
	},
	{
		type: "stick6",
		x: 292,
		y: 277,
		rotation: 0
	},
	{
		type: "stick5",
		x: 140,
		y: 462,
		rotation: 1.5707963267948966
	},
	{
		type: "stick5",
		x: 270,
		y: 462,
		rotation: 1.5707963267948966
	},
	{
		type: "stick3",
		x: 203,
		y: 445,
		rotation: -0.6
	},
	{
		type: "stick3",
		x: 208,
		y: 445,
		rotation: 0.6353981633974481
	},
	{
		type: "elem12",
		x: 76,
		y: 360,
		rotation: 0
	},
	{
		type: "stick3",
		x: 23,
		y: 367,
		rotation: -0.7853981633974483
	},
	{
		type: "stick5",
		x: 0,
		y: 311,
		rotation: 0
	},
	{
		type: "elem1",
		x: 205,
		y: 375,
		rotation: 0
	},
	{
		type: "elem12",
		x: 335,
		y: 360,
		rotation: 0
	},
	{
		type: "text17",
		x: 205,
		y: 192,
		rotation: 0
	},
	{
		type: "water_copy",
		x: 161,
		y: 467,
		rotation: 0
	}],
	joints: []
},
{
	background: 1,
	queue: [{
		type: "circle1",
		rotation: 0
	},
	{
		type: "circle1",
		rotation: 0
	},
	{
		type: "circle4",
		rotation: 3.141592653589793
	},
	{
		type: "ladder",
		rotation: 1.5707963267948966
	}],
	objects: [{
		type: "unit",
		x: 271,
		y: 202,
		rotation: 0
	},
	{
		type: "stick5",
		x: 3,
		y: 319,
		rotation: 0.1
	},
	{
		type: "stick5",
		x: 300,
		y: 319,
		rotation: -0.1
	},
	{
		type: "stick7",
		x: 160,
		y: 327,
		rotation: 0
	},
	{
		type: "stick5",
		x: 313,
		y: 226,
		rotation: 0
	},
	{
		type: "stick2",
		x: 258,
		y: 218,
		rotation: 0
	},
	{
		type: "stick8",
		x: 131,
		y: 327,
		rotation: 0
	},
	{
		type: "stick7",
		x: 161,
		y: 342,
		rotation: -0.7853981633974483
	},
	{
		type: "box11",
		x: 151,
		y: 423,
		rotation: 1.5707963267948966
	},
	{
		type: "stick7",
		x: 142,
		y: 341,
		rotation: 0.7853981633974483
	},
	{
		type: "box11",
		x: 151,
		y: 373,
		rotation: 1.5707963267948966
	},
	{
		type: "box11",
		x: 151,
		y: 473,
		rotation: 1.5707963267948966
	},
	{
		type: "stick3",
		x: 67,
		y: 404,
		rotation: 1.5707963267948966
	},
	{
		type: "stick3",
		x: 236,
		y: 403,
		rotation: 1.5707963267948966
	},
	{
		type: "poly17",
		x: 284,
		y: 421,
		rotation: 0.7853981633974483
	},
	{
		type: "poly17",
		x: 266,
		y: 397,
		rotation: 0.5499999999999999
	},
	{
		type: "elem18",
		x: 145,
		y: 315,
		rotation: 0
	},
	{
		type: "elem17",
		x: 176,
		y: 315,
		rotation: 0
	},
	{
		type: "circle5",
		x: 30,
		y: 416,
		rotation: -0.15000000000000002
	},
	{
		type: "water_copy",
		x: 156,
		y: 470,
		rotation: 0
	},
	{
		type: "box14",
		x: 26,
		y: 468,
		rotation: 0
	},
	{
		type: "box14",
		x: 278,
		y: 466,
		rotation: 0
	},
	{
		type: "box14",
		x: 351,
		y: 466,
		rotation: 0
	}],
	joints: []
},
{
	background: 1,
	queue: [{
		type: "box2",
		rotation: 0
	},
	{
		type: "box2",
		rotation: 0
	},
	{
		type: "box2",
		rotation: 1.5707963267948966
	}],
	objects: [{
		type: "stick3",
		x: 244,
		y: 311,
		rotation: 0
	},
	{
		type: "unit",
		x: 47,
		y: 311,
		rotation: 0
	},
	{
		type: "punch2",
		x: 43,
		y: 331,
		rotation: 0
	},
	{
		type: "punch_button",
		x: 13,
		y: 274,
		rotation: 0
	},
	{
		type: "stick6",
		x: -4,
		y: 285,
		rotation: 0
	},
	{
		type: "stick6",
		x: 30,
		y: 379,
		rotation: 0
	},
	{
		type: "stick6",
		x: 30,
		y: 369,
		rotation: 0
	},
	{
		type: "stick5",
		x: 106,
		y: 346,
		rotation: -0.5235987755982988
	},
	{
		type: "box9",
		x: 24,
		y: 457,
		rotation: 0
	},
	{
		type: "box9",
		x: 25,
		y: 408,
		rotation: 0
	},
	{
		type: "stick5",
		x: 55,
		y: 446,
		rotation: 1.5707963267948966
	},
	{
		type: "poly5",
		x: 169,
		y: 383,
		rotation: 3.141592653589793
	},
	{
		type: "box6",
		x: 220,
		y: 376,
		rotation: 0
	},
	{
		type: "elem10",
		x: 254,
		y: 352,
		rotation: 0
	},
	{
		type: "stick3",
		x: 210,
		y: 332,
		rotation: 0
	},
	{
		type: "stick7",
		x: 309,
		y: 332,
		rotation: 0
	},
	{
		type: "stick8",
		x: 209,
		y: 322,
		rotation: 1.5707963267948966
	},
	{
		type: "stick8",
		x: 272,
		y: 322,
		rotation: 1.5707963267948966
	},
	{
		type: "elem10",
		x: 187,
		y: 352,
		rotation: 0
	},
	{
		type: "box8",
		x: 163,
		y: 427,
		rotation: 4.71238898038469
	},
	{
		type: "ball",
		x: 296,
		y: 295,
		rotation: 0
	},
	{
		type: "ball",
		x: 310,
		y: 295,
		rotation: 0
	},
	{
		type: "poly9",
		x: 288,
		y: 375,
		rotation: 0
	},
	{
		type: "water_copy",
		x: 185,
		y: 467,
		rotation: 0
	}],
	joints: []
},
{
	background: 3,
	queue: [{
		type: "circle3",
		rotation: 0
	}],
	objects: [{
		type: "unit",
		x: 162,
		y: 193,
		rotation: 0
	},
	{
		type: "column1",
		x: 46,
		y: 331,
		rotation: 1.5707963267948966
	},
	{
		type: "stick3",
		x: 167,
		y: 211,
		rotation: 0
	},
	{
		type: "teleport",
		x: 277,
		y: 247,
		rotation: 0
	},
	{
		type: "stick6",
		x: 83,
		y: 277,
		rotation: 1.5707963267948966
	},
	{
		type: "stick6",
		x: 10,
		y: 276,
		rotation: 1.5707963267948966
	},
	{
		type: "stick7",
		x: 27,
		y: 211,
		rotation: 0
	},
	{
		type: "stick7",
		x: 67,
		y: 211,
		rotation: 0
	},
	{
		type: "stick6",
		x: 27,
		y: 189,
		rotation: -0.7853981633974483
	},
	{
		type: "stick6",
		x: 64,
		y: 189,
		rotation: 0.7853981633974483
	},
	{
		type: "teleport",
		x: 37,
		y: 244,
		rotation: 0,
		custom: "1"
	},
	{
		type: "stick7",
		x: 83,
		y: 228,
		rotation: 1.5707963267948966
	},
	{
		type: "stick7",
		x: 10,
		y: 228,
		rotation: 1.5707963267948966
	},
	{
		type: "column1",
		x: 46,
		y: 430,
		rotation: 1.5707963267948966
	},
	{
		type: "column1",
		x: 46,
		y: 381,
		rotation: 1.5707963267948966
	},
	{
		type: "box14",
		x: 53,
		y: 472,
		rotation: 0
	},
	{
		type: "box14",
		x: -22,
		y: 472,
		rotation: 0
	},
	{
		type: "stick5",
		x: 148,
		y: 236,
		rotation: 0
	},
	{
		type: "stick7",
		x: 227,
		y: 224,
		rotation: -0.8000000000000002
	},
	{
		type: "text20",
		x: 175,
		y: 308,
		rotation: 0
	},
	{
		type: "elem12",
		x: 234,
		y: 44,
		rotation: 0
	},
	{
		type: "water_copy",
		x: 280,
		y: 468,
		rotation: 0
	}],
	joints: []
},
{
	background: 3,
	queue: [{
		type: "triangle1",
		rotation: 0
	},
	{
		type: "circle1",
		rotation: 0
	}],
	objects: [{
		type: "punch1",
		x: 31,
		y: 279,
		rotation: 1.5707963267948966
	},
	{
		type: "punch_button",
		x: 33,
		y: 275,
		rotation: 0
	},
	{
		type: "stick3",
		x: 71,
		y: 313,
		rotation: 0
	},
	{
		type: "stick6",
		x: 241,
		y: 301,
		rotation: 1.5707963267948966
	},
	{
		type: "stick6",
		x: 302,
		y: 302,
		rotation: 1.5707963267948966
	},
	{
		type: "stick5",
		x: 307,
		y: 327,
		rotation: 0
	},
	{
		type: "stick5",
		x: 304,
		y: 354,
		rotation: 0.4
	},
	{
		type: "stick3",
		x: 145,
		y: 391,
		rotation: 1.5707963267948966
	},
	{
		type: "stick8",
		x: 145,
		y: 478,
		rotation: 1.5707963267948966
	},
	{
		type: "column1",
		x: 5,
		y: 459,
		rotation: 1.5707963267948966
	},
	{
		type: "column1",
		x: 95,
		y: 459,
		rotation: 1.5707963267948966
	},
	{
		type: "elem7",
		x: 304,
		y: 209,
		rotation: 0
	},
	{
		type: "elem8",
		x: 273,
		y: 209,
		rotation: 0
	},
	{
		type: "elem12",
		x: -12,
		y: 361,
		rotation: 0
	},
	{
		type: "poly12",
		x: 118,
		y: 425,
		rotation: -1.950000000000001
	},
	{
		type: "poly17",
		x: 83,
		y: 411,
		rotation: 0.25
	},
	{
		type: "unit",
		x: 65,
		y: 293,
		rotation: 0,
		density: 0.3
	},
	{
		type: "elem28",
		x: 36,
		y: 19,
		rotation: 0
	},
	{
		type: "elem28",
		x: 111,
		y: 19,
		rotation: 0
	},
	{
		type: "elem28",
		x: 186,
		y: 19,
		rotation: 0
	},
	{
		type: "elem28",
		x: 261,
		y: 19,
		rotation: 0
	},
	{
		type: "elem28",
		x: 336,
		y: 18,
		rotation: 0
	},
	{
		type: "stick3",
		x: 369,
		y: 235,
		rotation: -0.5235987755982988
	},
	{
		type: "water_copy",
		x: 331,
		y: 467,
		rotation: 0
	}],
	joints: []
},
{
	background: 2,
	queue: [{
		type: "box1",
		rotation: 0
	},
	{
		type: "box1",
		rotation: 0
	},
	{
		type: "box1",
		rotation: 1.5707963267948966
	}],
	objects: [{
		type: "unit",
		x: 40,
		y: 335,
		rotation: 0
	},
	{
		type: "teleport",
		x: 249,
		y: 98,
		rotation: 0
	},
	{
		type: "teleport",
		x: 80,
		y: 98,
		rotation: 0
	},
	{
		type: "girder_mech",
		x: 166,
		y: 152,
		rotation: 0
	},
	{
		type: "girder_button",
		x: 167,
		y: 246,
		rotation: 0
	},
	{
		type: "stick3",
		x: 239,
		y: 355,
		rotation: 0
	},
	{
		type: "stick3",
		x: 79,
		y: 355,
		rotation: 0
	},
	{
		type: "teleport",
		x: 164,
		y: 333,
		rotation: 0
	},
	{
		type: "unit",
		x: 280,
		y: 335,
		rotation: 0
	},
	{
		type: "stick5",
		x: 165,
		y: 300,
		rotation: 0
	},
	{
		type: "stick5",
		x: 231,
		y: 234,
		rotation: 1.5707963267948966
	},
	{
		type: "stick5",
		x: 100,
		y: 234,
		rotation: 1.5707963267948966
	},
	{
		type: "stick7",
		x: 167,
		y: 256,
		rotation: 0
	},
	{
		type: "stick6",
		x: 178,
		y: 195,
		rotation: 1.5707963267948966
	},
	{
		type: "stick6",
		x: 155,
		y: 195,
		rotation: 1.5707963267948966
	},
	{
		type: "stick8",
		x: 166,
		y: 220,
		rotation: 0
	},
	{
		type: "stick5",
		x: 277,
		y: 422,
		rotation: 1.5707963267948966
	},
	{
		type: "stick5",
		x: 58,
		y: 423,
		rotation: 1.5707963267948966
	},
	{
		type: "box14",
		x: 168,
		y: 464,
		rotation: 0
	},
	{
		type: "poly13",
		x: 173,
		y: 429,
		rotation: 0
	},
	{
		type: "stick8",
		x: 166,
		y: 170,
		rotation: 0
	},
	{
		type: "text19",
		x: 169,
		y: 391,
		rotation: 0
	},
	{
		type: "stick7",
		x: 4,
		y: 345,
		rotation: 0.5235987755982988
	},
	{
		type: "stick7",
		x: 319,
		y: 345,
		rotation: -0.5235987755982988
	},
	{
		type: "water_copy",
		x: -57,
		y: 467,
		rotation: 0
	},
	{
		type: "water_copy",
		x: 394,
		y: 467,
		rotation: 0
	}],
	joints: []
},
{
	background: 3,
	queue: [{
		type: "triangle1",
		rotation: 1.5707963267948966
	},
	{
		type: "triangle1",
		rotation: 0
	},
	{
		type: "circle1",
		rotation: 0
	}],
	objects: [{
		type: "unit",
		x: 69,
		y: 321,
		rotation: 0,
		density: 0.3
	},
	{
		type: "stick3",
		x: 161,
		y: 341,
		rotation: 0
	},
	{
		type: "stick7",
		x: 256,
		y: 334,
		rotation: -0.44999999999999996
	},
	{
		type: "stick7",
		x: 286,
		y: 312,
		rotation: 2.2689280275926285
	},
	{
		type: "stick7",
		x: 299,
		y: 279,
		rotation: 1.5707963267948966
	},
	{
		type: "stick7",
		x: 290,
		y: 243,
		rotation: 1.0471975511965976
	},
	{
		type: "stick6",
		x: 197,
		y: 254,
		rotation: 0
	},
	{
		type: "stick7",
		x: 216,
		y: 279,
		rotation: 1.5707963267948966
	},
	{
		type: "stick7",
		x: 136,
		y: 293,
		rotation: 0.17453292519943295
	},
	{
		type: "punch1",
		x: 31,
		y: 305,
		rotation: 1.5707963267948966
	},
	{
		type: "punch_button",
		x: 33,
		y: 301,
		rotation: 0
	},
	{
		type: "stick6",
		x: 52,
		y: 341,
		rotation: 0
	},
	{
		type: "stick6",
		x: 120,
		y: 260,
		rotation: 1.5707963267948966
	},
	{
		type: "unit",
		x: 36,
		y: 150,
		rotation: 0,
		density: 0.3
	},
	{
		type: "stick5",
		x: -18,
		y: 169,
		rotation: 0
	},
	{
		type: "stick5",
		x: 343,
		y: 186,
		rotation: 0
	},
	{
		type: "unit",
		x: 290,
		y: 166,
		rotation: 0,
		density: 0.3
	},
	{
		type: "stick7",
		x: 174,
		y: 299,
		rotation: 0.17453292519943295
	},
	{
		type: "stick8",
		x: 202,
		y: 302,
		rotation: 0
	},
	{
		type: "stick7",
		x: 280,
		y: 208,
		rotation: 1.4707963267948965
	},
	{
		type: "stick6",
		x: 21,
		y: 182,
		rotation: -0.35
	},
	{
		type: "stick5",
		x: 28,
		y: 410,
		rotation: 1.5707963267948966
	},
	{
		type: "stick6",
		x: 236,
		y: 451,
		rotation: 1.5707963267948966
	},
	{
		type: "stick7",
		x: 236,
		y: 366,
		rotation: 1.5707963267948966
	},
	{
		type: "elem12",
		x: 132,
		y: 390,
		rotation: 0
	},
	{
		type: "box8",
		x: 133,
		y: 465,
		rotation: 1.5707963267948966
	},
	{
		type: "elem10",
		x: 311,
		y: 317,
		rotation: 0
	},
	{
		type: "elem10",
		x: 311,
		y: 289,
		rotation: 0
	},
	{
		type: "elem10",
		x: 311,
		y: 261,
		rotation: 0
	},
	{
		type: "elem10",
		x: 311,
		y: 233,
		rotation: 0
	},
	{
		type: "elem10",
		x: 311,
		y: 205,
		rotation: 0
	},
	{
		type: "elem10",
		x: 311,
		y: 345,
		rotation: 0
	},
	{
		type: "elem10",
		x: 311,
		y: 373,
		rotation: 0
	},
	{
		type: "elem24",
		x: 311,
		y: 398,
		rotation: 0
	},
	{
		type: "poly12",
		x: 208,
		y: 430,
		rotation: -1.800000000000001
	},
	{
		type: "water_copy",
		x: 182,
		y: 467,
		rotation: 0
	},
	{
		type: "box14",
		x: 61,
		y: 461,
		rotation: 0
	},
	{
		type: "box14",
		x: 203,
		y: 461,
		rotation: 0
	}],
	joints: []
},
{
	background: 3,
	queue: [{
		type: "circle4",
		rotation: 0
	}],
	objects: [{
		type: "column1",
		x: 295,
		y: 341,
		rotation: 0
	},
	{
		type: "stick3",
		x: 80,
		y: 391,
		rotation: 0
	},
	{
		type: "stick3",
		x: 240,
		y: 391,
		rotation: 0
	},
	{
		type: "laser_button",
		x: 23,
		y: 291,
		rotation: 0
	},
	{
		type: "column1",
		x: 93,
		y: 362,
		rotation: 1.5707963267948966
	},
	{
		type: "elem13",
		x: 99,
		y: 332,
		rotation: 0
	},
	{
		type: "elem21",
		x: 242,
		y: 365,
		rotation: 0
	},
	{
		type: "elem6",
		x: 72,
		y: 206,
		rotation: 0
	},
	{
		type: "elem5",
		x: 97,
		y: 206,
		rotation: 0
	},
	{
		type: "elem4",
		x: 101,
		y: 181,
		rotation: 1.5707963267948966
	},
	{
		type: "elem5",
		x: 105,
		y: 156,
		rotation: -3.141592653589793
	},
	{
		type: "elem4",
		x: 38,
		y: 210,
		rotation: 0
	},
	{
		type: "elem4",
		x: 4,
		y: 210,
		rotation: 0
	},
	{
		type: "elem4",
		x: 232,
		y: 152,
		rotation: 0
	},
	{
		type: "elem4",
		x: 198,
		y: 152,
		rotation: 0
	},
	{
		type: "elem4",
		x: 164,
		y: 152,
		rotation: 0
	},
	{
		type: "elem4",
		x: 130,
		y: 152,
		rotation: 0
	},
	{
		type: "elem4",
		x: 266,
		y: 152,
		rotation: 0
	},
	{
		type: "elem4",
		x: 300,
		y: 152,
		rotation: 0
	},
	{
		type: "elem3",
		x: 324,
		y: 152,
		rotation: 0
	},
	{
		type: "elem11",
		x: 250,
		y: 63,
		rotation: 0
	},
	{
		type: "elem13",
		x: 129,
		y: 329,
		rotation: 0
	},
	{
		type: "unit",
		x: 289,
		y: 282,
		rotation: 0
	},
	{
		type: "elem28",
		x: 19,
		y: 444,
		rotation: 1.5707963267948966
	},
	{
		type: "box11",
		x: 24,
		y: 402,
		rotation: 0
	},
	{
		type: "box11",
		x: 323,
		y: 402,
		rotation: 0
	},
	{
		type: "box11",
		x: 273,
		y: 402,
		rotation: 0
	},
	{
		type: "box11",
		x: 224,
		y: 402,
		rotation: 0
	},
	{
		type: "box11",
		x: 174,
		y: 402,
		rotation: 0
	},
	{
		type: "box11",
		x: 124,
		y: 402,
		rotation: 0
	},
	{
		type: "box11",
		x: 74,
		y: 402,
		rotation: 0
	},
	{
		type: "elem28",
		x: 175,
		y: 444,
		rotation: 1.5707963267948966
	},
	{
		type: "elem28",
		x: 136,
		y: 444,
		rotation: 1.5707963267948966
	},
	{
		type: "elem28",
		x: 97,
		y: 444,
		rotation: 1.5707963267948966
	},
	{
		type: "elem28",
		x: 58,
		y: 444,
		rotation: 1.5707963267948966
	},
	{
		type: "elem28",
		x: 214,
		y: 444,
		rotation: 1.5707963267948966
	},
	{
		type: "column1",
		x: 245,
		y: 452,
		rotation: 0
	},
	{
		type: "box11",
		x: 1,
		y: 474,
		rotation: 0
	},
	{
		type: "box11",
		x: 50,
		y: 474,
		rotation: 0
	},
	{
		type: "box11",
		x: 100,
		y: 474,
		rotation: 0
	},
	{
		type: "box11",
		x: 147,
		y: 474,
		rotation: 0
	},
	{
		type: "box11",
		x: 197,
		y: 474,
		rotation: 0
	},
	{
		type: "elem2",
		x: 191,
		y: 453,
		rotation: 0
	},
	{
		type: "box6",
		x: 124,
		y: 458,
		rotation: 0
	},
	{
		type: "box4",
		x: 123,
		y: 423,
		rotation: 0
	},
	{
		type: "poly7",
		x: 48,
		y: 445,
		rotation: 0
	},
	{
		type: "box6",
		x: 121,
		y: 441,
		rotation: 0
	},
	{
		type: "box11",
		x: 24,
		y: 301,
		rotation: 0
	},
	{
		type: "box11",
		x: 42,
		y: 322,
		rotation: 1.5707963267948966
	},
	{
		type: "box11",
		x: 42,
		y: 361,
		rotation: 1.5707963267948966
	},
	{
		type: "box10",
		x: 42,
		y: 282,
		rotation: 1.5707963267948966
	},
	{
		type: "laser",
		x: 60,
		y: 300,
		rotation: 0,
		custom: "1"
	},
	{
		type: "text16",
		x: 24,
		y: 251,
		rotation: 0
	},
	{
		type: "elem11",
		x: 250,
		y: 120,
		rotation: 0
	},
	{
		type: "elem11",
		x: 250,
		y: 5,
		rotation: 0
	},
	{
		type: "water_copy",
		x: 456,
		y: 468,
		rotation: 0
	}],
	joints: []
},
{
	background: 1,
	queue: [{
		type: "box1",
		rotation: 0
	},
	{
		type: "box1",
		rotation: 0
	},
	{
		type: "circle1",
		rotation: 0
	}],
	objects: [{
		type: "column1",
		x: 295,
		y: 370,
		rotation: 0
	},
	{
		type: "column1",
		x: 25,
		y: 370,
		rotation: 0
	},
	{
		type: "corner2",
		x: 63,
		y: 346,
		rotation: 1.5707963267948966
	},
	{
		type: "corner2",
		x: 253,
		y: 343,
		rotation: -3.141592653589793
	},
	{
		type: "stick3",
		x: 156,
		y: 330,
		rotation: 0
	},
	{
		type: "stick1",
		x: 276,
		y: 279,
		rotation: 0
	},
	{
		type: "box1",
		x: 261,
		y: 304,
		rotation: 0
	},
	{
		type: "box1",
		x: 294,
		y: 304,
		rotation: 0
	},
	{
		type: "stick3",
		x: 2,
		y: 245,
		rotation: 1.5707963267948966
	},
	{
		type: "column1",
		x: 296,
		y: 460,
		rotation: 0
	},
	{
		type: "column1",
		x: 25,
		y: 460,
		rotation: 0
	},
	{
		type: "ladder",
		x: 129,
		y: 380,
		rotation: 0
	},
	{
		type: "box9",
		x: 128,
		y: 455,
		rotation: 0
	},
	{
		type: "elem10",
		x: 174,
		y: 403,
		rotation: 0
	},
	{
		type: "elem10",
		x: 174,
		y: 375,
		rotation: 0
	},
	{
		type: "elem10",
		x: 174,
		y: 348,
		rotation: 0
	},
	{
		type: "elem24",
		x: 174,
		y: 428,
		rotation: 0
	},
	{
		type: "poly11",
		x: 214,
		y: 458,
		rotation: 0
	},
	{
		type: "elem13",
		x: 218,
		y: 317,
		rotation: 0
	},
	{
		type: "elem13",
		x: 235,
		y: 317,
		rotation: 0
	},
	{
		type: "unit",
		x: 97,
		y: 311,
		rotation: 0
	},
	{
		type: "unit",
		x: 127,
		y: 311,
		rotation: 0
	},
	{
		type: "unit",
		x: 68,
		y: 311,
		rotation: 0
	},
	{
		type: "water_copy",
		x: 155,
		y: 468,
		rotation: 0
	}],
	joints: []
},
{
	background: 2,
	queue: [{
		type: "circle2",
		rotation: 0
	},
	{
		type: "box1",
		rotation: 1.5707963267948966
	}],
	objects: [{
		type: "punch1",
		x: 15,
		y: 241,
		rotation: 0
	},
	{
		type: "column1",
		x: 46,
		y: 296,
		rotation: 1.5707963267948966
	},
	{
		type: "stick6",
		x: 301,
		y: 277,
		rotation: 0
	},
	{
		type: "stick6",
		x: 301,
		y: 314,
		rotation: 0
	},
	{
		type: "punch_button",
		x: 296,
		y: 304,
		rotation: 0
	},
	{
		type: "unit",
		x: 206,
		y: 257,
		rotation: 0
	},
	{
		type: "stick2",
		x: 40,
		y: 241,
		rotation: 0.15000000000000002
	},
	{
		type: "brick1",
		x: 60,
		y: 253,
		rotation: 0
	},
	{
		type: "brick1",
		x: 60,
		y: 266,
		rotation: 0
	},
	{
		type: "corner2",
		x: 225,
		y: 282,
		rotation: -1.5500000000000007
	},
	{
		type: "box1",
		x: 175,
		y: 249,
		rotation: -0.1
	},
	{
		type: "stick6",
		x: 316,
		y: 242,
		rotation: 1.5707963267948966
	},
	{
		type: "stick8",
		x: 267,
		y: 217,
		rotation: 0
	},
	{
		type: "stick8",
		x: 259,
		y: 217,
		rotation: 0
	},
	{
		type: "corner2",
		x: 247,
		y: 287,
		rotation: 2.000000000000001
	},
	{
		type: "column1",
		x: 226,
		y: 294,
		rotation: 1.5707963267948966
	},
	{
		type: "column1",
		x: 195,
		y: 315,
		rotation: 0
	},
	{
		type: "column1",
		x: 195,
		y: 405,
		rotation: 0
	},
	{
		type: "box14",
		x: 207,
		y: 470,
		rotation: 0
	},
	{
		type: "box14",
		x: 281,
		y: 470,
		rotation: 0
	},
	{
		type: "stick5",
		x: 20,
		y: 325,
		rotation: 0
	},
	{
		type: "stick5",
		x: 25,
		y: 356,
		rotation: -0.44999999999999996
	},
	{
		type: "poly10",
		x: 245,
		y: 430,
		rotation: 0
	},
	{
		type: "box9",
		x: 295,
		y: 425,
		rotation: 0
	},
	{
		type: "elem15",
		x: 254,
		y: 402,
		rotation: -1.2500000000000004
	},
	{
		type: "elem14",
		x: 311,
		y: 391,
		rotation: 0
	},
	{
		type: "water_copy",
		x: -19,
		y: 467,
		rotation: 0
	}],
	joints: []
},
{
	background: 3,
	queue: [{
		type: "circle1",
		rotation: 1.5707963267948966
	}],
	objects: [{
		type: "column1",
		x: 169,
		y: 299,
		rotation: 1.5707963267948966
	},
	{
		type: "unit",
		x: 61,
		y: 206,
		rotation: 0
	},
	{
		type: "ball",
		x: 141,
		y: 265,
		rotation: 0
	},
	{
		type: "ball",
		x: 171,
		y: 267,
		rotation: 0
	},
	{
		type: "ball",
		x: 200,
		y: 266,
		rotation: 0
	},
	{
		type: "stick3",
		x: 44,
		y: 279,
		rotation: 0
	},
	{
		type: "laser_button",
		x: 100,
		y: 309,
		rotation: 0
	},
	{
		type: "column1",
		x: 306,
		y: 299,
		rotation: 1.5707963267948966
	},
	{
		type: "stick6",
		x: 237,
		y: 319,
		rotation: 0
	},
	{
		type: "stick3",
		x: 47,
		y: 320,
		rotation: 0
	},
	{
		type: "column1",
		x: 34,
		y: 300,
		rotation: 1.5707963267948966
	},
	{
		type: "stick5",
		x: 8,
		y: 269,
		rotation: 0
	},
	{
		type: "column1",
		x: 34,
		y: 245,
		rotation: 1.5707963267948966
	},
	{
		type: "laser",
		x: 91,
		y: 261,
		rotation: 0
	},
	{
		type: "elem12",
		x: 178,
		y: 367,
		rotation: 0
	},
	{
		type: "column1",
		x: 33,
		y: 462,
		rotation: 1.5707963267948966
	},
	{
		type: "column1",
		x: 33,
		y: 412,
		rotation: 1.5707963267948966
	},
	{
		type: "column1",
		x: 33,
		y: 362,
		rotation: 1.5707963267948966
	},
	{
		type: "box14",
		x: 303,
		y: 461,
		rotation: 0
	},
	{
		type: "box11",
		x: 3,
		y: 331,
		rotation: 0
	},
	{
		type: "box11",
		x: 53,
		y: 331,
		rotation: 0
	},
	{
		type: "box14",
		x: 303,
		y: 422,
		rotation: 0
	},
	{
		type: "stick5",
		x: 289,
		y: 398,
		rotation: 0
	},
	{
		type: "circle5",
		x: 242,
		y: 368,
		rotation: -0.2
	},
	{
		type: "water_copy",
		x: 77,
		y: 468,
		rotation: 0
	}],
	joints: []
},
{
	background: 2,
	queue: [{
		type: "triangle1",
		rotation: 0
	},
	{
		type: "box1",
		rotation: 0
	}],
	objects: [{
		type: "unit",
		x: 61,
		y: 223,
		rotation: 0
	},
	{
		type: "stick5",
		x: 127,
		y: 284,
		rotation: 0.6108652381980153
	},
	{
		type: "column1",
		x: 28,
		y: 262,
		rotation: 1.5707963267948966
	},
	{
		type: "column1",
		x: 313,
		y: 329,
		rotation: 1.5707963267948966
	},
	{
		type: "column1",
		x: 28,
		y: 357,
		rotation: 1.5707963267948966
	},
	{
		type: "column1",
		x: 28,
		y: 407,
		rotation: 1.5707963267948966
	},
	{
		type: "column1",
		x: 28,
		y: 456,
		rotation: 1.5707963267948966
	},
	{
		type: "brick4",
		x: 60,
		y: 328,
		rotation: 0,
		density: 0
	},
	{
		type: "brick4",
		x: 35,
		y: 328,
		rotation: 0,
		density: 0
	},
	{
		type: "brick4",
		x: 12,
		y: 329,
		rotation: 0,
		density: 0
	},
	{
		type: "brick4",
		x: 60,
		y: 315,
		rotation: 0,
		density: 0
	},
	{
		type: "brick4",
		x: 60,
		y: 302,
		rotation: 0,
		density: 0
	},
	{
		type: "brick4",
		x: 60,
		y: 290,
		rotation: 0,
		density: 0
	},
	{
		type: "brick4",
		x: 35,
		y: 316,
		rotation: 0,
		density: 0
	},
	{
		type: "brick4",
		x: 35,
		y: 291,
		rotation: 0,
		density: 0
	},
	{
		type: "brick4",
		x: 12,
		y: 304,
		rotation: 0,
		density: 0
	},
	{
		type: "brick4",
		x: 12,
		y: 292,
		rotation: 0,
		density: 0
	},
	{
		type: "brick2",
		x: 35,
		y: 304,
		rotation: 0,
		density: 0
	},
	{
		type: "stick3",
		x: 274,
		y: 402,
		rotation: 1.5707963267948966
	},
	{
		type: "column1",
		x: 224,
		y: 346,
		rotation: 1.5707963267948966
	},
	{
		type: "column1",
		x: 224,
		y: 394,
		rotation: 1.5707963267948966
	},
	{
		type: "column1",
		x: 224,
		y: 443,
		rotation: 1.5707963267948966
	},
	{
		type: "column1",
		x: 224,
		y: 490,
		rotation: 1.5707963267948966
	},
	{
		type: "stick3",
		x: 349,
		y: 260,
		rotation: 0
	},
	{
		type: "stick3",
		x: 324,
		y: 343,
		rotation: 1.5707963267948966
	},
	{
		type: "stick8",
		x: 272,
		y: 323,
		rotation: 0
	},
	{
		type: "elem16",
		x: 283,
		y: 249,
		rotation: 0
	},
	{
		type: "elem17",
		x: 304,
		y: 249,
		rotation: 0
	},
	{
		type: "water_copy",
		x: 137,
		y: 467,
		rotation: 0
	}],
	joints: []
},
{
	background: 3,
	queue: [{
		type: "box1",
		rotation: 0
	}],
	objects: [{
		type: "unit",
		x: 249,
		y: 289,
		rotation: 0
	},
	{
		type: "stick3",
		x: 250,
		y: 393,
		rotation: 0
	},
	{
		type: "stick3",
		x: 84,
		y: 389,
		rotation: 0.05
	},
	{
		type: "stick3",
		x: 246,
		y: 308,
		rotation: 0
	},
	{
		type: "laser",
		x: 171,
		y: 326,
		rotation: 1.5707963267948966
	},
	{
		type: "stick6",
		x: 316,
		y: 358,
		rotation: 1.5707963267948966
	},
	{
		type: "stick8",
		x: 316,
		y: 321,
		rotation: 1.5707963267948966
	},
	{
		type: "stick6",
		x: 30,
		y: 174,
		rotation: 0.25
	},
	{
		type: "stick5",
		x: 5,
		y: 318,
		rotation: 1.5707963267948966
	},
	{
		type: "stick5",
		x: 128,
		y: 222,
		rotation: -0.15000000000000002
	},
	{
		type: "stick7",
		x: 193,
		y: 198,
		rotation: 1.5707963267948966
	},
	{
		type: "laser_button",
		x: 273,
		y: 364,
		rotation: 0
	},
	{
		type: "stick8",
		x: 214,
		y: 384,
		rotation: 0
	},
	{
		type: "stick7",
		x: 272,
		y: 375,
		rotation: 0
	},
	{
		type: "stick8",
		x: 285,
		y: 383,
		rotation: 0
	},
	{
		type: "stick8",
		x: 260,
		y: 384,
		rotation: 0
	},
	{
		type: "stick8",
		x: 110,
		y: 224,
		rotation: 0
	},
	{
		type: "box14",
		x: 281,
		y: 471,
		rotation: 0
	},
	{
		type: "box14",
		x: 207,
		y: 471,
		rotation: 0
	},
	{
		type: "stick8",
		x: 158,
		y: 406,
		rotation: 1.5707963267948966
	},
	{
		type: "stick6",
		x: 165,
		y: 481,
		rotation: 1.5707963267948966
	},
	{
		type: "elem15",
		x: 165,
		y: 438,
		rotation: -1.6207963267948966
	},
	{
		type: "elem15",
		x: 284,
		y: 435,
		rotation: 0
	},
	{
		type: "elem14",
		x: 222,
		y: 442,
		rotation: 0
	},
	{
		type: "elem14",
		x: 244,
		y: 442,
		rotation: 0
	},
	{
		type: "water_copy",
		x: -19,
		y: 467,
		rotation: 0
	}],
	joints: []
},
{
	background: 1,
	queue: [{
		type: "box1",
		rotation: 0
	}],
	objects: [{
		type: "stick3",
		x: 225,
		y: 324,
		rotation: 0
	},
	{
		type: "punch2",
		x: 23,
		y: 342,
		rotation: 0
	},
	{
		type: "punch_button",
		x: 295,
		y: 235,
		rotation: 0
	},
	{
		type: "punch1",
		x: 160,
		y: 238,
		rotation: 0
	},
	{
		type: "teleport",
		x: 291,
		y: 294,
		rotation: 0
	},
	{
		type: "teleport",
		x: 31,
		y: 148,
		rotation: 0
	},
	{
		type: "stick7",
		x: 98,
		y: 348,
		rotation: 1.5707963267948966
	},
	{
		type: "stick6",
		x: 124,
		y: 405,
		rotation: 0
	},
	{
		type: "stick7",
		x: 98,
		y: 387,
		rotation: 1.5707963267948966
	},
	{
		type: "stick8",
		x: 313,
		y: 324,
		rotation: 0
	},
	{
		type: "stick3",
		x: 151,
		y: 408,
		rotation: 1.5707963267948966
	},
	{
		type: "stick5",
		x: 135,
		y: 462,
		rotation: 1.0000000000000002
	},
	{
		type: "box14",
		x: 267,
		y: 460,
		rotation: 0
	},
	{
		type: "box14",
		x: 193,
		y: 460,
		rotation: 0
	},
	{
		type: "box14",
		x: 342,
		y: 460,
		rotation: 0
	},
	{
		type: "elem6",
		x: 17,
		y: 287,
		rotation: 0
	},
	{
		type: "elem4",
		x: 51,
		y: 291,
		rotation: 0
	},
	{
		type: "elem8",
		x: 82,
		y: 291,
		rotation: 3.141592653589793
	},
	{
		type: "box11",
		x: 13,
		y: 381,
		rotation: 0
	},
	{
		type: "box11",
		x: 299,
		y: 246,
		rotation: 0
	},
	{
		type: "elem14",
		x: 272,
		y: 431,
		rotation: 0
	},
	{
		type: "unit",
		x: 28,
		y: 328,
		rotation: 0
	},
	{
		type: "water_copy",
		x: -35,
		y: 467,
		rotation: 0
	},
	{
		type: "poly18",
		x: 202,
		y: 407,
		rotation: 0
	},
	{
		type: "box10",
		x: 160,
		y: 277,
		rotation: 0
	}],
	joints: []
},
{
	background: 3,
	queue: [{
		type: "circle4",
		rotation: 0
	},
	{
		type: "circle3",
		rotation: 0
	},
	{
		type: "ladder",
		rotation: 1.5707963267948966
	}],
	objects: [{
		type: "cross1",
		x: 118,
		y: 234,
		rotation: 0
	},
	{
		type: "column1",
		x: 0,
		y: 240,
		rotation: 1.5707963267948966
	},
	{
		type: "stick5",
		x: 233,
		y: 378,
		rotation: 0
	},
	{
		type: "stick6",
		x: 301,
		y: 352,
		rotation: 1.5707963267948966
	},
	{
		type: "unit",
		x: 33,
		y: 200,
		rotation: 0
	},
	{
		type: "stick6",
		x: 167,
		y: 352,
		rotation: 1.5707963267948966
	},
	{
		type: "unit",
		x: 219,
		y: 357,
		rotation: 0
	},
	{
		type: "circle4",
		x: 281,
		y: 358,
		rotation: 0
	},
	{
		type: "stick7",
		x: 318,
		y: 327,
		rotation: 0
	},
	{
		type: "stick3",
		x: 243,
		y: 397,
		rotation: 0
	},
	{
		type: "stick8",
		x: 301,
		y: 390,
		rotation: 1.5707963267948966
	},
	{
		type: "stick8",
		x: 230,
		y: 389,
		rotation: 1.5707963267948966
	},
	{
		type: "stick8",
		x: 167,
		y: 390,
		rotation: 1.5707963267948966
	},
	{
		type: "box6",
		x: 288,
		y: 440,
		rotation: 0
	},
	{
		type: "elem10",
		x: 255,
		y: 416,
		rotation: 0
	},
	{
		type: "box8",
		x: 226,
		y: 441,
		rotation: 0
	},
	{
		type: "poly5",
		x: 17,
		y: 333,
		rotation: -1.5707963267948966
	},
	{
		type: "box6",
		x: 24,
		y: 383,
		rotation: 1.5707963267948966
	},
	{
		type: "box8",
		x: 75,
		y: 440,
		rotation: 3.141592653589793
	},
	{
		type: "poly5",
		x: 31,
		y: 434,
		rotation: 1.5707963267948966
	},
	{
		type: "elem10",
		x: 6,
		y: 276,
		rotation: 0
	},
	{
		type: "elem10",
		x: 6,
		y: 302,
		rotation: 0
	},
	{
		type: "elem14",
		x: 309,
		y: 313,
		rotation: 0
	},
	{
		type: "water_copy",
		x: 160,
		y: 469,
		rotation: 0
	}],
	joints: [{
		type: 0,
		point1: {
			x: 118,
			y: 234
		}
	}]
},
{
	background: 3,
	queue: [{
		type: "box2",
		rotation: 0
	},
	{
		type: "triangle1",
		rotation: 3.141592653589793
	}],
	objects: [{
		type: "cross2",
		x: 133,
		y: 248,
		rotation: 1.1000000000000003
	},
	{
		type: "stick3",
		x: 241,
		y: 398,
		rotation: 0
	},
	{
		type: "stick3",
		x: 81,
		y: 398,
		rotation: 0
	},
	{
		type: "stick6",
		x: 315,
		y: 363,
		rotation: 1.5707963267948966
	},
	{
		type: "stick6",
		x: 290,
		y: 329,
		rotation: 0
	},
	{
		type: "stick2",
		x: 40,
		y: 196,
		rotation: 0,
		density: 0
	},
	{
		type: "stick1",
		x: 284,
		y: 243,
		rotation: 1.5707963267948966
	},
	{
		type: "stick2",
		x: 278,
		y: 284,
		rotation: 1.5707963267948966
	},
	{
		type: "corner2",
		x: 162,
		y: 392,
		rotation: 2.470796326794895
	},
	{
		type: "box11",
		x: 5,
		y: 205,
		rotation: 0
	},
	{
		type: "box11",
		x: 55,
		y: 205,
		rotation: 0
	},
	{
		type: "box5",
		x: 60,
		y: 446,
		rotation: 0
	},
	{
		type: "stick6",
		x: 309,
		y: 417,
		rotation: 0.7353981633974482
	},
	{
		type: "stick6",
		x: 14,
		y: 417,
		rotation: -0.6853981633974482
	},
	{
		type: "box5",
		x: 298,
		y: 447,
		rotation: 0
	},
	{
		type: "box5",
		x: 264,
		y: 447,
		rotation: 0
	},
	{
		type: "box5",
		x: 230,
		y: 447,
		rotation: 0
	},
	{
		type: "box5",
		x: 162,
		y: 446,
		rotation: 0
	},
	{
		type: "box5",
		x: 128,
		y: 446,
		rotation: 0
	},
	{
		type: "box5",
		x: 94,
		y: 446,
		rotation: 0
	},
	{
		type: "elem10",
		x: 68,
		y: 432,
		rotation: -0.7853981633974483
	},
	{
		type: "elem10",
		x: 48,
		y: 412,
		rotation: -0.7853981633974483
	},
	{
		type: "box5",
		x: 26,
		y: 446,
		rotation: 0
	},
	{
		type: "poly8",
		x: 196,
		y: 446,
		rotation: 0
	},
	{
		type: "elem10",
		x: 276,
		y: 414,
		rotation: 0.7853981633974483
	},
	{
		type: "elem10",
		x: 257,
		y: 434,
		rotation: 0.7853981633974483
	},
	{
		type: "elem21",
		x: 38,
		y: 323,
		rotation: 0
	},
	{
		type: "elem19",
		x: 38,
		y: 369,
		rotation: 0
	},
	{
		type: "box5",
		x: -8,
		y: 446,
		rotation: 0
	},
	{
		type: "box5",
		x: 332,
		y: 447,
		rotation: 0
	},
	{
		type: "unit",
		x: 43,
		y: 179,
		rotation: 0
	},
	{
		type: "elem12",
		x: 108,
		y: 31,
		rotation: 0
	},
	{
		type: "water_copy",
		x: 153,
		y: 468,
		rotation: 0
	}],
	joints: [{
		type: 0,
		point1: {
			x: 166,
			y: 231
		}
	}]
},
{
	background: 2,
	queue: [{
		type: "box2",
		rotation: 1.5707963267948966
	},
	{
		type: "triangle1",
		rotation: 0
	},
	{
		type: "box2",
		rotation: 1.5707963267948966
	}],
	objects: [{
		type: "stick3",
		x: 317,
		y: 365,
		rotation: 0
	},
	{
		type: "unit",
		x: 37,
		y: 175,
		rotation: 0,
		density: 0.4
	},
	{
		type: "punch_button",
		x: 249,
		y: 355,
		rotation: 0
	},
	{
		type: "stick6",
		x: 209,
		y: 185,
		rotation: 1.5707963267948966
	},
	{
		type: "stick6",
		x: 233,
		y: 219,
		rotation: 0
	},
	{
		type: "stick6",
		x: 292,
		y: 159,
		rotation: 0
	},
	{
		type: "teleport",
		x: 137,
		y: 214,
		rotation: 0
	},
	{
		type: "teleport",
		x: 161,
		y: 307,
		rotation: 0
	},
	{
		type: "stick6",
		x: 137,
		y: 390,
		rotation: 1.5707963267948966
	},
	{
		type: "stick6",
		x: 184,
		y: 361,
		rotation: 1.5707963267948966
	},
	{
		type: "punch1",
		x: 160,
		y: 375,
		rotation: 0
	},
	{
		type: "punch1",
		x: 69,
		y: 109,
		rotation: 1.5707963267948966
	},
	{
		type: "stick5",
		x: 32,
		y: 195,
		rotation: 0
	},
	{
		type: "stick7",
		x: 92,
		y: 143,
		rotation: 0
	},
	{
		type: "stick7",
		x: 78,
		y: 143,
		rotation: 0
	},
	{
		type: "water_copy",
		x: 163,
		y: 468,
		rotation: 0
	},
	{
		type: "box14",
		x: 160,
		y: 426,
		rotation: 0
	},
	{
		type: "stick8",
		x: 184,
		y: 398,
		rotation: 1.5707963267948966
	},
	{
		type: "box14",
		x: 160,
		y: 466,
		rotation: 0
	},
	{
		type: "elem12",
		x: 345,
		y: 413,
		rotation: 0
	},
	{
		type: "stick6",
		x: 292,
		y: 219,
		rotation: 0
	},
	{
		type: "box14",
		x: 242,
		y: 244,
		rotation: 0
	},
	{
		type: "box14",
		x: 317,
		y: 244,
		rotation: 0
	},
	{
		type: "poly9",
		x: 12,
		y: 394,
		rotation: 0
	},
	{
		type: "poly5",
		x: 61,
		y: 401,
		rotation: -1.5707963267948966
	},
	{
		type: "box6",
		x: 68,
		y: 452,
		rotation: 1.5707963267948966
	},
	{
		type: "box14",
		x: 64,
		y: 210,
		rotation: 0
	},
	{
		type: "box14",
		x: -11,
		y: 210,
		rotation: 0
	},
	{
		type: "circle6",
		x: 309,
		y: 188,
		rotation: 0
	}],
	joints: []
},
{
	background: 3,
	queue: [{
		type: "circle1",
		rotation: 1.5707963267948966
	}],
	objects: [{
		type: "teleport",
		x: 106,
		y: 221,
		rotation: 0
	},
	{
		type: "elem21",
		x: 38,
		y: 420,
		rotation: 0
	},
	{
		type: "teleport",
		x: 229,
		y: 227,
		rotation: 0
	},
	{
		type: "teleport",
		x: 230,
		y: 299,
		rotation: 0
	},
	{
		type: "stick5",
		x: 165,
		y: 330,
		rotation: 0
	},
	{
		type: "punch1",
		x: 114,
		y: 291,
		rotation: 1.5707963267948966
	},
	{
		type: "unit",
		x: 147,
		y: 310,
		rotation: 0
	},
	{
		type: "stick5",
		x: 318,
		y: 252,
		rotation: 0
	},
	{
		type: "punch2",
		x: 307,
		y: 212,
		rotation: -1.5707963267948966
	},
	{
		type: "punch_button",
		x: 51,
		y: 193,
		rotation: 0
	},
	{
		type: "stick3",
		x: 230,
		y: 407,
		rotation: 1.5707963267948966
	},
	{
		type: "stick5",
		x: 14,
		y: 204,
		rotation: 0
	},
	{
		type: "box14",
		x: 39,
		y: 461,
		rotation: 0
	},
	{
		type: "box14",
		x: 113,
		y: 461,
		rotation: 0
	},
	{
		type: "box14",
		x: 187,
		y: 461,
		rotation: 0
	},
	{
		type: "stick5",
		x: 164,
		y: 348,
		rotation: 0.25
	},
	{
		type: "stick6",
		x: 207,
		y: 394,
		rotation: 1.5707963267948966
	},
	{
		type: "stick8",
		x: 207,
		y: 432,
		rotation: 1.5707963267948966
	},
	{
		type: "poly14",
		x: 177,
		y: 427,
		rotation: 0
	},
	{
		type: "elem11",
		x: 76,
		y: 342,
		rotation: 0
	},
	{
		type: "elem11",
		x: 76,
		y: 285,
		rotation: 0
	},
	{
		type: "elem10",
		x: 99,
		y: 375,
		rotation: 0
	},
	{
		type: "elem10",
		x: 99,
		y: 347,
		rotation: 0
	},
	{
		type: "elem14",
		x: 98,
		y: 406,
		rotation: 0
	},
	{
		type: "elem22",
		x: 99,
		y: 393,
		rotation: 0
	},
	{
		type: "elem25",
		x: 76,
		y: 393,
		rotation: 0
	},
	{
		type: "elem30",
		x: 4,
		y: 204,
		rotation: 0
	},
	{
		type: "stick7",
		x: 50,
		y: 249,
		rotation: -0.017453292519943295
	},
	{
		type: "stick7",
		x: 19,
		y: 227,
		rotation: 1.5707963267948966
	},
	{
		type: "waterelement",
		x: 2,
		y: 251,
		rotation: 0
	},
	{
		type: "elem29",
		x: 18,
		y: 204,
		rotation: 0
	},
	{
		type: "elem30",
		x: 52,
		y: 248,
		rotation: 0
	},
	{
		type: "elem30",
		x: 67,
		y: 248,
		rotation: 0
	},
	{
		type: "elem29",
		x: 76,
		y: 249,
		rotation: 0
	},
	{
		type: "water_copy",
		x: 165,
		y: 470,
		rotation: 0
	},
	{
		type: "elem30",
		x: 37,
		y: 248,
		rotation: 0
	},
	{
		type: "elem31",
		x: 18,
		y: 220,
		rotation: 0
	}],
	joints: []
},
{
	background: 1,
	queue: [{
		type: "box1",
		rotation: 0
	},
	{
		type: "box2",
		rotation: 0
	}],
	objects: [{
		type: "unit",
		x: 290,
		y: 179,
		rotation: 0
	},
	{
		type: "box2",
		x: 296,
		y: 358,
		rotation: 1.5707963267948966,
		density: 0
	},
	{
		type: "box2",
		x: 242,
		y: 358,
		rotation: 1.5707963267948966,
		density: 0
	},
	{
		type: "box2",
		x: 188,
		y: 358,
		rotation: 1.5707963267948966,
		density: 0
	},
	{
		type: "box2",
		x: 135,
		y: 358,
		rotation: 1.5707963267948966,
		density: 0
	},
	{
		type: "box2",
		x: 81,
		y: 358,
		rotation: 1.5707963267948966,
		density: 0
	},
	{
		type: "box2",
		x: 27,
		y: 358,
		rotation: 1.5707963267948966,
		density: 0
	},
	{
		type: "stick2",
		x: 200,
		y: 135,
		rotation: 0
	},
	{
		type: "corner1",
		x: 210,
		y: 109,
		rotation: -1.5707963267948966
	},
	{
		type: "stick6",
		x: 17,
		y: 299,
		rotation: 1.5707963267948966
	},
	{
		type: "punch1",
		x: 43,
		y: 298,
		rotation: 0
	},
	{
		type: "punch_button",
		x: 288,
		y: 231,
		rotation: 0
	},
	{
		type: "brick2",
		x: 294,
		y: 297,
		rotation: 0
	},
	{
		type: "stick6",
		x: 31,
		y: 333,
		rotation: 0
	},
	{
		type: "punch2",
		x: 304,
		y: 305,
		rotation: 0
	},
	{
		type: "stick6",
		x: 4,
		y: 244,
		rotation: 1.0707963267948961
	},
	{
		type: "stick6",
		x: 301,
		y: 198,
		rotation: 0
	},
	{
		type: "stick6",
		x: 301,
		y: 243,
		rotation: 0
	},
	{
		type: "box11",
		x: 25,
		y: 384,
		rotation: 0
	},
	{
		type: "box11",
		x: 75,
		y: 384,
		rotation: 0
	},
	{
		type: "box11",
		x: 275,
		y: 384,
		rotation: 0
	},
	{
		type: "box11",
		x: 225,
		y: 384,
		rotation: 0
	},
	{
		type: "box11",
		x: 175,
		y: 384,
		rotation: 0
	},
	{
		type: "box11",
		x: 125,
		y: 384,
		rotation: 0
	},
	{
		type: "box10",
		x: 312,
		y: 384,
		rotation: 0
	},
	{
		type: "column1",
		x: 8,
		y: 436,
		rotation: 0
	},
	{
		type: "column1",
		x: 162,
		y: 436,
		rotation: 0
	},
	{
		type: "column1",
		x: 85,
		y: 436,
		rotation: 0
	},
	{
		type: "water",
		x: 46,
		y: 467,
		rotation: 0
	},
	{
		type: "water",
		x: 200,
		y: 467,
		rotation: 0
	},
	{
		type: "water",
		x: 123,
		y: 467,
		rotation: 0
	},
	{
		type: "column1",
		x: 239,
		y: 436,
		rotation: 0
	},
	{
		type: "water",
		x: 277,
		y: 467,
		rotation: 0
	},
	{
		type: "column1",
		x: 317,
		y: 436,
		rotation: 0
	}],
	joints: [{
		type: 0,
		point1: {
			x: 200,
			y: 135
		}
	}]
},
{
	background: 2,
	queue: [{
		type: "box2",
		rotation: 1.5707963267948966
	},
	{
		type: "box2",
		rotation: 1.5707963267948966
	},
	{
		type: "corner1",
		rotation: 0.7853981633974483
	}],
	objects: [{
		type: "unit",
		x: 163,
		y: 201,
		rotation: 0
	},
	{
		type: "column1",
		x: 161,
		y: 260,
		rotation: 0
	},
	{
		type: "stick3",
		x: 79,
		y: 310,
		rotation: 0
	},
	{
		type: "stick3",
		x: 239,
		y: 310,
		rotation: 0
	},
	{
		type: "water",
		x: 96,
		y: 292,
		rotation: 0
	},
	{
		type: "water",
		x: 123,
		y: 292,
		rotation: 0
	},
	{
		type: "water",
		x: 307,
		y: 292,
		rotation: 0
	},
	{
		type: "water",
		x: 280,
		y: 292,
		rotation: 0
	},
	{
		type: "water",
		x: 253,
		y: 292,
		rotation: 0
	},
	{
		type: "water",
		x: 226,
		y: 292,
		rotation: 0
	},
	{
		type: "water",
		x: 199,
		y: 292,
		rotation: 0
	},
	{
		type: "water",
		x: 15,
		y: 292,
		rotation: 0
	},
	{
		type: "water",
		x: 42,
		y: 292,
		rotation: 0
	},
	{
		type: "water",
		x: 69,
		y: 292,
		rotation: 0
	},
	{
		type: "water",
		x: -12,
		y: 292,
		rotation: 0
	}],
	joints: []
},
{
	background: 2,
	queue: [{
		type: "ladder",
		rotation: 1.5707963267948966
	},
	{
		type: "corner1",
		rotation: 1.5707963267948966
	},
	{
		type: "box1",
		rotation: 0
	},
	{
		type: "box2",
		rotation: 1.5707963267948966
	}],
	objects: [{
		type: "brick4",
		x: 11,
		y: 215,
		rotation: 0
	},
	{
		type: "brick4",
		x: 235,
		y: 215,
		rotation: 0
	},
	{
		type: "brick4",
		x: 210,
		y: 215,
		rotation: 0
	},
	{
		type: "brick4",
		x: 185,
		y: 215,
		rotation: 0
	},
	{
		type: "brick4",
		x: 160,
		y: 215,
		rotation: 0
	},
	{
		type: "brick4",
		x: 135,
		y: 215,
		rotation: 0
	},
	{
		type: "brick4",
		x: 110,
		y: 215,
		rotation: 0
	},
	{
		type: "brick4",
		x: 85,
		y: 215,
		rotation: 0
	},
	{
		type: "brick4",
		x: 60,
		y: 215,
		rotation: 0
	},
	{
		type: "brick4",
		x: 35,
		y: 215,
		rotation: 0
	},
	{
		type: "brick4",
		x: 310,
		y: 215,
		rotation: 0
	},
	{
		type: "brick4",
		x: 285,
		y: 215,
		rotation: 0
	},
	{
		type: "brick4",
		x: 260,
		y: 215,
		rotation: 0
	},
	{
		type: "unit",
		x: 164,
		y: 348,
		rotation: 0
	},
	{
		type: "column1",
		x: 300,
		y: 388,
		rotation: 1.5707963267948966
	},
	{
		type: "column1",
		x: 209,
		y: 388,
		rotation: 1.5707963267948966
	},
	{
		type: "column1",
		x: 119,
		y: 388,
		rotation: 1.5707963267948966
	},
	{
		type: "column1",
		x: 28,
		y: 388,
		rotation: 1.5707963267948966
	},
	{
		type: "unit",
		x: 254,
		y: 348,
		rotation: 0
	},
	{
		type: "unit",
		x: 74,
		y: 348,
		rotation: 0
	}],
	joints: []
},
{
	background: 1,
	queue: [{
		type: "triangle1",
		rotation: 0
	},
	{
		type: "box1",
		rotation: 0
	},
	{
		type: "corner1",
		rotation: 3.141592653589793
	},
	{
		type: "ladder",
		rotation: 1.5707963267948966
	}],
	objects: [{
		type: "ladder",
		x: 54,
		y: 359,
		rotation: 1.5707963267948966,
		density: 0
	},
	{
		type: "ladder",
		x: 160,
		y: 359,
		rotation: 1.5707963267948966,
		density: 0
	},
	{
		type: "ladder",
		x: 266,
		y: 359,
		rotation: 1.5707963267948966,
		density: 0
	},
	{
		type: "unit",
		x: 63,
		y: 325,
		rotation: 0
	},
	{
		type: "triangle1",
		x: 160,
		y: 245,
		rotation: NaN
	},
	{
		type: "brick4",
		x: 137,
		y: 333,
		rotation: 0
	},
	{
		type: "brick4",
		x: 288,
		y: 322,
		rotation: 0
	},
	{
		type: "brick4",
		x: 304,
		y: 334,
		rotation: 0
	},
	{
		type: "brick4",
		x: 276,
		y: 334,
		rotation: 0
	},
	{
		type: "brick4",
		x: 309,
		y: 316,
		rotation: 1.5707963267948966
	},
	{
		type: "unit",
		x: 243,
		y: 327,
		rotation: 0
	}],
	joints: []
},
{
	background: 3,
	queue: [{
		type: "box1",
		rotation: 0
	},
	{
		type: "corner1",
		rotation: 1.5707963267948966
	}],
	objects: [{
		type: "brick3",
		x: 12,
		y: 327,
		rotation: 0,
		density: 0
	},
	{
		type: "brick3",
		x: 311,
		y: 327,
		rotation: 0,
		density: 0
	},
	{
		type: "brick3",
		x: 286,
		y: 327,
		rotation: 0,
		density: 0
	},
	{
		type: "brick3",
		x: 261,
		y: 327,
		rotation: 0,
		density: 0
	},
	{
		type: "brick3",
		x: 236,
		y: 327,
		rotation: 0,
		density: 0
	},
	{
		type: "brick3",
		x: 212,
		y: 327,
		rotation: 0,
		density: 0
	},
	{
		type: "brick3",
		x: 187,
		y: 327,
		rotation: 0,
		density: 0
	},
	{
		type: "brick3",
		x: 162,
		y: 327,
		rotation: 0,
		density: 0
	},
	{
		type: "brick3",
		x: 137,
		y: 327,
		rotation: 0,
		density: 0
	},
	{
		type: "brick3",
		x: 112,
		y: 327,
		rotation: 0,
		density: 0
	},
	{
		type: "brick3",
		x: 87,
		y: 327,
		rotation: 0,
		density: 0
	},
	{
		type: "brick3",
		x: 62,
		y: 327,
		rotation: 0,
		density: 0
	},
	{
		type: "brick3",
		x: 37,
		y: 327,
		rotation: 0,
		density: 0
	},
	{
		type: "stick2",
		x: 96,
		y: 238,
		rotation: 0
	},
	{
		type: "stick2",
		x: 57,
		y: 281,
		rotation: 1.5707963267948966
	},
	{
		type: "stick2",
		x: 135,
		y: 282,
		rotation: 1.5707963267948966
	},
	{
		type: "unit",
		x: 94,
		y: 306,
		rotation: 0
	},
	{
		type: "unit",
		x: 96,
		y: 220,
		rotation: 0
	},
	{
		type: "circle4",
		x: 12,
		y: 308,
		rotation: 0
	},
	{
		type: "circle3",
		x: 293,
		y: 294,
		rotation: 0
	}],
	joints: []
},
{
	background: 2,
	queue: [{
		type: "circle1",
		rotation: 1.5707963267948966
	}],
	objects: [{
		type: "stick3",
		x: 139,
		y: 353,
		rotation: 0
	},
	{
		type: "unit",
		x: 57,
		y: 390,
		rotation: 0
	},
	{
		type: "stick3",
		x: 240,
		y: 410,
		rotation: 0
	},
	{
		type: "stick3",
		x: 80,
		y: 410,
		rotation: 0
	},
	{
		type: "punch1",
		x: 25,
		y: 373,
		rotation: 1.5707963267948966
	},
	{
		type: "punch_button",
		x: 306,
		y: 193,
		rotation: 0
	},
	{
		type: "teleport",
		x: 298,
		y: 325,
		rotation: 0
	},
	{
		type: "teleport",
		x: 298,
		y: 382,
		rotation: 0
	},
	{
		type: "teleport",
		x: 82,
		y: 325,
		rotation: 0
	},
	{
		type: "stick5",
		x: 288,
		y: 353,
		rotation: 0
	},
	{
		type: "stick7",
		x: 312,
		y: 202,
		rotation: 0
	},
	{
		type: "stick6",
		x: 15,
		y: 337,
		rotation: -0.5353981633974481
	},
	{
		type: "stick8",
		x: 68,
		y: 295,
		rotation: 0
	},
	{
		type: "stick6",
		x: 302,
		y: 231,
		rotation: 0
	},
	{
		type: "corner1",
		x: 269,
		y: 196,
		rotation: 3.141592653589793
	},
	{
		type: "stick8",
		x: 68,
		y: 344,
		rotation: 0
	}],
	joints: []
},
{
	background: 1,
	queue: [{
		type: "circle4",
		rotation: 0
	},
	{
		type: "box1",
		rotation: 0
	}],
	objects: [{
		type: "stick3",
		x: 82,
		y: 321,
		rotation: 0
	},
	{
		type: "stick1",
		x: 90,
		y: 236,
		rotation: 1.5707963267948966
	},
	{
		type: "stick3",
		x: 242,
		y: 321,
		rotation: 0
	},
	{
		type: "unit",
		x: 93,
		y: 142,
		rotation: 0
	},
	{
		type: "stick1",
		x: 96,
		y: 236,
		rotation: 1.5707963267948966
	},
	{
		type: "ball",
		x: 281,
		y: 305,
		rotation: 0
	}],
	joints: []
},
{
	background: 2,
	queue: [{
		type: "circle4",
		rotation: 0
	},
	{
		type: "corner1",
		rotation: 0
	}],
	objects: [{
		type: "unit",
		x: 41,
		y: 192,
		rotation: 0
	},
	{
		type: "column1",
		x: 44,
		y: 230,
		rotation: 1.5707963267948966
	},
	{
		type: "girder_mech",
		x: 167,
		y: 203,
		rotation: 0
	},
	{
		type: "corner2",
		x: 43,
		y: 313,
		rotation: -0.6853981633974482
	},
	{
		type: "girder_button",
		x: 44,
		y: 307,
		rotation: 0
	},
	{
		type: "column1",
		x: 290,
		y: 232,
		rotation: 1.5707963267948966
	},
	{
		type: "stick7",
		x: 316,
		y: 189,
		rotation: 1.5707963267948966
	},
	{
		type: "corner2",
		x: 209,
		y: 337,
		rotation: -0.6853981633974482
	},
	{
		type: "corner2",
		x: 43,
		y: 313,
		rotation: -0.6853981633974482
	},
	{
		type: "unit",
		x: 209,
		y: 319,
		rotation: 0
	},
	{
		type: "stick7",
		x: -1,
		y: 192,
		rotation: 0
	},
	{
		type: "stick5",
		x: -23,
		y: 133,
		rotation: 0.9853981633974485
	}],
	joints: []
},
{
	background: 2,
	queue: [{
		type: "box2",
		rotation: 0
	},
	{
		type: "circle1",
		rotation: 0
	},
	{
		type: "box1",
		rotation: 0
	},
	{
		type: "box2",
		rotation: 1.5707963267948966
	}],
	objects: [{
		type: "unit",
		x: 40,
		y: 250,
		rotation: 0
	},
	{
		type: "brick2",
		x: 160,
		y: 366,
		rotation: 0
	},
	{
		type: "brick2",
		x: 54,
		y: 304,
		rotation: 1.2000000000000004
	},
	{
		type: "brick2",
		x: 67,
		y: 326,
		rotation: 0.9000000000000002
	},
	{
		type: "brick2",
		x: 86,
		y: 344,
		rotation: 0.6
	},
	{
		type: "brick2",
		x: 109,
		y: 357,
		rotation: 0.44105206811824216
	},
	{
		type: "brick2",
		x: 134,
		y: 364,
		rotation: 0.15000000000000002
	},
	{
		type: "brick2",
		x: 263,
		y: 299,
		rotation: -1.0500000000000003
	},
	{
		type: "brick2",
		x: 249,
		y: 320,
		rotation: -0.9500000000000003
	},
	{
		type: "brick2",
		x: 232,
		y: 339,
		rotation: -0.8000000000000002
	},
	{
		type: "brick2",
		x: 211,
		y: 355,
		rotation: -0.5499999999999999
	},
	{
		type: "brick2",
		x: 186,
		y: 364,
		rotation: -0.15000000000000002
	},
	{
		type: "stick6",
		x: 295,
		y: 264,
		rotation: 0
	},
	{
		type: "stick6",
		x: 25,
		y: 270,
		rotation: 0
	},
	{
		type: "stick8",
		x: 50,
		y: 283,
		rotation: 1.5707963267948966
	},
	{
		type: "stick8",
		x: 270,
		y: 277,
		rotation: 1.5707963267948966
	},
	{
		type: "water",
		x: 139,
		y: 345,
		rotation: 0
	},
	{
		type: "water",
		x: 85,
		y: 345,
		rotation: 0
	},
	{
		type: "water",
		x: 112,
		y: 345,
		rotation: 0
	},
	{
		type: "water",
		x: 328,
		y: 345,
		rotation: 0
	},
	{
		type: "water",
		x: 301,
		y: 345,
		rotation: 0
	},
	{
		type: "water",
		x: 274,
		y: 345,
		rotation: 0
	},
	{
		type: "water",
		x: 247,
		y: 345,
		rotation: 0
	},
	{
		type: "water",
		x: 220,
		y: 345,
		rotation: 0
	},
	{
		type: "water",
		x: 193,
		y: 345,
		rotation: 0
	},
	{
		type: "water",
		x: 166,
		y: 345,
		rotation: 0
	},
	{
		type: "water",
		x: 4,
		y: 345,
		rotation: 0
	},
	{
		type: "water",
		x: 31,
		y: 345,
		rotation: 0
	},
	{
		type: "water",
		x: 58,
		y: 345,
		rotation: 0
	},
	{
		type: "water",
		x: 307,
		y: 363,
		rotation: 0
	},
	{
		type: "water",
		x: 280,
		y: 363,
		rotation: 0
	},
	{
		type: "water",
		x: 253,
		y: 363,
		rotation: 0
	},
	{
		type: "water",
		x: 226,
		y: 363,
		rotation: 0
	},
	{
		type: "water",
		x: 199,
		y: 363,
		rotation: 0
	},
	{
		type: "water",
		x: 172,
		y: 363,
		rotation: 0
	},
	{
		type: "water",
		x: 145,
		y: 363,
		rotation: 0
	},
	{
		type: "water",
		x: 118,
		y: 363,
		rotation: 0
	},
	{
		type: "water",
		x: 91,
		y: 363,
		rotation: 0
	},
	{
		type: "water",
		x: 64,
		y: 363,
		rotation: 0
	},
	{
		type: "water",
		x: 37,
		y: 363,
		rotation: 0
	},
	{
		type: "water",
		x: 10,
		y: 363,
		rotation: 0
	},
	{
		type: "water",
		x: 310,
		y: 381,
		rotation: 0
	},
	{
		type: "water",
		x: 283,
		y: 381,
		rotation: 0
	},
	{
		type: "water",
		x: 256,
		y: 381,
		rotation: 0
	},
	{
		type: "water",
		x: 229,
		y: 381,
		rotation: 0
	},
	{
		type: "water",
		x: 202,
		y: 381,
		rotation: 0
	},
	{
		type: "water",
		x: 175,
		y: 381,
		rotation: 0
	},
	{
		type: "water",
		x: 148,
		y: 381,
		rotation: 0
	},
	{
		type: "water",
		x: 121,
		y: 381,
		rotation: 0
	},
	{
		type: "water",
		x: 94,
		y: 381,
		rotation: 0
	},
	{
		type: "water",
		x: 67,
		y: 381,
		rotation: 0
	},
	{
		type: "water",
		x: 40,
		y: 381,
		rotation: 0
	},
	{
		type: "water",
		x: 13,
		y: 381,
		rotation: 0
	}],
	joints: [{
		type: 1,
		point1: {
			x: 58,
			y: 310
		},
		point2: {
			x: 64,
			y: 320
		}
	},
	{
		type: 1,
		point1: {
			x: 73,
			y: 330
		},
		point2: {
			x: 82,
			y: 340
		}
	},
	{
		type: 1,
		point1: {
			x: 94,
			y: 347
		},
		point2: {
			x: 104,
			y: 353
		}
	},
	{
		type: 1,
		point1: {
			x: 117,
			y: 359
		},
		point2: {
			x: 129,
			y: 361
		}
	},
	{
		type: 1,
		point1: {
			x: 143,
			y: 364
		},
		point2: {
			x: 154,
			y: 364
		}
	},
	{
		type: 1,
		point1: {
			x: 168,
			y: 364
		},
		point2: {
			x: 180,
			y: 363
		}
	},
	{
		type: 1,
		point1: {
			x: 194,
			y: 361
		},
		point2: {
			x: 204,
			y: 357
		}
	},
	{
		type: 1,
		point1: {
			x: 217,
			y: 350
		},
		point2: {
			x: 226,
			y: 344
		}
	},
	{
		type: 1,
		point1: {
			x: 237,
			y: 333
		},
		point2: {
			x: 244,
			y: 323
		}
	},
	{
		type: 1,
		point1: {
			x: 252,
			y: 312
		},
		point2: {
			x: 258,
			y: 304
		}
	},
	{
		type: 1,
		point1: {
			x: 266,
			y: 292
		},
		point2: {
			x: 269,
			y: 282
		}
	},
	{
		type: 1,
		point1: {
			x: 50,
			y: 288
		},
		point2: {
			x: 53,
			y: 297
		}
	}]
},
{
	background: 3,
	queue: [{
		type: "box1",
		rotation: 3.141592653589793
	},
	{
		type: "circle4",
		rotation: 0
	}],
	objects: [{
		type: "unit",
		x: 334,
		y: 197,
		rotation: 0
	},
	{
		type: "stick6",
		x: 296,
		y: 307,
		rotation: 0
	},
	{
		type: "laser_button",
		x: 294,
		y: 296,
		rotation: 0
	},
	{
		type: "laser",
		x: 11,
		y: 314,
		rotation: 0
	},
	{
		type: "laser",
		x: 11,
		y: 255,
		rotation: 0
	},
	{
		type: "stick8",
		x: 291,
		y: 219,
		rotation: 0
	},
	{
		type: "stick7",
		x: 287,
		y: 235,
		rotation: 1.5707963267948966
	},
	{
		type: "stick7",
		x: 271,
		y: 250,
		rotation: 0.05
	},
	{
		type: "stick7",
		x: 241,
		y: 283,
		rotation: 0.1
	},
	{
		type: "stick7",
		x: 256,
		y: 266,
		rotation: 1.5707963267948966
	},
	{
		type: "stick7",
		x: 193,
		y: 326,
		rotation: 1.5707963267948966
	},
	{
		type: "stick7",
		x: 226,
		y: 298,
		rotation: 1.5707963267948966
	},
	{
		type: "stick7",
		x: 209,
		y: 311,
		rotation: 0.1
	},
	{
		type: "stick7",
		x: 177,
		y: 341,
		rotation: 0
	},
	{
		type: "laser",
		x: 11,
		y: 192,
		rotation: 0
	},
	{
		type: "unit",
		x: 307,
		y: 198,
		rotation: 0
	},
	{
		type: "stick5",
		x: 357,
		y: 214,
		rotation: -0.1
	},
	{
		type: "stick7",
		x: 132,
		y: 374,
		rotation: 0
	},
	{
		type: "stick5",
		x: 117,
		y: 440,
		rotation: 1.5707963267948966
	},
	{
		type: "stick8",
		x: 151,
		y: 341,
		rotation: 0
	},
	{
		type: "stick7",
		x: 148,
		y: 358,
		rotation: 1.5707963267948966
	}],
	joints: []
},
{
	background: 2,
	queue: [{
		type: "corner1",
		rotation: 4.71238898038469
	},
	{
		type: "circle2",
		rotation: 1.186823891356144
	},
	{
		type: "corner1",
		rotation: 1.5707963267948966
	}],
	objects: [{
		type: "circle2",
		x: 243,
		y: 207,
		rotation: 0
	},
	{
		type: "circle2",
		x: 216,
		y: 210,
		rotation: 0
	},
	{
		type: "circle2",
		x: 189,
		y: 213,
		rotation: 0
	},
	{
		type: "circle2",
		x: 162,
		y: 216,
		rotation: 0
	},
	{
		type: "circle2",
		x: 135,
		y: 219,
		rotation: 0
	},
	{
		type: "circle2",
		x: 108,
		y: 222,
		rotation: 0
	},
	{
		type: "circle2",
		x: 81,
		y: 225,
		rotation: 0
	},
	{
		type: "circle2",
		x: 54,
		y: 228,
		rotation: 0
	},
	{
		type: "circle2",
		x: 297,
		y: 201,
		rotation: 0
	},
	{
		type: "circle2",
		x: 270,
		y: 204,
		rotation: 0
	},
	{
		type: "stick8",
		x: 150,
		y: 150,
		rotation: 0
	},
	{
		type: "unit",
		x: 150,
		y: 130,
		rotation: 0
	},
	{
		type: "circle2",
		x: 27,
		y: 231,
		rotation: 0
	},
	{
		type: "box1",
		x: -3,
		y: 213,
		rotation: 0,
		density: 0
	},
	{
		type: "ball",
		x: 20,
		y: 208,
		rotation: 0
	},
	{
		type: "ball",
		x: 120,
		y: 202,
		rotation: 0
	},
	{
		type: "ball",
		x: 200,
		y: 193,
		rotation: 0
	}],
	joints: [{
		type: 0,
		point1: {
			x: 297,
			y: 201
		}
	},
	{
		type: 0,
		point1: {
			x: 270,
			y: 204
		}
	},
	{
		type: 0,
		point1: {
			x: 243,
			y: 207
		}
	},
	{
		type: 0,
		point1: {
			x: 216,
			y: 210
		}
	},
	{
		type: 0,
		point1: {
			x: 162,
			y: 216
		}
	},
	{
		type: 0,
		point1: {
			x: 189,
			y: 213
		}
	},
	{
		type: 0,
		point1: {
			x: 135,
			y: 219
		}
	},
	{
		type: 0,
		point1: {
			x: 108,
			y: 222
		}
	},
	{
		type: 0,
		point1: {
			x: 81,
			y: 225
		}
	},
	{
		type: 0,
		point1: {
			x: 54,
			y: 228
		}
	},
	{
		type: 0,
		point1: {
			x: 27,
			y: 231
		}
	}]
},
{
	background: 1,
	queue: [{
		type: "circle2",
		rotation: 0
	},
	{
		type: "box2",
		rotation: 0
	}],
	objects: [{
		type: "punch2",
		x: 304,
		y: 326,
		rotation: 0
	},
	{
		type: "unit",
		x: 292,
		y: 313,
		rotation: 0
	},
	{
		type: "stick7",
		x: 113,
		y: 280,
		rotation: -0.7
	},
	{
		type: "stick5",
		x: 174,
		y: 316,
		rotation: 0.7500000000000001
	},
	{
		type: "stick5",
		x: 293,
		y: 364,
		rotation: 0
	},
	{
		type: "punch_button",
		x: 44,
		y: 334,
		rotation: 0
	},
	{
		type: "stick6",
		x: 80,
		y: 275,
		rotation: 1.0000000000000002
	},
	{
		type: "stick6",
		x: 55,
		y: 221,
		rotation: 1.3000000000000005
	},
	{
		type: "stick6",
		x: 21,
		y: 186,
		rotation: 0
	},
	{
		type: "stick8",
		x: 117,
		y: 194,
		rotation: 0
	},
	{
		type: "circle4",
		x: 125,
		y: 249,
		rotation: 0
	},
	{
		type: "stick6",
		x: 28,
		y: 345,
		rotation: 0
	}],
	joints: []
},
{
	background: 2,
	queue: [{
		type: "box2",
		rotation: 0
	},
	{
		type: "circle4",
		rotation: 0
	}],
	objects: [{
		type: "stick6",
		x: 160,
		y: 184,
		rotation: 0
	},
	{
		type: "cross2",
		x: 160,
		y: 275,
		rotation: 0
	},
	{
		type: "stick3",
		x: 151,
		y: 408,
		rotation: 0
	},
	{
		type: "unit",
		x: 172,
		y: 389,
		rotation: 0
	},
	{
		type: "stick6",
		x: 302,
		y: 205,
		rotation: -0.7853981633974483
	},
	{
		type: "stick7",
		x: 5,
		y: 378,
		rotation: 1.5707963267948966
	},
	{
		type: "stick7",
		x: 20,
		y: 353,
		rotation: 0
	},
	{
		type: "stick7",
		x: 53,
		y: 402,
		rotation: 0.3
	},
	{
		type: "stick7",
		x: 18,
		y: 397,
		rotation: 0
	},
	{
		type: "stick5",
		x: -8,
		y: 189,
		rotation: 0.7853981633974483
	},
	{
		type: "stick6",
		x: 14,
		y: 240,
		rotation: 0
	},
	{
		type: "stick7",
		x: 250,
		y: 274,
		rotation: -1.1500000000000004
	},
	{
		type: "stick6",
		x: 258,
		y: 229,
		rotation: 1.5707963267948966
	},
	{
		type: "stick7",
		x: 271,
		y: 213,
		rotation: 0.7853981633974483
	},
	{
		type: "stick5",
		x: 297,
		y: 425,
		rotation: 0.25
	},
	{
		type: "stick5",
		x: 308,
		y: 293,
		rotation: 0
	},
	{
		type: "stick8",
		x: 193,
		y: 189,
		rotation: 0.7853981633974483
	},
	{
		type: "stick8",
		x: 126,
		y: 189,
		rotation: -0.7853981633974483
	}],
	joints: [{
		type: 0,
		point1: {
			x: 160,
			y: 310
		}
	}]
},
{
	background: 3,
	queue: [{
		type: "circle2",
		rotation: 0
	},
	{
		type: "circle2",
		rotation: 0
	},
	{
		type: "circle4",
		rotation: 0
	},
	{
		type: "circle4",
		rotation: 0
	}],
	objects: [{
		type: "unit",
		x: 190,
		y: 381,
		rotation: 0
	},
	{
		type: "unit",
		x: 161,
		y: 381,
		rotation: 0
	},
	{
		type: "unit",
		x: 130,
		y: 381,
		rotation: 0
	},
	{
		type: "stick5",
		x: 160,
		y: 400,
		rotation: 0
	},
	{
		type: "stick6",
		x: 19,
		y: 249,
		rotation: 0.7853981633974483
	},
	{
		type: "stick7",
		x: 103,
		y: 376,
		rotation: 1.5707963267948966
	},
	{
		type: "stick7",
		x: 216,
		y: 376,
		rotation: 1.5707963267948966
	},
	{
		type: "stick6",
		x: 302,
		y: 249,
		rotation: -0.7853981633974483
	},
	{
		type: "stick7",
		x: 172,
		y: 189,
		rotation: 0.7853981633974483
	},
	{
		type: "stick7",
		x: 260,
		y: 213,
		rotation: 0.7853981633974483
	},
	{
		type: "stick7",
		x: 87,
		y: 213,
		rotation: 0.7853981633974483
	},
	{
		type: "stick7",
		x: 61,
		y: 213,
		rotation: -0.7853981633974483
	},
	{
		type: "stick7",
		x: 237,
		y: 213,
		rotation: -0.7853981633974483
	},
	{
		type: "stick7",
		x: 149,
		y: 189,
		rotation: -0.7853981633974483
	},
	{
		type: "stick5",
		x: 36,
		y: 361,
		rotation: 0
	},
	{
		type: "stick5",
		x: 284,
		y: 361,
		rotation: 0
	},
	{
		type: "stick8",
		x: 217,
		y: 148,
		rotation: 0
	},
	{
		type: "stick8",
		x: 111,
		y: 148,
		rotation: 0
	},
	{
		type: "stick8",
		x: 160,
		y: 275,
		rotation: 0
	}],
	joints: []
},
{
	background: 1,
	queue: [{
		type: "circle4",
		rotation: 0
	},
	{
		type: "ladder",
		rotation: 0
	}],
	objects: [{
		type: "cross1",
		x: 248,
		y: 226,
		rotation: 0
	},
	{
		type: "cross1",
		x: 71,
		y: 227,
		rotation: 0
	},
	{
		type: "stick3",
		x: 80,
		y: 401,
		rotation: 0
	},
	{
		type: "stick3",
		x: 239,
		y: 401,
		rotation: 0
	},
	{
		type: "unit",
		x: 71,
		y: 122,
		rotation: 0
	},
	{
		type: "unit",
		x: 250,
		y: 125,
		rotation: 0
	},
	{
		type: "stick7",
		x: 315,
		y: 375,
		rotation: 1.5707963267948966
	},
	{
		type: "stick1",
		x: 146,
		y: 315,
		rotation: 1.5707963267948966
	},
	{
		type: "stick1",
		x: 170,
		y: 316,
		rotation: 1.5707963267948966
	},
	{
		type: "brick4",
		x: 130,
		y: 389,
		rotation: 0
	},
	{
		type: "brick4",
		x: 186,
		y: 390,
		rotation: 0
	},
	{
		type: "stick7",
		x: 6,
		y: 375,
		rotation: 1.5707963267948966
	}],
	joints: [{
		type: 0,
		point1: {
			x: 248,
			y: 227
		}
	},
	{
		type: 0,
		point1: {
			x: 71,
			y: 229
		}
	}]
},
{
	background: 3,
	queue: [{
		type: "circle4",
		rotation: 0
	},
	{
		type: "corner1",
		rotation: 0
	}],
	objects: [{
		type: "stick3",
		x: 239,
		y: 392,
		rotation: 0
	},
	{
		type: "stick3",
		x: 79,
		y: 392,
		rotation: 0
	},
	{
		type: "unit",
		x: 264,
		y: 284,
		rotation: 0
	},
	{
		type: "stick1",
		x: 222,
		y: 360,
		rotation: 0
	},
	{
		type: "brick3",
		x: 296,
		y: 344,
		rotation: 1.5707963267948966
	},
	{
		type: "brick3",
		x: 149,
		y: 344,
		rotation: 1.5707963267948966
	},
	{
		type: "brick3",
		x: 222,
		y: 375,
		rotation: 1.5707963267948966
	},
	{
		type: "stick7",
		x: 251,
		y: 303,
		rotation: 0
	},
	{
		type: "stick7",
		x: 259,
		y: 232,
		rotation: 0
	},
	{
		type: "stick7",
		x: 332,
		y: 248,
		rotation: 0
	},
	{
		type: "stick7",
		x: 332,
		y: 275,
		rotation: 0
	},
	{
		type: "stick8",
		x: 317,
		y: 261,
		rotation: 1.5707963267948966
	},
	{
		type: "column1",
		x: 17,
		y: 308,
		rotation: 1.5707963267948966
	}],
	joints: []
},
{
	background: 1,
	queue: [{
		type: "ladder",
		rotation: 0
	}],
	objects: [{
		type: "unit",
		x: 266,
		y: 284,
		rotation: 0
	},
	{
		type: "brick4",
		x: 259,
		y: 317,
		rotation: 1.5707963267948966
	},
	{
		type: "brick4",
		x: 272,
		y: 342,
		rotation: 1.5707963267948966
	},
	{
		type: "brick4",
		x: 297,
		y: 273,
		rotation: 1.5707963267948966
	},
	{
		type: "brick4",
		x: 234,
		y: 273,
		rotation: 1.5707963267948966
	},
	{
		type: "brick4",
		x: 272,
		y: 317,
		rotation: 1.5707963267948966
	},
	{
		type: "stick3",
		x: 241,
		y: 359,
		rotation: 0
	},
	{
		type: "stick3",
		x: 81,
		y: 359,
		rotation: 0
	},
	{
		type: "column1",
		x: -15,
		y: 319,
		rotation: 0
	},
	{
		type: "stick8",
		x: 114,
		y: 349,
		rotation: 0
	},
	{
		type: "stick2",
		x: 265,
		y: 302,
		rotation: 0
	},
	{
		type: "brick4",
		x: 259,
		y: 342,
		rotation: 1.5707963267948966
	},
	{
		type: "brick4",
		x: 239,
		y: 292,
		rotation: 0
	},
	{
		type: "brick4",
		x: 291,
		y: 292,
		rotation: 0
	},
	{
		type: "stick6",
		x: 222,
		y: 196,
		rotation: 0
	},
	{
		type: "stick6",
		x: 222,
		y: 227,
		rotation: 0
	}],
	joints: []
},
{
	background: 1,
	queue: [{
		type: "triangle1",
		rotation: 0
	},
	{
		type: "circle3",
		rotation: 0
	}],
	objects: [{
		type: "stick3",
		x: 240,
		y: 408,
		rotation: 0
	},
	{
		type: "ladder",
		x: 231,
		y: 350,
		rotation: 0
	},
	{
		type: "stick2",
		x: 231,
		y: 294,
		rotation: 0
	},
	{
		type: "stick3",
		x: 81,
		y: 408,
		rotation: 0
	},
	{
		type: "brick4",
		x: 204,
		y: 284,
		rotation: 0
	},
	{
		type: "brick4",
		x: 258,
		y: 284,
		rotation: 0
	},
	{
		type: "brick4",
		x: 231,
		y: 284,
		rotation: 0
	},
	{
		type: "brick4",
		x: 258,
		y: 272,
		rotation: 0
	},
	{
		type: "brick4",
		x: 231,
		y: 272,
		rotation: 0
	},
	{
		type: "brick4",
		x: 204,
		y: 272,
		rotation: 0
	},
	{
		type: "brick4",
		x: 204,
		y: 247,
		rotation: 0
	},
	{
		type: "brick4",
		x: 258,
		y: 247,
		rotation: 0
	},
	{
		type: "brick4",
		x: 258,
		y: 259,
		rotation: 0
	},
	{
		type: "brick4",
		x: 204,
		y: 259,
		rotation: 0
	},
	{
		type: "stick2",
		x: 232,
		y: 238,
		rotation: 0
	},
	{
		type: "corner1",
		x: 234,
		y: 228,
		rotation: 0.9500000000000003
	},
	{
		type: "unit",
		x: 89,
		y: 390,
		rotation: 0
	}],
	joints: []
},
{
	background: 2,
	queue: [{
		type: "box1",
		rotation: 0
	},
	{
		type: "circle4",
		rotation: 0
	}],
	objects: [{
		type: "column1",
		x: 50,
		y: 370,
		rotation: 0
	},
	{
		type: "column1",
		x: 100,
		y: 370,
		rotation: 0
	},
	{
		type: "column1",
		x: 148,
		y: 370,
		rotation: 0
	},
	{
		type: "column1",
		x: 198,
		y: 370,
		rotation: 0
	},
	{
		type: "column1",
		x: 246,
		y: 370,
		rotation: 0
	},
	{
		type: "column1",
		x: 295,
		y: 370,
		rotation: 0
	},
	{
		type: "column1",
		x: -1,
		y: 370,
		rotation: 0
	},
	{
		type: "brick4",
		x: 246,
		y: 306,
		rotation: 0
	},
	{
		type: "brick4",
		x: 268,
		y: 264,
		rotation: 1.5707963267948966
	},
	{
		type: "brick4",
		x: 227,
		y: 287,
		rotation: 1.5707963267948966
	},
	{
		type: "brick4",
		x: 227,
		y: 263,
		rotation: 1.5707963267948966
	},
	{
		type: "brick4",
		x: 268,
		y: 288,
		rotation: 1.5707963267948966
	},
	{
		type: "brick4",
		x: 227,
		y: 312,
		rotation: 1.5707963267948966
	},
	{
		type: "brick4",
		x: 246,
		y: 318,
		rotation: 0
	},
	{
		type: "brick4",
		x: 268,
		y: 313,
		rotation: 1.5707963267948966
	},
	{
		type: "unit",
		x: 247,
		y: 286,
		rotation: 0
	},
	{
		type: "brick4",
		x: 227,
		y: 238,
		rotation: 1.5707963267948966
	},
	{
		type: "brick3",
		x: 268,
		y: 240,
		rotation: 1.5707963267948966
	},
	{
		type: "stick2",
		x: 247,
		y: 212,
		rotation: 0
	},
	{
		type: "brick3",
		x: 226,
		y: 220,
		rotation: 0
	},
	{
		type: "brick3",
		x: 267,
		y: 221,
		rotation: 0
	},
	{
		type: "stick5",
		x: 108,
		y: 267,
		rotation: 0.48539816339744807
	},
	{
		type: "stick6",
		x: 20,
		y: 234,
		rotation: 0
	},
	{
		type: "stick6",
		x: 189,
		y: 309,
		rotation: 0.44999999999999996
	}],
	joints: []
},
{
	background: 3,
	queue: [{
		type: "circle2",
		rotation: 0
	},
	{
		type: "triangle1",
		rotation: 0
	}],
	objects: [{
		type: "unit",
		x: 68,
		y: 242,
		rotation: 0
	},
	{
		type: "unit",
		x: 24,
		y: 200,
		rotation: 0
	},
	{
		type: "box2",
		x: 50,
		y: 276,
		rotation: 1.5707963267948966
	},
	{
		type: "corner2",
		x: 101,
		y: 274,
		rotation: -0.25
	},
	{
		type: "girder_mech",
		x: 202,
		y: 278,
		rotation: 0
	},
	{
		type: "girder_button",
		x: 24,
		y: 337,
		rotation: 0
	},
	{
		type: "stick7",
		x: 276,
		y: 316,
		rotation: 1.5707963267948966
	},
	{
		type: "stick7",
		x: 314,
		y: 316,
		rotation: 1.5707963267948966
	},
	{
		type: "stick7",
		x: 295,
		y: 337,
		rotation: 0
	},
	{
		type: "stick7",
		x: 234,
		y: 316,
		rotation: 1.5707963267948966
	},
	{
		type: "stick7",
		x: 215,
		y: 337,
		rotation: 0
	},
	{
		type: "stick7",
		x: 196,
		y: 316,
		rotation: 1.5707963267948966
	},
	{
		type: "stick7",
		x: 157,
		y: 316,
		rotation: 1.5707963267948966
	},
	{
		type: "stick7",
		x: 139,
		y: 337,
		rotation: 0
	},
	{
		type: "stick7",
		x: 119,
		y: 317,
		rotation: 1.5707963267948966
	},
	{
		type: "box1",
		x: 15,
		y: 235,
		rotation: 0
	},
	{
		type: "box2",
		x: -4,
		y: 276,
		rotation: 1.5707963267948966
	},
	{
		type: "stick5",
		x: 18,
		y: 301,
		rotation: 0
	},
	{
		type: "stick8",
		x: 86,
		y: 296,
		rotation: -1.1000000000000003
	},
	{
		type: "stick6",
		x: 21,
		y: 348,
		rotation: 0
	}],
	joints: []
}];